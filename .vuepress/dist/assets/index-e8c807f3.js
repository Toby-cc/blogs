import{O as y,v as m,k as f,l as x,S as k,s as B,r as T,o,c as n,M as L,N as C,u as s,b as t,T as D,A as N,e as i,t as P,a as R,_ as S}from"./app-ab9ebd95.js";import{a as A}from"./useThemeData-019ffeaa.js";import"./Badge.vue_vue_type_style_index_0_lang-4ed993c7.js";import"./Xicons.vue_vue_type_style_index_0_lang-4ed993c7.js";import"./CodeGroup.vue_vue_type_style_index_0_lang-4ed993c7.js";import"./VuePreview.vue_vue_type_style_index_0_lang-4ed993c7.js";import"./CodeGroupItem.vue_vue_type_style_index_0_lang-bc2a43aa.js";function I(){const u=y(),r=A(),l=m(()=>r.value.logo),a=m(()=>u.value.title),c=m(()=>{const e=r.value.password;return e?Array.isArray(e)?e:[e]:[]});return{siteBrandLogo:l,siteBrandTitle:a,sitePassword:c}}function V(u,r){const l=f(""),a=f(null),c=f("Locked"),e=f("请输入密码");return x(l,d=>{d.length===6&&(u.value.includes(k(k(d)))?(c.value="Unlocked",e.value="密码正确，请重稍后！",setTimeout(()=>{r("pass")},600)):(l.value="",e.value="密码错误，请重新输入！"))}),{password:l,passwordRef:a,lockIcon:c,lockText:e,focus:()=>{a.value.focus()}}}const M={class:"password-wrapper"},U={class:"site-info"},X=["src","alt"],b={key:1,class:"site-name"},E={key:0},H={key:0},O={key:0},j={key:0},q={key:0},z={key:0},F=B({__name:"index",emits:["pass"],setup(u,{emit:r}){const{siteBrandLogo:l,siteBrandTitle:a,sitePassword:c}=I(),{password:e,passwordRef:v,lockIcon:d,lockText:w,focus:h}=V(c,r);return(G,p)=>{const g=T("Xicons");return o(),n("div",M,[L(t("input",{maxlength:"6",type:"password",ref_key:"passwordRef",ref:v,"onUpdate:modelValue":p[0]||(p[0]=_=>D(e)?e.value=_:null)},null,512),[[C,s(e)]]),t("div",U,[s(l)?(o(),n("img",{key:0,class:"logo",src:s(N)(s(l)),alt:s(a)},null,8,X)):i("v-if",!0),s(a)?(o(),n("h1",b,P(s(a)),1)):i("v-if",!0)]),t("div",null,[R(g,{icon:s(d),text:s(w)},null,8,["icon","text"])]),t("ul",{class:"password-show",onClick:p[1]||(p[1]=(..._)=>s(h)&&s(h)(..._))},[t("li",null,[s(e).length>0?(o(),n("i",E)):i("v-if",!0)]),t("li",null,[s(e).length>1?(o(),n("i",H)):i("v-if",!0)]),t("li",null,[s(e).length>2?(o(),n("i",O)):i("v-if",!0)]),t("li",null,[s(e).length>3?(o(),n("i",j)):i("v-if",!0)]),t("li",null,[s(e).length>4?(o(),n("i",q)):i("v-if",!0)]),t("li",null,[s(e).length>5?(o(),n("i",z)):i("v-if",!0)])])])}}}),ee=S(F,[["__file","index.vue"]]);export{ee as default};
