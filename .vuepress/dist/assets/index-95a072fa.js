import{K as y,x as m,l as p,m as x,a6 as k,v as B,a as L,o,c as n,Q as T,Y as C,q as s,f as t,a7 as D,B as P,k as i,t as R,b as I,_ as N}from"./app-3f571eaf.js";import{u as S}from"./useThemeData-ec29d4e9.js";import"./Badge.vue_vue_type_style_index_0_lang-4ed993c7.js";import"./Xicons.vue_vue_type_style_index_0_lang-4ed993c7.js";import"./CodeGroup.vue_vue_type_style_index_0_lang-4ed993c7.js";import"./VuePreview.vue_vue_type_style_index_0_lang-4ed993c7.js";import"./CodeGroupItem.vue_vue_type_style_index_0_lang-e8cf8b25.js";function V(){const u=y(),r=S(),a=m(()=>r.value.logo),l=m(()=>u.value.title),c=m(()=>{const e=r.value.password;return e?Array.isArray(e)?e:[e]:[]});return{siteBrandLogo:a,siteBrandTitle:l,sitePassword:c}}function A(u,r){const a=p(""),l=p(null),c=p("Locked"),e=p("请输入密码");return x(a,d=>{d.length===6&&(u.value.includes(k(k(d)))?(c.value="Unlocked",e.value="密码正确，请重稍后！",setTimeout(()=>{r("pass")},600)):(a.value="",e.value="密码错误，请重新输入！"))}),{password:a,passwordRef:l,lockIcon:c,lockText:e,focus:()=>{l.value.focus()}}}const U={class:"password-wrapper"},X={class:"site-info"},b=["src","alt"],q={key:1,class:"site-name"},E={key:0},H={key:0},K={key:0},M={key:0},Q={key:0},Y={key:0},j=B({__name:"index",emits:["pass"],setup(u,{emit:r}){const{siteBrandLogo:a,siteBrandTitle:l,sitePassword:c}=V(),{password:e,passwordRef:v,lockIcon:d,lockText:w,focus:h}=A(c,r);return(z,f)=>{const g=L("Xicons");return o(),n("div",U,[T(t("input",{maxlength:"6",type:"password",ref_key:"passwordRef",ref:v,"onUpdate:modelValue":f[0]||(f[0]=_=>D(e)?e.value=_:null)},null,512),[[C,s(e)]]),t("div",X,[s(a)?(o(),n("img",{key:0,class:"logo",src:s(P)(s(a)),alt:s(l)},null,8,b)):i("v-if",!0),s(l)?(o(),n("h1",q,R(s(l)),1)):i("v-if",!0)]),t("div",null,[I(g,{icon:s(d),text:s(w)},null,8,["icon","text"])]),t("ul",{class:"password-show",onClick:f[1]||(f[1]=(..._)=>s(h)&&s(h)(..._))},[t("li",null,[s(e).length>0?(o(),n("i",E)):i("v-if",!0)]),t("li",null,[s(e).length>1?(o(),n("i",H)):i("v-if",!0)]),t("li",null,[s(e).length>2?(o(),n("i",K)):i("v-if",!0)]),t("li",null,[s(e).length>3?(o(),n("i",M)):i("v-if",!0)]),t("li",null,[s(e).length>4?(o(),n("i",Q)):i("v-if",!0)]),t("li",null,[s(e).length>5?(o(),n("i",Y)):i("v-if",!0)])])])}}}),ee=N(j,[["__file","index.vue"]]);export{ee as default};
