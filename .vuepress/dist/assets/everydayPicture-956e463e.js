import{A as commonjsGlobal,B as getDefaultExportFromCjs,C as getAugmentedNamespace,s as defineComponent,D as provide,l as watch,k as ref,G as useCssVars,v as computed,o as openBlock,c as createElementBlock,F as Fragment,g as renderList,a as createBaseVNode,y as renderSlot,x as normalizeStyle,H as inject,m as onMounted,I as onUnmounted,u as unref,J as getCurrentScope,K as onScopeDispose,r as resolveComponent,L as resolveDirective,h as createBlock,w as withCtx,b as createTextVNode,M as back_default,j as createCommentVNode,d as createVNode,N as upload_default,O as document_add_default,P as withDirectives,n as withModifiers,Q as delete_default,t as toDisplayString,q as ElMessage,E as ElMessageBox,R as nextTick,_ as _export_sfc$1}from"./app-0af0c28d.js";var cosJsSdkV5={exports:{}};(function(module,exports){(function(u,r){module.exports=r()})(commonjsGlobal,function(){return function(o){var u={};function r(t){if(u[t])return u[t].exports;var d=u[t]={i:t,l:!1,exports:{}};return o[t].call(d.exports,d,d.exports,r),d.l=!0,d.exports}return r.m=o,r.c=u,r.d=function(t,d,n){r.o(t,d)||Object.defineProperty(t,d,{enumerable:!0,get:n})},r.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,d){if(d&1&&(t=r(t)),d&8||d&4&&typeof t=="object"&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),d&2&&typeof t!="string")for(var m in t)r.d(n,m,function(R){return t[R]}.bind(null,m));return n},r.n=function(t){var d=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(d,"a",d),d},r.o=function(t,d){return Object.prototype.hasOwnProperty.call(t,d)},r.p="/dist/",r(r.s="./index.js")}({"./index.js":function(o,u,r){var t=r("./src/cos.js");o.exports=t},"./lib/beacon.min.js":function(o,u,r){var t,d,n=r("./node_modules/@babel/runtime/helpers/typeof.js");(function(m,R){n(u)=="object"&&typeof o<"u"?o.exports=R():(t=R,d=typeof t=="function"?t.call(u,r,u,o):t,d!==void 0&&(o.exports=d))})(this,function(){var m=function(v,x){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,P){h.__proto__=P}||function(h,P){for(var V in P)Object.prototype.hasOwnProperty.call(P,V)&&(h[V]=P[V])},m(v,x)},R=function(){return R=Object.assign||function(v){for(var x,h=1,P=arguments.length;h<P;h++)for(var V in x=arguments[h])Object.prototype.hasOwnProperty.call(x,V)&&(v[V]=x[V]);return v},R.apply(this,arguments)};function I(E,v,x,h){return new(x||(x=Promise))(function(P,V){function J(Ce){try{ge(h.next(Ce))}catch(de){V(de)}}function ae(Ce){try{ge(h.throw(Ce))}catch(de){V(de)}}function ge(Ce){var de;Ce.done?P(Ce.value):(de=Ce.value,de instanceof x?de:new x(function(De){De(de)})).then(J,ae)}ge((h=h.apply(E,v||[])).next())})}function i(E,v){var x,h,P,V,J={label:0,sent:function(){if(1&P[0])throw P[1];return P[1]},trys:[],ops:[]};return V={next:ae(0),throw:ae(1),return:ae(2)},typeof Symbol=="function"&&(V[Symbol.iterator]=function(){return this}),V;function ae(ge){return function(Ce){return function(de){if(x)throw new TypeError("Generator is already executing.");for(;J;)try{if(x=1,h&&(P=2&de[0]?h.return:de[0]?h.throw||((P=h.return)&&P.call(h),0):h.next)&&!(P=P.call(h,de[1])).done)return P;switch(h=0,P&&(de=[2&de[0],P.value]),de[0]){case 0:case 1:P=de;break;case 4:return J.label++,{value:de[1],done:!1};case 5:J.label++,h=de[1],de=[0];continue;case 7:de=J.ops.pop(),J.trys.pop();continue;default:if(P=J.trys,!((P=P.length>0&&P[P.length-1])||de[0]!==6&&de[0]!==2)){J=0;continue}if(de[0]===3&&(!P||de[1]>P[0]&&de[1]<P[3])){J.label=de[1];break}if(de[0]===6&&J.label<P[1]){J.label=P[1],P=de;break}if(P&&J.label<P[2]){J.label=P[2],J.ops.push(de);break}P[2]&&J.ops.pop(),J.trys.pop();continue}de=v.call(E,J)}catch(De){de=[6,De],h=0}finally{x=P=0}if(5&de[0])throw de[1];return{value:de[0]?de[1]:void 0,done:!0}}([ge,Ce])}}}var l="__BEACON_",w="__BEACON_deviceId",C="last_report_time",S="sending_event_ids",p="beacon_config",_="beacon_config_request_time",D=function(){function E(){var v=this;this.emit=function(x,h){if(v){var P,V=v.__EventsList[x];if(V!=null&&V.length){V=V.slice();for(var J=0;J<V.length;J++){P=V[J];try{var ae=P.callback.apply(v,[h]);if(P.type===1&&v.remove(x,P.callback),ae===!1)break}catch(ge){throw ge}}}return v}},this.__EventsList={}}return E.prototype.indexOf=function(v,x){for(var h=0;h<v.length;h++)if(v[h].callback===x)return h;return-1},E.prototype.on=function(v,x,h){if(h===void 0&&(h=0),this){var P=this.__EventsList[v];if(P||(P=this.__EventsList[v]=[]),this.indexOf(P,x)===-1){var V={name:v,type:h||0,callback:x};return P.push(V),this}return this}},E.prototype.one=function(v,x){this.on(v,x,1)},E.prototype.remove=function(v,x){if(this){var h=this.__EventsList[v];if(!h)return null;if(!x){try{delete this.__EventsList[v]}catch{}return null}if(h.length){var P=this.indexOf(h,x);h.splice(P,1)}return this}},E}();function N(E,v){for(var x={},h=0,P=Object.keys(E);h<P.length;h++){var V=P[h],J=E[V];if(typeof J=="string")x[T(V)]=T(J);else{if(v)throw new Error("value mast be string  !!!!");x[T(String(V))]=T(String(J))}}return x}function T(E){if(typeof E!="string")return E;try{return E.replace(new RegExp("\\|","g"),"%7C").replace(new RegExp("\\&","g"),"%26").replace(new RegExp("\\=","g"),"%3D").replace(new RegExp("\\+","g"),"%2B")}catch{return""}}function g(E){return String(E.A99)+String(E.A100)}var a=function(){},f=function(){function E(v){var x=this;this.lifeCycle=new D,this.uploadJobQueue=[],this.additionalParams={},this.delayTime=0,this._normalLogPipeline=function(h){if(!h||!h.reduce||!h.length)throw new TypeError("createPipeline 方法需要传入至少有一个 pipe 的数组");return h.length===1?function(P,V){h[0](P,V||a)}:h.reduce(function(P,V){return function(J,ae){return ae===void 0&&(ae=a),P(J,function(ge){return V==null?void 0:V(ge,ae)})}})}([function(h){x.send({url:x.strategy.getUploadUrl(),data:h,method:"post",contentType:"application/json;charset=UTF-8"},function(){var P=x.config.onReportSuccess;typeof P=="function"&&P(JSON.stringify(h.events))},function(){var P=x.config.onReportFail;typeof P=="function"&&P(JSON.stringify(h.events))})}]),function(h,P){if(!h)throw P instanceof Error?P:new Error(P)}(!!v.appkey,"appkey must be initial"),this.config=R({},v)}return E.prototype.onUserAction=function(v,x){this.preReport(v,x,!1)},E.prototype.onDirectUserAction=function(v,x){this.preReport(v,x,!0)},E.prototype.preReport=function(v,x,h){v?this.strategy.isEventUpOnOff()&&(this.strategy.isBlackEvent(v)||this.strategy.isSampleEvent(v)||this.onReport(v,x,h)):this.errorReport.reportError("602"," no eventCode")},E.prototype.addAdditionalParams=function(v){for(var x=0,h=Object.keys(v);x<h.length;x++){var P=h[x];this.additionalParams[P]=v[P]}},E.prototype.setChannelId=function(v){this.commonInfo.channelID=String(v)},E.prototype.setOpenId=function(v){this.commonInfo.openid=String(v)},E.prototype.setUnionid=function(v){this.commonInfo.unid=String(v)},E.prototype.getDeviceId=function(){return this.commonInfo.deviceId},E.prototype.getCommonInfo=function(){return this.commonInfo},E.prototype.removeSendingId=function(v){try{var x=JSON.parse(this.storage.getItem(S)),h=x.indexOf(v);h!=-1&&(x.splice(h,1),this.storage.setItem(S,JSON.stringify(x)))}catch{}},E}(),H=function(){function E(v,x,h,P){this.requestParams={},this.network=P,this.requestParams.attaid="00400014144",this.requestParams.token="6478159937",this.requestParams.product_id=v.appkey,this.requestParams.platform=h,this.requestParams.uin=x.deviceId,this.requestParams.model="",this.requestParams.os=h,this.requestParams.app_version=v.appVersion,this.requestParams.sdk_version=x.sdkVersion,this.requestParams.error_stack="",this.uploadUrl=v.isOversea?"https://htrace.wetvinfo.com/kv":"https://h.trace.qq.com/kv"}return E.prototype.reportError=function(v,x){this.requestParams._dc=Math.random(),this.requestParams.error_msg=x,this.requestParams.error_code=v,this.network.get(this.uploadUrl,{params:this.requestParams}).catch(function(h){})},E}(),c=function(){function E(v,x,h,P,V){this.strategy={isEventUpOnOff:!0,httpsUploadUrl:"https://otheve.beacon.qq.com/analytics/v2_upload",requestInterval:30,blacklist:[],samplelist:[]},this.realSample={},this.appkey="",this.needQueryConfig=!0,this.appkey=x.appkey,this.storage=P,this.needQueryConfig=v;try{var J=JSON.parse(this.storage.getItem(p));J&&this.processData(J)}catch{}x.isOversea&&(this.strategy.httpsUploadUrl="https://svibeacon.onezapp.com/analytics/v2_upload"),!x.isOversea&&this.needRequestConfig()&&this.requestConfig(x.appVersion,h,V)}return E.prototype.requestConfig=function(v,x,h){var P=this;this.storage.setItem(_,Date.now().toString()),h.post("https://oth.str.beacon.qq.com/trpc.beacon.configserver.BeaconConfigService/QueryConfig",{platformId:typeof wx>"u"?"3":"4",mainAppKey:this.appkey,appVersion:v,sdkVersion:x.sdkVersion,osVersion:x.userAgent,model:"",packageName:"",params:{A3:x.deviceId}}).then(function(V){if(V.data.ret==0)try{var J=JSON.parse(V.data.beaconConfig);J&&(P.processData(J),P.storage.setItem(p,V.data.beaconConfig))}catch{}else P.processData(null),P.storage.setItem(p,"")}).catch(function(V){})},E.prototype.processData=function(v){var x,h,P,V,J;this.strategy.isEventUpOnOff=(x=v==null?void 0:v.isEventUpOnOff)!==null&&x!==void 0?x:this.strategy.isEventUpOnOff,this.strategy.httpsUploadUrl=(h=v==null?void 0:v.httpsUploadUrl)!==null&&h!==void 0?h:this.strategy.httpsUploadUrl,this.strategy.requestInterval=(P=v==null?void 0:v.requestInterval)!==null&&P!==void 0?P:this.strategy.requestInterval,this.strategy.blacklist=(V=v==null?void 0:v.blacklist)!==null&&V!==void 0?V:this.strategy.blacklist,this.strategy.samplelist=(J=v==null?void 0:v.samplelist)!==null&&J!==void 0?J:this.strategy.samplelist;for(var ae=0,ge=this.strategy.samplelist;ae<ge.length;ae++){var Ce=ge[ae].split(",");Ce.length==2&&(this.realSample[Ce[0]]=Ce[1])}},E.prototype.needRequestConfig=function(){if(!this.needQueryConfig)return!1;var v=Number(this.storage.getItem(_));return Date.now()-v>60*this.strategy.requestInterval*1e3},E.prototype.getUploadUrl=function(){return this.strategy.httpsUploadUrl+"?appkey="+this.appkey},E.prototype.isBlackEvent=function(v){return this.strategy.blacklist.indexOf(v)!=-1},E.prototype.isEventUpOnOff=function(){return this.strategy.isEventUpOnOff},E.prototype.isSampleEvent=function(v){return!!Object.prototype.hasOwnProperty.call(this.realSample,v)&&this.realSample[v]<Math.floor(Math.random()*Math.floor(1e4))},E}(),q="session_storage_key",K=function(){function E(v,x,h){this.getSessionStackDepth=0,this.beacon=h,this.storage=v,this.duration=x,this.appkey=h.config.appkey}return E.prototype.getSession=function(){this.getSessionStackDepth+=1;var v=this.storage.getItem(q);if(!v)return this.createSession();var x="",h=0;try{var P=JSON.parse(v)||{sessionId:void 0,sessionStart:void 0};if(!P.sessionId||!P.sessionStart)return this.createSession();var V=Number(this.storage.getItem(C));if(Date.now()-V>this.duration)return this.createSession();x=P.sessionId,h=P.sessionStart,this.getSessionStackDepth=0}catch{}return{sessionId:x,sessionStart:h}},E.prototype.createSession=function(){var v=Date.now(),x={sessionId:this.appkey+"_"+v.toString(),sessionStart:v};this.storage.setItem(q,JSON.stringify(x)),this.storage.setItem(C,v.toString());var h="is_new_user",P=this.storage.getItem(h);return this.getSessionStackDepth<=1&&this.beacon.onDirectUserAction("rqd_applaunched",{A21:P?"N":"Y"}),this.storage.setItem(h,JSON.stringify(!1)),x},E}();function A(){var E=navigator.userAgent,v=E.indexOf("compatible")>-1&&E.indexOf("MSIE")>-1,x=E.indexOf("Edge")>-1&&!v,h=E.indexOf("Trident")>-1&&E.indexOf("rv:11.0")>-1;if(v){new RegExp("MSIE (\\d+\\.\\d+);").test(E);var P=parseFloat(RegExp.$1);return P==7?7:P==8?8:P==9?9:P==10?10:6}return x?-2:h?11:-1}function F(E,v){var x,h;return(x="https://tun-cos-1258344701.file.myqcloud.com/fp.js",h===void 0&&(h=Date.now()+"-"+Math.random()),new Promise(function(P,V){if(document.getElementById(h))P(void 0);else{var J=document.getElementsByTagName("head")[0],ae=document.createElement("script");ae.onload=function(){return function(){ae.onload=null,P(void 0)}},ae.onerror=function(ge){ae.onerror=null,J.removeChild(ae),V(ge)},ae.src=x,ae.id=h,J.appendChild(ae)}})).then(function(){new Fingerprint().getQimei36(E,v)}).catch(function(P){}),""}var O=function(){return(O=Object.assign||function(v){for(var x,h=1,P=arguments.length;h<P;h++)for(var V in x=arguments[h])Object.prototype.hasOwnProperty.call(x,V)&&(v[V]=x[V]);return v}).apply(this,arguments)},L,$=function(){function E(v,x){x===void 0&&(x={}),this.reportOptions={},this.config=v,this.reportOptions=x}return E.canUseDB=function(){return!!(window!=null&&window.indexedDB)},E.prototype.openDB=function(){var v=this;return new Promise(function(x,h){if(!E.canUseDB())return h({message:"当前不支持 indexeddb"});var P=v.config,V=P.name,J=P.version,ae=P.stores,ge=indexedDB.open(V,J);ge.onsuccess=function(){v.db=ge.result,x(),O({result:1,func:"open",params:JSON.stringify(v.config)},v.reportOptions)},ge.onerror=function(Ce){var de,De;h(Ce),O({result:0,func:"open",params:JSON.stringify(v.config),error_msg:(De=(de=Ce.target)===null||de===void 0?void 0:de.error)===null||De===void 0?void 0:De.message},v.reportOptions)},ge.onupgradeneeded=function(){v.db=ge.result;try{ae==null||ae.forEach(function(Ce){v.createStore(Ce)})}catch(Ce){O({result:0,func:"open",params:JSON.stringify(v.config),error_msg:Ce.message},v.reportOptions),h(Ce)}}})},E.prototype.useStore=function(v){return this.storeName=v,this},E.prototype.deleteDB=function(){var v=this;return this.closeDB(),new Promise(function(x,h){var P=indexedDB.deleteDatabase(v.config.name);P.onsuccess=function(){return x()},P.onerror=h})},E.prototype.closeDB=function(){var v;(v=this.db)===null||v===void 0||v.close(),this.db=null},E.prototype.getStoreCount=function(){var v=this;return new Promise(function(x,h){var P=v.getStore("readonly").count();P.onsuccess=function(){return x(P.result)},P.onerror=h})},E.prototype.clearStore=function(){var v=this;return new Promise(function(x,h){var P=v.getStore("readwrite").clear();P.onsuccess=function(){return x()},P.onerror=h})},E.prototype.add=function(v,x){var h=this;return new Promise(function(P,V){var J=h.getStore("readwrite").add(v,x);J.onsuccess=function(){P(J.result)},J.onerror=V})},E.prototype.put=function(v,x){var h=this;return new Promise(function(P,V){var J=h.getStore("readwrite").put(v,x);J.onsuccess=function(){P(J.result)},J.onerror=V})},E.prototype.getStoreAllData=function(){var v=this;return new Promise(function(x,h){var P=v.getStore("readonly").openCursor(),V=[];P.onsuccess=function(){var J;if(!((J=P.result)===null||J===void 0)&&J.value){var ae=P.result.value;V.push(ae),P.result.continue()}else x(V)},P.onerror=h})},E.prototype.getDataRangeByIndex=function(v,x,h,P,V){var J=this;return new Promise(function(ae,ge){var Ce=J.getStore().index(v),de=IDBKeyRange.bound(x,h,P,V),De=[],_e=Ce.openCursor(de);_e.onsuccess=function(){var Ue;!((Ue=_e==null?void 0:_e.result)===null||Ue===void 0)&&Ue.value?(De.push(_e==null?void 0:_e.result.value),_e==null||_e.result.continue()):ae(De)},_e.onerror=ge})},E.prototype.removeDataByIndex=function(v,x,h,P,V){var J=this;return new Promise(function(ae,ge){var Ce=J.getStore("readwrite").index(v),de=IDBKeyRange.bound(x,h,P,V),De=Ce.openCursor(de),_e=0;De.onsuccess=function(Ue){var He=Ue.target.result;He?(_e+=1,He.delete(),He.continue()):ae(_e)},De.onerror=ge})},E.prototype.createStore=function(v){var x=v.name,h=v.indexes,P=h===void 0?[]:h,V=v.options;if(this.db){this.db.objectStoreNames.contains(x)&&this.db.deleteObjectStore(x);var J=this.db.createObjectStore(x,V);P.forEach(function(ae){J.createIndex(ae.indexName,ae.keyPath,ae.options)})}},E.prototype.getStore=function(v){var x;return v===void 0&&(v="readonly"),(x=this.db)===null||x===void 0?void 0:x.transaction(this.storeName,v).objectStore(this.storeName)},E}(),Y="event_table_v3",re="eventId",se=function(){function E(v){this.isReady=!1,this.taskQueue=Promise.resolve(),this.db=new $({name:"Beacon_"+v+"_V3",version:1,stores:[{name:Y,options:{keyPath:re},indexes:[{indexName:re,keyPath:re,options:{unique:!0}}]}]}),this.open()}return E.prototype.getCount=function(){var v=this;return this.readyExec(function(){return v.db.getStoreCount()})},E.prototype.setItem=function(v,x){var h=this;return this.readyExec(function(){return h.db.add({eventId:v,value:x})})},E.prototype.getItem=function(v){return I(this,void 0,void 0,function(){var x=this;return i(this,function(h){return[2,this.readyExec(function(){return x.db.getDataRangeByIndex(re,v,v)})]})})},E.prototype.removeItem=function(v){var x=this;return this.readyExec(function(){return x.db.removeDataByIndex(re,v,v)})},E.prototype.updateItem=function(v,x){var h=this;return this.readyExec(function(){return h.db.put({eventId:v,value:x})})},E.prototype.iterate=function(v){var x=this;return this.readyExec(function(){return x.db.getStoreAllData().then(function(h){h.forEach(function(P){v(P.value)})})})},E.prototype.open=function(){return I(this,void 0,void 0,function(){var v=this;return i(this,function(x){switch(x.label){case 0:return this.taskQueue=this.taskQueue.then(function(){return v.db.openDB()}),[4,this.taskQueue];case 1:return x.sent(),this.isReady=!0,this.db.useStore(Y),[2]}})})},E.prototype.readyExec=function(v){return this.isReady?v():(this.taskQueue=this.taskQueue.then(function(){return v()}),this.taskQueue)},E}(),ue=function(){function E(v){this.keyObject={},this.storage=v}return E.prototype.getCount=function(){return this.storage.getStoreCount()},E.prototype.removeItem=function(v){this.storage.removeItem(v),delete this.keyObject[v]},E.prototype.setItem=function(v,x){var h=JSON.stringify(x);this.storage.setItem(v,h),this.keyObject[v]=x},E.prototype.iterate=function(v){for(var x=Object.keys(this.keyObject),h=0;h<x.length;h++){var P=this.storage.getItem(x[h]);v(JSON.parse(P))}},E}(),ce=function(){function E(v,x){var h=this;this.dbEventCount=0,A()>0||!window.indexedDB||/X5Lite/.test(navigator.userAgent)?(this.store=new ue(x),this.dbEventCount=this.store.getCount()):(this.store=new se(v),this.getCount().then(function(P){h.dbEventCount=P}).catch(function(P){}))}return E.prototype.getCount=function(){return I(this,void 0,void 0,function(){return i(this,function(v){switch(v.label){case 0:return v.trys.push([0,2,,3]),[4,this.store.getCount()];case 1:return[2,v.sent()];case 2:return v.sent(),[2,Promise.reject()];case 3:return[2]}})})},E.prototype.insertEvent=function(v,x){return I(this,void 0,void 0,function(){var h,P;return i(this,function(V){switch(V.label){case 0:if(this.dbEventCount>=1e4)return[2,Promise.reject()];h=g(v.mapValue),V.label=1;case 1:return V.trys.push([1,3,,4]),this.dbEventCount++,[4,this.store.setItem(h,v)];case 2:return[2,V.sent()];case 3:return P=V.sent(),x&&x(P,v),this.dbEventCount--,[2,Promise.reject()];case 4:return[2]}})})},E.prototype.getEvents=function(){return I(this,void 0,void 0,function(){var v;return i(this,function(x){switch(x.label){case 0:v=[],x.label=1;case 1:return x.trys.push([1,3,,4]),[4,this.store.iterate(function(h){v.push(h)})];case 2:return x.sent(),[2,Promise.all(v)];case 3:return x.sent(),[2,Promise.all(v)];case 4:return[2]}})})},E.prototype.removeEvent=function(v){return I(this,void 0,void 0,function(){var x;return i(this,function(h){switch(h.label){case 0:x=g(v.mapValue),h.label=1;case 1:return h.trys.push([1,3,,4]),this.dbEventCount--,[4,this.store.removeItem(x)];case 2:return[2,h.sent()];case 3:return h.sent(),this.dbEventCount++,[2,Promise.reject()];case 4:return[2]}})})},E}(),oe=function(){return(oe=Object.assign||function(v){for(var x,h=1,P=arguments.length;h<P;h++)for(var V in x=arguments[h])Object.prototype.hasOwnProperty.call(x,V)&&(v[V]=x[V]);return v}).apply(this,arguments)};function X(E){try{return decodeURIComponent(E.replace(/\+/g," "))}catch{return null}}function Q(E,v){var x=[null,void 0,"",NaN].includes(E);if(v.isSkipEmpty&&x)return null;var h=!v.isSkipEmpty&&x?"":E;try{return v.encode?encodeURIComponent(h):h}catch{return null}}function ee(E,v){v===void 0&&(v={encode:!0,isSkipEmpty:!1});var x=E.url,h=E.query,P=h===void 0?{}:h,V=E.hash,J=x.split("#"),ae=J[0],ge=J[1],Ce=ge===void 0?"":ge,de=ae.split("?")[0],De=[],_e=Q(V||Ce,v),Ue=oe(oe({},function(He){var je=He.split("#"),Ve=je[0],Qe=je[1],Xe=Qe===void 0?"":Qe,Le=Ve.split("?"),We=Le[0],$e=Le[1],nt=$e===void 0?"":$e,Ze=X(Xe),et=Object.create(null);return nt.split("&").forEach(function(y){var k=y.split("="),z=k[0],te=k[1],xe=te===void 0?"":te,Ae=X(z),Me=X(xe);Ae===null||Me===null||Ae===""&&Me===""||et[Ae]||(et[Ae]=Me)}),{url:We,query:et,hash:Ze}}(x).query),P);return Object.keys(Ue).forEach(function(He){var je=Q(He,v),Ve=Q(Ue[He],v);je!==null&&Ve!==null&&De.push(je+"="+Ve)}),de+(De.length?"?"+De.join("&"):"")+(_e?"#"+_e:"")}function G(E,v){return new Promise(function(x,h){if(v&&document.querySelectorAll("script[data-tag="+v+"]").length)return x();var P=document.createElement("script"),V=oe({type:"text/javascript",charset:"utf-8"},E);Object.keys(V).forEach(function(J){return function(ae,ge,Ce){if(ae)return Ce===void 0?ae.getAttribute(ge):ae.setAttribute(ge,Ce)}(P,J,V[J])}),v&&(P.dataset.tag=v),P.onload=function(){return x()},P.onreadystatechange=function(){var J=P.readyState;["complete","loaded"].includes(J)&&(P.onreadystatechange=null,x())},P.onerror=h,document.body.appendChild(P)})}(function(E){E[E.equal=0]="equal",E[E.low=-1]="low",E[E.high=1]="high"})(L||(L={}));var ie=function(){return(ie=Object.assign||function(v){for(var x,h=1,P=arguments.length;h<P;h++)for(var V in x=arguments[h])Object.prototype.hasOwnProperty.call(x,V)&&(v[V]=x[V]);return v}).apply(this,arguments)};function he(E,v,x,h){return new(x||(x=Promise))(function(P,V){function J(Ce){try{ge(h.next(Ce))}catch(de){V(de)}}function ae(Ce){try{ge(h.throw(Ce))}catch(de){V(de)}}function ge(Ce){var de;Ce.done?P(Ce.value):(de=Ce.value,de instanceof x?de:new x(function(De){De(de)})).then(J,ae)}ge((h=h.apply(E,v||[])).next())})}function ye(E,v){var x,h,P,V,J={label:0,sent:function(){if(1&P[0])throw P[1];return P[1]},trys:[],ops:[]};return V={next:ae(0),throw:ae(1),return:ae(2)},typeof Symbol=="function"&&(V[Symbol.iterator]=function(){return this}),V;function ae(ge){return function(Ce){return function(de){if(x)throw new TypeError("Generator is already executing.");for(;J;)try{if(x=1,h&&(P=2&de[0]?h.return:de[0]?h.throw||((P=h.return)&&P.call(h),0):h.next)&&!(P=P.call(h,de[1])).done)return P;switch(h=0,P&&(de=[2&de[0],P.value]),de[0]){case 0:case 1:P=de;break;case 4:return J.label++,{value:de[1],done:!1};case 5:J.label++,h=de[1],de=[0];continue;case 7:de=J.ops.pop(),J.trys.pop();continue;default:if(!((P=(P=J.trys).length>0&&P[P.length-1])||de[0]!==6&&de[0]!==2)){J=0;continue}if(de[0]===3&&(!P||de[1]>P[0]&&de[1]<P[3])){J.label=de[1];break}if(de[0]===6&&J.label<P[1]){J.label=P[1],P=de;break}if(P&&J.label<P[2]){J.label=P[2],J.ops.push(de);break}P[2]&&J.ops.pop(),J.trys.pop();continue}de=v.call(E,J)}catch(De){de=[6,De],h=0}finally{x=P=0}if(5&de[0])throw de[1];return{value:de[0]?de[1]:void 0,done:!0}}([ge,Ce])}}}var fe=function(){function E(){this.interceptors=[]}return E.prototype.use=function(v,x){return this.interceptors.push({resolved:v,rejected:x}),this.interceptors.length-1},E.prototype.traverse=function(v,x){x===void 0&&(x=!1);var h=Promise.resolve(v);return(x?Array.prototype.reduceRight:Array.prototype.reduce).call(this.interceptors,function(P,V){if(V){var J=V.resolved,ae=V.rejected;h=h.then(J,ae)}return P},""),h},E.prototype.eject=function(v){this.interceptors[v]&&(this.interceptors[v]=null)},E}(),me={defaults:{timeout:0,method:"GET",mode:"cors",redirect:"follow",credentials:"same-origin"},headers:{common:{Accept:"application/json, text/plain, */*"},POST:{"Content-Type":"application/x-www-form-urlencoded"},PUT:{"Content-Type":"application/x-www-form-urlencoded"},PATCH:{"Content-Type":"application/x-www-form-urlencoded"}},baseURL:"",polyfillUrl:"https://vm.gtimg.cn/comps/script/fetch.min.js",interceptors:{request:new fe,response:new fe}},Se=/^([a-z][a-z\d+\-.]*:)?\/\//i,Re=Object.prototype.toString;function Ee(E){return he(this,void 0,void 0,function(){var v;return ye(this,function(x){switch(x.label){case 0:if(window.fetch)return[2];x.label=1;case 1:return x.trys.push([1,3,,4]),[4,G({src:E})];case 2:return x.sent(),[3,4];case 3:throw v=x.sent(),new Error("加载 polyfill "+E+" 失败: "+v.message);case 4:return[2]}})})}function ke(E){return["Accept","Content-Type"].forEach(function(v){return x=v,void((h=E.headers)&&Object.keys(h).forEach(function(P){P!==x&&P.toUpperCase()===x.toUpperCase()&&(h[x]=h[P],delete h[P])}));var x,h}),function(v){if(Re.call(v)!=="[object Object]")return!1;var x=Object.getPrototypeOf(v);return x===null||x===Object.prototype}(E.body)&&(E.body=JSON.stringify(E.body),E.headers&&(E.headers["Content-Type"]="application/json;charset=utf-8")),E}function be(E){return he(this,void 0,void 0,function(){var v,x,h,P,V,J,ae,ge,Ce,de,De,_e,Ue,He,je,Ve,Qe;return ye(this,function(Xe){switch(Xe.label){case 0:return v=me.baseURL,x=me.defaults,h=me.interceptors,[4,Ee(me.polyfillUrl)];case 1:return Xe.sent(),(P=ie(ie({},x),E)).headers||(P.headers=function(Le){Le===void 0&&(Le="GET");var We=me.headers[Le]||{};return ie(ie({},me.headers.common),We)}(P.method)),ke(P),[4,h.request.traverse(P,!0)];case 2:if((V=Xe.sent())instanceof Error)throw V;return V.url=function(Le,We){return!Le||Se.test(We)?We:Le.replace(/\/+$/,"")+"/"+We.replace(/^\/+/,"")}(v,V.url),J=V.url,ae=V.timeout,ge=V.params,Ce=V.method,de=["GET","DELETE","OPTIONS","HEAD"].includes(Ce===void 0?"GET":Ce)&&!!ge,De=de?ee({url:J,query:ge}):J,_e=[],ae&&!V.signal&&(je=new Promise(function(Le){Ue=setTimeout(function(){Le(new Error("timeout"))},ae)}),_e.push(je),He=new AbortController,V.signal=He.signal),_e.push(fetch(De,V).catch(function(Le){return Le})),[4,Promise.race(_e)];case 3:return Ve=Xe.sent(),Ue&&clearTimeout(Ue),[4,h.response.traverse(Ve)];case 4:if((Qe=Xe.sent())instanceof Error)throw He==null||He.abort(),Qe;return[2,Qe]}})})}var Te=function(){function E(v){me.interceptors.request.use(function(x){var h=x.url,P=x.method,V=x.body,J=V;if(v.onReportBeforeSend){var ae=v.onReportBeforeSend({url:h,method:P,data:V?JSON.parse(V):null});J=ae!=null&&ae.data?JSON.stringify(ae.data):null}return P!="GET"&&J?R(R({},x),{body:J}):x})}return E.prototype.get=function(v,x){return I(this,void 0,void 0,function(){var h,P;return i(this,function(V){switch(V.label){case 0:return[4,be(R({url:v},x))];case 1:return[4,(h=V.sent()).json()];case 2:return P=V.sent(),[2,Promise.resolve({data:P,status:h.status,statusText:h.statusText,headers:h.headers})]}})})},E.prototype.post=function(v,x,h){return I(this,void 0,void 0,function(){var P,V;return i(this,function(J){switch(J.label){case 0:return[4,be(R({url:v,body:x,method:"POST"},h))];case 1:return[4,(P=J.sent()).json()];case 2:return V=J.sent(),[2,Promise.resolve({data:V,status:P.status,statusText:P.statusText,headers:P.headers})]}})})},E}(),ve=function(){function E(v){this.appkey=v}return E.prototype.getItem=function(v){try{return window.localStorage.getItem(this.getStoreKey(v))}catch{return""}},E.prototype.removeItem=function(v){try{window.localStorage.removeItem(this.getStoreKey(v))}catch{}},E.prototype.setItem=function(v,x){try{window.localStorage.setItem(this.getStoreKey(v),x)}catch{}},E.prototype.setSessionItem=function(v,x){try{window.sessionStorage.setItem(this.getStoreKey(v),x)}catch{}},E.prototype.getSessionItem=function(v){try{return window.sessionStorage.getItem(this.getStoreKey(v))}catch{return""}},E.prototype.getStoreKey=function(v){return l+this.appkey+"_"+v},E.prototype.createDeviceId=function(){try{var v=window.localStorage.getItem(w);return v||(v=function(x){for(var h="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789",P="",V=0;V<x;V++)P+=h.charAt(Math.floor(Math.random()*h.length));return P}(32),window.localStorage.setItem(w,v)),v}catch{return""}},E.prototype.clear=function(){try{for(var v=window.localStorage.length,x=0;x<v;x++){var h=window.localStorage.key(x);(h==null?void 0:h.substr(0,9))==l&&window.localStorage.removeItem(h)}}catch{}},E.prototype.getStoreCount=function(){var v=0;try{v=window.localStorage.length}catch{}return v},E}(),W="logid_start",ne="4.5.14-web";return function(E){function v(x){var h=E.call(this,x)||this;h.qimei36="",h.uselessCycleTaskNum=0,h.underWeakNet=!1,h.pauseSearching=!1,h.send=function(ae,ge,Ce){h.storage.setItem(C,Date.now().toString()),h.network.post(h.uploadUrl||h.strategy.getUploadUrl(),ae.data).then(function(de){var De;((De=de==null?void 0:de.data)===null||De===void 0?void 0:De.result)==100?h.delayTime=1e3*de.data.delayTime:h.delayTime=0,ge&&ge(ae.data),ae.data.events.forEach(function(_e){h.store.removeEvent(_e).then(function(){h.removeSendingId(g(_e.mapValue))})}),h.doCustomCycleTask()}).catch(function(de){var De=ae.data.events;h.errorReport.reportError(de.code?de.code.toString():"600",de.message),Ce&&Ce(ae.data);var _e=JSON.parse(h.storage.getItem(S));De.forEach(function(Ue){_e&&_e.indexOf(g(Ue))!=-1&&h.store.insertEvent(Ue,function(He,je){He&&h.errorReport.reportError("604","insertEvent fail!")}),h.removeSendingId(g(Ue))}),h.monitorUploadFailed()})};var P,V,J=A();return h.isUnderIE8=J>0&&J<8,h.isUnderIE8||(h.isUnderIE=J>0,x.needInitQimei&&F(x.appkey,function(ae){h.qimei36=ae.q36}),h.network=new Te(x),h.storage=new ve(x.appkey),h.initCommonInfo(x),h.store=new ce(x.appkey,h.storage),h.errorReport=new H(h.config,h.commonInfo,"web",h.network),h.strategy=new c(x.needQueryConfig==null||x.needQueryConfig,h.config,h.commonInfo,h.storage,h.network),h.logidStartTime=h.storage.getItem(W),h.logidStartTime||(h.logidStartTime=Date.now().toString(),h.storage.setItem(W,h.logidStartTime)),P=h.logidStartTime,V=Date.now()-Number.parseFloat(P),Math.floor(V/864e5)>=365&&h.storage.clear(),h.initSession(x),h.onDirectUserAction("rqd_js_init",{}),setTimeout(function(){return h.lifeCycle.emit("init")},0),h.initDelayTime=x.delay?x.delay:1e3,h.cycleTask(h.initDelayTime)),h}return function(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function P(){this.constructor=x}m(x,h),x.prototype=h===null?Object.create(h):(P.prototype=h.prototype,new P)}(v,E),v.prototype.initSession=function(x){var h=18e5;x.sessionDuration&&x.sessionDuration>3e4&&(h=x.sessionDuration),this.beaconSession=new K(this.storage,h,this)},v.prototype.initCommonInfo=function(x){var h=Number(this.storage.getItem(C));try{var P=JSON.parse(this.storage.getItem(S));(Date.now()-h>3e4||!P)&&this.storage.setItem(S,JSON.stringify([]))}catch{}x.uploadUrl&&(this.uploadUrl=x.uploadUrl+"?appkey="+x.appkey);var V=[window.screen.width,window.screen.height];window.devicePixelRatio&&V.push(window.devicePixelRatio),this.commonInfo={deviceId:this.storage.createDeviceId(),language:navigator&&navigator.language||"zh_CN",query:window.location.search,userAgent:navigator.userAgent,pixel:V.join("*"),channelID:x.channelID?String(x.channelID):"",openid:x.openid?String(x.openid):"",unid:x.unionid?String(x.unionid):"",sdkVersion:ne},this.config.appVersion=x.versionCode?String(x.versionCode):"",this.config.strictMode=x.strictMode},v.prototype.cycleTask=function(x){var h=this;this.intervalID=window.setInterval(function(){h.pauseSearching||h.store.getEvents().then(function(P){P.length==0&&(h.pauseSearching=!0);var V=[],J=JSON.parse(h.storage.getItem(S));J||(J=[]),P&&P.forEach(function(ae){var ge=g(ae.mapValue);J.indexOf(ge)==-1&&(V.push(ae),J.push(ge))}),V.length!=0&&(h.storage.setItem(S,JSON.stringify(J)),h._normalLogPipeline(h.assembleData(V)))}).catch(function(P){})},x)},v.prototype.onReport=function(x,h,P){var V=this;if(this.isUnderIE8)this.errorReport.reportError("601","UnderIE8");else{this.pauseSearching=!1;var J=this.generateData(x,h,P);if(P&&this.delayTime==0&&!this.underWeakNet)this._normalLogPipeline(this.assembleData(J));else{var ae=J.shift();ae&&this.store.insertEvent(ae,function(ge){ge&&V.errorReport.reportError("604","insertEvent fail!")}).catch(function(ge){V._normalLogPipeline(V.assembleData(J))})}}},v.prototype.onSendBeacon=function(x,h){if(this.isUnderIE)this.errorReport.reportError("605","UnderIE");else{this.pauseSearching=!1;var P=this.assembleData(this.generateData(x,h,!0));typeof navigator.sendBeacon=="function"&&navigator.sendBeacon(this.uploadUrl||this.strategy.getUploadUrl(),JSON.stringify(P))}},v.prototype.generateData=function(x,h,P){var V=[],J="4.5.14-web_"+(P?"direct_log_id":"normal_log_id"),ae=Number(this.storage.getItem(J));return ae=ae||1,h=R(R({},h),{A99:P?"Y":"N",A100:ae.toString(),A72:ne,A88:this.logidStartTime}),ae++,this.storage.setItem(J,ae.toString()),V.push({eventCode:x,eventTime:Date.now().toString(),mapValue:N(h,this.config.strictMode)}),V},v.prototype.assembleData=function(x){var h=this.beaconSession.getSession();return{appVersion:this.config.appVersion?T(this.config.appVersion):"",sdkId:"js",sdkVersion:ne,mainAppKey:this.config.appkey,platformId:3,common:N(R(R({},this.additionalParams),{A2:this.commonInfo.deviceId,A8:this.commonInfo.openid,A12:this.commonInfo.language,A17:this.commonInfo.pixel,A23:this.commonInfo.channelID,A50:this.commonInfo.unid,A76:h.sessionId,A101:this.commonInfo.userAgent,A102:window.location.href,A104:document.referrer,A119:this.commonInfo.query,A153:this.qimei36}),!1),events:x}},v.prototype.monitorUploadFailed=function(){this.uselessCycleTaskNum++,this.uselessCycleTaskNum>=5&&(window.clearInterval(this.intervalID),this.cycleTask(6e4),this.underWeakNet=!0)},v.prototype.doCustomCycleTask=function(){this.uselessCycleTaskNum>=5&&(window.clearInterval(this.intervalID),this.cycleTask(this.initDelayTime)),this.uselessCycleTaskNum=0,this.underWeakNet=!1},v}(f)})},"./lib/crypto.js":function(o,u,r){(function(t){var d=r("./node_modules/@babel/runtime/helpers/typeof.js"),n=n||function(m,R){var I={},i=I.lib={},l=function(){},w=i.Base={extend:function(a){l.prototype=this;var f=new l;return a&&f.mixIn(a),f.hasOwnProperty("init")||(f.init=function(){f.$super.init.apply(this,arguments)}),f.init.prototype=f,f.$super=this,f},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var f in a)a.hasOwnProperty(f)&&(this[f]=a[f]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},C=i.WordArray=w.extend({init:function(a,f){a=this.words=a||[],this.sigBytes=f!=R?f:4*a.length},toString:function(a){return(a||p).stringify(this)},concat:function(a){var f=this.words,H=a.words,c=this.sigBytes;if(a=a.sigBytes,this.clamp(),c%4)for(var q=0;q<a;q++)f[c+q>>>2]|=(H[q>>>2]>>>24-8*(q%4)&255)<<24-8*((c+q)%4);else if(65535<H.length)for(q=0;q<a;q+=4)f[c+q>>>2]=H[q>>>2];else f.push.apply(f,H);return this.sigBytes+=a,this},clamp:function(){var a=this.words,f=this.sigBytes;a[f>>>2]&=4294967295<<32-8*(f%4),a.length=m.ceil(f/4)},clone:function(){var a=w.clone.call(this);return a.words=this.words.slice(0),a},random:function(a){for(var f=[],H=0;H<a;H+=4)f.push(4294967296*m.random()|0);return new C.init(f,a)}}),S=I.enc={},p=S.Hex={stringify:function(a){var f=a.words;a=a.sigBytes;for(var H=[],c=0;c<a;c++){var q=f[c>>>2]>>>24-8*(c%4)&255;H.push((q>>>4).toString(16)),H.push((q&15).toString(16))}return H.join("")},parse:function(a){for(var f=a.length,H=[],c=0;c<f;c+=2)H[c>>>3]|=parseInt(a.substr(c,2),16)<<24-4*(c%8);return new C.init(H,f/2)}},_=S.Latin1={stringify:function(a){var f=a.words;a=a.sigBytes;for(var H=[],c=0;c<a;c++)H.push(String.fromCharCode(f[c>>>2]>>>24-8*(c%4)&255));return H.join("")},parse:function(a){for(var f=a.length,H=[],c=0;c<f;c++)H[c>>>2]|=(a.charCodeAt(c)&255)<<24-8*(c%4);return new C.init(H,f)}},D=S.Utf8={stringify:function(a){try{return decodeURIComponent(escape(_.stringify(a)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(a){return _.parse(unescape(encodeURIComponent(a)))}},N=i.BufferedBlockAlgorithm=w.extend({reset:function(){this._data=new C.init,this._nDataBytes=0},_append:function(a){typeof a=="string"&&(a=D.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(a){var f=this._data,H=f.words,c=f.sigBytes,q=this.blockSize,K=c/(4*q),K=a?m.ceil(K):m.max((K|0)-this._minBufferSize,0);if(a=K*q,c=m.min(4*a,c),a){for(var A=0;A<a;A+=q)this._doProcessBlock(H,A);A=H.splice(0,a),f.sigBytes-=c}return new C.init(A,c)},clone:function(){var a=w.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});i.Hasher=N.extend({cfg:w.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){N.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(f,H){return new a.init(H).finalize(f)}},_createHmacHelper:function(a){return function(f,H){return new T.HMAC.init(a,H).finalize(f)}}});var T=I.algo={};return I}(Math);(function(){var m=n,l=m.lib,R=l.WordArray,I=l.Hasher,i=[],l=m.algo.SHA1=I.extend({_doReset:function(){this._hash=new R.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(C,S){for(var p=this._hash.words,_=p[0],D=p[1],N=p[2],T=p[3],g=p[4],a=0;80>a;a++){if(16>a)i[a]=C[S+a]|0;else{var f=i[a-3]^i[a-8]^i[a-14]^i[a-16];i[a]=f<<1|f>>>31}f=(_<<5|_>>>27)+g+i[a],f=20>a?f+((D&N|~D&T)+1518500249):40>a?f+((D^N^T)+1859775393):60>a?f+((D&N|D&T|N&T)-1894007588):f+((D^N^T)-899497514),g=T,T=N,N=D<<30|D>>>2,D=_,_=f}p[0]=p[0]+_|0,p[1]=p[1]+D|0,p[2]=p[2]+N|0,p[3]=p[3]+T|0,p[4]=p[4]+g|0},_doFinalize:function(){var C=this._data,S=C.words,p=8*this._nDataBytes,_=8*C.sigBytes;return S[_>>>5]|=128<<24-_%32,S[(_+64>>>9<<4)+14]=Math.floor(p/4294967296),S[(_+64>>>9<<4)+15]=p,C.sigBytes=4*S.length,this._process(),this._hash},clone:function(){var C=I.clone.call(this);return C._hash=this._hash.clone(),C}});m.SHA1=I._createHelper(l),m.HmacSHA1=I._createHmacHelper(l)})(),function(){var m=n,R=m.enc.Utf8;m.algo.HMAC=m.lib.Base.extend({init:function(i,l){i=this._hasher=new i.init,typeof l=="string"&&(l=R.parse(l));var w=i.blockSize,C=4*w;l.sigBytes>C&&(l=i.finalize(l)),l.clamp();for(var S=this._oKey=l.clone(),p=this._iKey=l.clone(),_=S.words,D=p.words,N=0;N<w;N++)_[N]^=1549556828,D[N]^=909522486;S.sigBytes=p.sigBytes=C,this.reset()},reset:function(){var i=this._hasher;i.reset(),i.update(this._iKey)},update:function(i){return this._hasher.update(i),this},finalize:function(i){var l=this._hasher;return i=l.finalize(i),l.reset(),l.finalize(this._oKey.clone().concat(i))}})}(),function(){var m=n,R=m.lib,I=R.WordArray,i=m.enc;i.Base64={stringify:function(w){var C=w.words,S=w.sigBytes,p=this._map;w.clamp();for(var _=[],D=0;D<S;D+=3)for(var N=C[D>>>2]>>>24-D%4*8&255,T=C[D+1>>>2]>>>24-(D+1)%4*8&255,g=C[D+2>>>2]>>>24-(D+2)%4*8&255,a=N<<16|T<<8|g,f=0;f<4&&D+f*.75<S;f++)_.push(p.charAt(a>>>6*(3-f)&63));var H=p.charAt(64);if(H)for(;_.length%4;)_.push(H);return _.join("")},parse:function(w){var C=w.length,S=this._map,p=S.charAt(64);if(p){var _=w.indexOf(p);_!=-1&&(C=_)}for(var D=[],N=0,T=0;T<C;T++)if(T%4){var g=S.indexOf(w.charAt(T-1))<<T%4*2,a=S.indexOf(w.charAt(T))>>>6-T%4*2;D[N>>>2]|=(g|a)<<24-N%4*8,N++}return I.create(D,N)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),d(t)==="object"?t.exports=n:window.CryptoJS=n}).call(this,r("./node_modules/webpack/buildin/module.js")(o))},"./lib/json2xml.js":function(o,u,r){var t=r("./node_modules/@babel/runtime/helpers/typeof.js"),d="a-zA-Z_À-ÖØ-öø-ÿͰ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿿、-퟿豈-﷏ﷰ-�",n="-.0-9·̀-ͯ‿⁀",m=new RegExp("^([^"+d+"])|^((x|X)(m|M)(l|L))|([^"+d+n+"])","g"),R=/[^\x09\x0A\x0D\x20-\xFF\x85\xA0-\uD7FF\uE000-\uFDCF\uFDE0-\uFFFD]/gm,I=function(S){var p=[];if(S instanceof Object)for(var _ in S)S.hasOwnProperty(_)&&p.push(_);return p},i=function(S,p){var _=function(N,T,g,a,f){var H=p.indent!==void 0?p.indent:"	",c=p.prettyPrint?`
`+new Array(a).join(H):"";p.removeIllegalNameCharacters&&(N=N.replace(m,"_"));var q=[c,"<",N,g||""];return T&&T.length>0?(q.push(">"),q.push(T),f&&q.push(c),q.push("</"),q.push(N),q.push(">")):q.push("/>"),q.join("")};return function D(N,T,g){var a=t(N);switch((Array.isArray?Array.isArray(N):N instanceof Array)?a="array":N instanceof Date&&(a="date"),a){case"array":var f=[];return N.map(function(K){f.push(D(K,1,g+1))}),p.prettyPrint&&f.push(`
`),f.join("");case"date":return N.toJSON?N.toJSON():N+"";case"object":var H=[];for(var c in N)if(N.hasOwnProperty(c))if(N[c]instanceof Array)for(var q=0;q<N[c].length;q++)N[c].hasOwnProperty(q)&&H.push(_(c,D(N[c][q],0,g+1),null,g+1,I(N[c][q]).length));else H.push(_(c,D(N[c],0,g+1),null,g+1));return p.prettyPrint&&H.length>0&&H.push(`
`),H.join("");case"function":return N();default:return p.escape?w(N):""+N}}(S,0,0)},l=function(S){var p=['<?xml version="1.0" encoding="UTF-8"'];return S&&p.push(' standalone="yes"'),p.push("?>"),p.join("")};function w(C){return(""+C).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(R,"")}o.exports=function(C,S){if(S||(S={xmlHeader:{standalone:!0},prettyPrint:!0,indent:"  ",escape:!0}),typeof C=="string")try{C=JSON.parse(C.toString())}catch{return!1}var p="",_="";S&&(t(S)=="object"?(S.xmlHeader&&(p=l(!!S.xmlHeader.standalone)),typeof S.docType<"u"&&(_="<!DOCTYPE "+S.docType+">")):p=l()),S=S||{};var D=[p,S.prettyPrint&&_?`
`:"",_,i(C,S)];return D.join("").replace(/\n{2,}/g,`
`).replace(/\s+$/g,"")}},"./lib/md5.js":function(module,exports,__webpack_require__){(function(process,global,module){var __WEBPACK_AMD_DEFINE_RESULT__,_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");(function(){var ERROR="input is invalid type",WINDOW=(typeof window>"u"?"undefined":_typeof(window))==="object",root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&(typeof self>"u"?"undefined":_typeof(self))==="object",NODE_JS=!root.JS_MD5_NO_NODE_JS&&(typeof process>"u"?"undefined":_typeof(process))==="object"&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&_typeof(module)==="object"&&module.exports,AMD=__webpack_require__("./node_modules/webpack/buildin/amd-options.js"),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}(root.JS_MD5_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(o){return _typeof(o)==="object"&&o.buffer&&o.buffer.constructor===ArrayBuffer});var createOutputMethod=function(u){return function(r,t){return new Md5(!0).update(r,t)[u]()}},createMethod=function(){var u=createOutputMethod("hex");NODE_JS&&(u=nodeWrap(u)),u.getCtx=u.create=function(){return new Md5},u.update=function(d){return u.create().update(d)};for(var r=0;r<OUTPUT_TYPES.length;++r){var t=OUTPUT_TYPES[r];u[t]=createOutputMethod(t)}return u},nodeWrap=function nodeWrap(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function o(u){if(typeof u=="string")return crypto.createHash("md5").update(u,"utf8").digest("hex");if(u==null)throw ERROR;return u.constructor===ArrayBuffer&&(u=new Uint8Array(u)),Array.isArray(u)||ArrayBuffer.isView(u)||u.constructor===Buffer?crypto.createHash("md5").update(new Buffer(u)).digest("hex"):method(u)};return nodeMethod};function Md5(o){if(o)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var u=new ArrayBuffer(68);this.buffer8=new Uint8Array(u),this.blocks=new Uint32Array(u)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(o,u){if(!this.finalized){for(var r,t=0,d,n=o.length,m=this.blocks,R=this.buffer8;t<n;){if(this.hashed&&(this.hashed=!1,m[0]=m[16],m[16]=m[1]=m[2]=m[3]=m[4]=m[5]=m[6]=m[7]=m[8]=m[9]=m[10]=m[11]=m[12]=m[13]=m[14]=m[15]=0),ARRAY_BUFFER)for(d=this.start;t<n&&d<64;++t)r=o.charCodeAt(t),u||r<128?R[d++]=r:r<2048?(R[d++]=192|r>>6,R[d++]=128|r&63):r<55296||r>=57344?(R[d++]=224|r>>12,R[d++]=128|r>>6&63,R[d++]=128|r&63):(r=65536+((r&1023)<<10|o.charCodeAt(++t)&1023),R[d++]=240|r>>18,R[d++]=128|r>>12&63,R[d++]=128|r>>6&63,R[d++]=128|r&63);else for(d=this.start;t<n&&d<64;++t)r=o.charCodeAt(t),u||r<128?m[d>>2]|=r<<SHIFT[d++&3]:r<2048?(m[d>>2]|=(192|r>>6)<<SHIFT[d++&3],m[d>>2]|=(128|r&63)<<SHIFT[d++&3]):r<55296||r>=57344?(m[d>>2]|=(224|r>>12)<<SHIFT[d++&3],m[d>>2]|=(128|r>>6&63)<<SHIFT[d++&3],m[d>>2]|=(128|r&63)<<SHIFT[d++&3]):(r=65536+((r&1023)<<10|o.charCodeAt(++t)&1023),m[d>>2]|=(240|r>>18)<<SHIFT[d++&3],m[d>>2]|=(128|r>>12&63)<<SHIFT[d++&3],m[d>>2]|=(128|r>>6&63)<<SHIFT[d++&3],m[d>>2]|=(128|r&63)<<SHIFT[d++&3]);this.lastByteIndex=d,this.bytes+=d-this.start,d>=64?(this.start=d-64,this.hash(),this.hashed=!0):this.start=d}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var o=this.blocks,u=this.lastByteIndex;o[u>>2]|=EXTRA[u&3],u>=56&&(this.hashed||this.hash(),o[0]=o[16],o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),o[14]=this.bytes<<3,o[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var o,u,r,t,d,n,m=this.blocks;this.first?(o=m[0]-680876937,o=(o<<7|o>>>25)-271733879<<0,t=(-1732584194^o&2004318071)+m[1]-117830708,t=(t<<12|t>>>20)+o<<0,r=(-271733879^t&(o^-271733879))+m[2]-1126478375,r=(r<<17|r>>>15)+t<<0,u=(o^r&(t^o))+m[3]-1316259209,u=(u<<22|u>>>10)+r<<0):(o=this.h0,u=this.h1,r=this.h2,t=this.h3,o+=(t^u&(r^t))+m[0]-680876936,o=(o<<7|o>>>25)+u<<0,t+=(r^o&(u^r))+m[1]-389564586,t=(t<<12|t>>>20)+o<<0,r+=(u^t&(o^u))+m[2]+606105819,r=(r<<17|r>>>15)+t<<0,u+=(o^r&(t^o))+m[3]-1044525330,u=(u<<22|u>>>10)+r<<0),o+=(t^u&(r^t))+m[4]-176418897,o=(o<<7|o>>>25)+u<<0,t+=(r^o&(u^r))+m[5]+1200080426,t=(t<<12|t>>>20)+o<<0,r+=(u^t&(o^u))+m[6]-1473231341,r=(r<<17|r>>>15)+t<<0,u+=(o^r&(t^o))+m[7]-45705983,u=(u<<22|u>>>10)+r<<0,o+=(t^u&(r^t))+m[8]+1770035416,o=(o<<7|o>>>25)+u<<0,t+=(r^o&(u^r))+m[9]-1958414417,t=(t<<12|t>>>20)+o<<0,r+=(u^t&(o^u))+m[10]-42063,r=(r<<17|r>>>15)+t<<0,u+=(o^r&(t^o))+m[11]-1990404162,u=(u<<22|u>>>10)+r<<0,o+=(t^u&(r^t))+m[12]+1804603682,o=(o<<7|o>>>25)+u<<0,t+=(r^o&(u^r))+m[13]-40341101,t=(t<<12|t>>>20)+o<<0,r+=(u^t&(o^u))+m[14]-1502002290,r=(r<<17|r>>>15)+t<<0,u+=(o^r&(t^o))+m[15]+1236535329,u=(u<<22|u>>>10)+r<<0,o+=(r^t&(u^r))+m[1]-165796510,o=(o<<5|o>>>27)+u<<0,t+=(u^r&(o^u))+m[6]-1069501632,t=(t<<9|t>>>23)+o<<0,r+=(o^u&(t^o))+m[11]+643717713,r=(r<<14|r>>>18)+t<<0,u+=(t^o&(r^t))+m[0]-373897302,u=(u<<20|u>>>12)+r<<0,o+=(r^t&(u^r))+m[5]-701558691,o=(o<<5|o>>>27)+u<<0,t+=(u^r&(o^u))+m[10]+38016083,t=(t<<9|t>>>23)+o<<0,r+=(o^u&(t^o))+m[15]-660478335,r=(r<<14|r>>>18)+t<<0,u+=(t^o&(r^t))+m[4]-405537848,u=(u<<20|u>>>12)+r<<0,o+=(r^t&(u^r))+m[9]+568446438,o=(o<<5|o>>>27)+u<<0,t+=(u^r&(o^u))+m[14]-1019803690,t=(t<<9|t>>>23)+o<<0,r+=(o^u&(t^o))+m[3]-187363961,r=(r<<14|r>>>18)+t<<0,u+=(t^o&(r^t))+m[8]+1163531501,u=(u<<20|u>>>12)+r<<0,o+=(r^t&(u^r))+m[13]-1444681467,o=(o<<5|o>>>27)+u<<0,t+=(u^r&(o^u))+m[2]-51403784,t=(t<<9|t>>>23)+o<<0,r+=(o^u&(t^o))+m[7]+1735328473,r=(r<<14|r>>>18)+t<<0,u+=(t^o&(r^t))+m[12]-1926607734,u=(u<<20|u>>>12)+r<<0,d=u^r,o+=(d^t)+m[5]-378558,o=(o<<4|o>>>28)+u<<0,t+=(d^o)+m[8]-2022574463,t=(t<<11|t>>>21)+o<<0,n=t^o,r+=(n^u)+m[11]+1839030562,r=(r<<16|r>>>16)+t<<0,u+=(n^r)+m[14]-35309556,u=(u<<23|u>>>9)+r<<0,d=u^r,o+=(d^t)+m[1]-1530992060,o=(o<<4|o>>>28)+u<<0,t+=(d^o)+m[4]+1272893353,t=(t<<11|t>>>21)+o<<0,n=t^o,r+=(n^u)+m[7]-155497632,r=(r<<16|r>>>16)+t<<0,u+=(n^r)+m[10]-1094730640,u=(u<<23|u>>>9)+r<<0,d=u^r,o+=(d^t)+m[13]+681279174,o=(o<<4|o>>>28)+u<<0,t+=(d^o)+m[0]-358537222,t=(t<<11|t>>>21)+o<<0,n=t^o,r+=(n^u)+m[3]-722521979,r=(r<<16|r>>>16)+t<<0,u+=(n^r)+m[6]+76029189,u=(u<<23|u>>>9)+r<<0,d=u^r,o+=(d^t)+m[9]-640364487,o=(o<<4|o>>>28)+u<<0,t+=(d^o)+m[12]-421815835,t=(t<<11|t>>>21)+o<<0,n=t^o,r+=(n^u)+m[15]+530742520,r=(r<<16|r>>>16)+t<<0,u+=(n^r)+m[2]-995338651,u=(u<<23|u>>>9)+r<<0,o+=(r^(u|~t))+m[0]-198630844,o=(o<<6|o>>>26)+u<<0,t+=(u^(o|~r))+m[7]+1126891415,t=(t<<10|t>>>22)+o<<0,r+=(o^(t|~u))+m[14]-1416354905,r=(r<<15|r>>>17)+t<<0,u+=(t^(r|~o))+m[5]-57434055,u=(u<<21|u>>>11)+r<<0,o+=(r^(u|~t))+m[12]+1700485571,o=(o<<6|o>>>26)+u<<0,t+=(u^(o|~r))+m[3]-1894986606,t=(t<<10|t>>>22)+o<<0,r+=(o^(t|~u))+m[10]-1051523,r=(r<<15|r>>>17)+t<<0,u+=(t^(r|~o))+m[1]-2054922799,u=(u<<21|u>>>11)+r<<0,o+=(r^(u|~t))+m[8]+1873313359,o=(o<<6|o>>>26)+u<<0,t+=(u^(o|~r))+m[15]-30611744,t=(t<<10|t>>>22)+o<<0,r+=(o^(t|~u))+m[6]-1560198380,r=(r<<15|r>>>17)+t<<0,u+=(t^(r|~o))+m[13]+1309151649,u=(u<<21|u>>>11)+r<<0,o+=(r^(u|~t))+m[4]-145523070,o=(o<<6|o>>>26)+u<<0,t+=(u^(o|~r))+m[11]-1120210379,t=(t<<10|t>>>22)+o<<0,r+=(o^(t|~u))+m[2]+718787259,r=(r<<15|r>>>17)+t<<0,u+=(t^(r|~o))+m[9]-343485551,u=(u<<21|u>>>11)+r<<0,this.first?(this.h0=o+1732584193<<0,this.h1=u-271733879<<0,this.h2=r-1732584194<<0,this.h3=t+271733878<<0,this.first=!1):(this.h0=this.h0+o<<0,this.h1=this.h1+u<<0,this.h2=this.h2+r<<0,this.h3=this.h3+t<<0)},Md5.prototype.hex=function(){this.finalize();var o=this.h0,u=this.h1,r=this.h2,t=this.h3;return HEX_CHARS[o>>4&15]+HEX_CHARS[o&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[u&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(o){if(o==="hex")return this.hex();this.finalize();var u=this.h0,r=this.h1,t=this.h2,d=this.h3,n=[u&255,u>>8&255,u>>16&255,u>>24&255,r&255,r>>8&255,r>>16&255,r>>24&255,t&255,t>>8&255,t>>16&255,t>>24&255,d&255,d>>8&255,d>>16&255,d>>24&255];return n},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var o=new ArrayBuffer(16),u=new Uint32Array(o);return u[0]=this.h0,u[1]=this.h1,u[2]=this.h2,u[3]=this.h3,o},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var o,u,r,t="",d=this.array(),n=0;n<15;)o=d[n++],u=d[n++],r=d[n++],t+=BASE64_ENCODE_CHAR[o>>>2]+BASE64_ENCODE_CHAR[(o<<4|u>>>4)&63]+BASE64_ENCODE_CHAR[(u<<2|r>>>6)&63]+BASE64_ENCODE_CHAR[r&63];return o=d[n],t+=BASE64_ENCODE_CHAR[o>>>2]+BASE64_ENCODE_CHAR[o<<4&63]+"==",t};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==void 0&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()}).call(this,__webpack_require__("./node_modules/process/browser.js"),__webpack_require__("./node_modules/webpack/buildin/global.js"),__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./lib/request.js":function(o,u,r){var t=r("./node_modules/@babel/runtime/helpers/typeof.js"),d=function(l){switch(t(l)){case"string":return l;case"boolean":return l?"true":"false";case"number":return isFinite(l)?l:"";default:return""}},n=function(l,w,C,S){return w=w||"&",C=C||"=",l===null&&(l=void 0),t(l)==="object"?Object.keys(l).map(function(p){var _=encodeURIComponent(d(p))+C;return Array.isArray(l[p])?l[p].map(function(D){return _+encodeURIComponent(d(D))}).join(w):_+encodeURIComponent(d(l[p]))}).filter(Boolean).join(w):S?encodeURIComponent(d(S))+C+encodeURIComponent(d(l)):""},m=function(l,w,C){var S={};return w.getAllResponseHeaders().trim().split(`
`).forEach(function(p){if(p){var _=p.indexOf(":"),D=p.substr(0,_).trim().toLowerCase(),N=p.substr(_+1).trim();S[D]=N}}),{error:l,statusCode:w.status,statusMessage:w.statusText,headers:S,body:C}},R=function(l,w){return!w&&w==="text"?l.responseText:l.response},I=function(l,w){var C=(l.method||"GET").toUpperCase(),S=l.url;if(l.qs){var p=n(l.qs);p&&(S+=(S.indexOf("?")===-1?"?":"&")+p)}var _=new XMLHttpRequest;if(_.open(C,S,!0),_.responseType=l.dataType||"text",l.xhrFields)for(var D in l.xhrFields)_[D]=l.xhrFields[D];var N=l.headers;if(N)for(var T in N)N.hasOwnProperty(T)&&T.toLowerCase()!=="content-length"&&T.toLowerCase()!=="user-agent"&&T.toLowerCase()!=="origin"&&T.toLowerCase()!=="host"&&_.setRequestHeader(T,N[T]);return l.onProgress&&_.upload&&(_.upload.onprogress=l.onProgress),l.onDownloadProgress&&(_.onprogress=l.onDownloadProgress),l.timeout&&(_.timeout=l.timeout),_.ontimeout=function(g){var a=new Error("timeout");w(m(a,_))},_.onload=function(){w(m(null,_,R(_,l.dataType)))},_.onerror=function(g){var a=R(_,l.dataType);if(a)w(m(null,_,a));else{var f=_.statusText;!f&&_.status===0&&(f=new Error("CORS blocked or network error")),w(m(f,_,a))}},_.send(l.body||""),_};o.exports=I},"./lib/xml2json.js":function(o,u,r){var t=r("./node_modules/@xmldom/xmldom/lib/index.js").DOMParser,d=function(){this.version="1.3.5";var m={mergeCDATA:!0,normalize:!0,stripElemPrefix:!0},R=new RegExp(/(?!xmlns)^.*:/);return this.grokType=function(I){return/^\s*$/.test(I)?null:/^(?:true|false)$/i.test(I)?I.toLowerCase()==="true":isFinite(I)?parseFloat(I):I},this.parseString=function(I,i){if(I){var l=this.stringToXML(I);return l.getElementsByTagName("parsererror").length?null:this.parseXML(l,i)}else return null},this.parseXML=function(I,i){for(var l in i)m[l]=i[l];var w={},C=0,S="",p=I.childNodes.length;if(p)for(var _,D,N,T=0;T<I.childNodes.length;T++)_=I.childNodes.item(T),_.nodeType===4?m.mergeCDATA&&(S+=_.nodeValue):_.nodeType===3?S+=_.nodeValue:_.nodeType===1&&(C===0&&(w={}),m.stripElemPrefix?D=_.nodeName.replace(R,""):D=_.nodeName,N=d.parseXML(_),w.hasOwnProperty(D)?(w[D].constructor!==Array&&(w[D]=[w[D]]),w[D].push(N)):(w[D]=N,C++));return Object.keys(w).length||(w=S||""),w},this.xmlToString=function(I){try{var i=I.xml?I.xml:new XMLSerializer().serializeToString(I);return i}catch{return null}},this.stringToXML=function(I){try{var i=null;if(window.DOMParser){var l=new t;return i=l.parseFromString(I,"text/xml"),i}else return i=new ActiveXObject("Microsoft.XMLDOM"),i.async=!1,i.loadXML(I),i}catch{return null}},this}.call({}),n=function(R){return d.parseString(R)};o.exports=n},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(o,u){function r(t,d){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")}o.exports=r,o.exports.__esModule=!0,o.exports.default=o.exports},"./node_modules/@babel/runtime/helpers/createClass.js":function(o,u){function r(d,n){for(var m=0;m<n.length;m++){var R=n[m];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(d,R.key,R)}}function t(d,n,m){return n&&r(d.prototype,n),m&&r(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}o.exports=t,o.exports.__esModule=!0,o.exports.default=o.exports},"./node_modules/@babel/runtime/helpers/typeof.js":function(o,u){function r(t){"@babel/helpers - typeof";return o.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},o.exports.__esModule=!0,o.exports.default=o.exports,r(t)}o.exports=r,o.exports.__esModule=!0,o.exports.default=o.exports},"./node_modules/@xmldom/xmldom/lib/conventions.js":function(o,u,r){function t(I,i,l){if(l===void 0&&(l=Array.prototype),I&&typeof l.find=="function")return l.find.call(I,i);for(var w=0;w<I.length;w++)if(Object.prototype.hasOwnProperty.call(I,w)){var C=I[w];if(i.call(void 0,C,w,I))return C}}function d(I,i){return i===void 0&&(i=Object),i&&typeof i.freeze=="function"?i.freeze(I):I}function n(I,i){if(I===null||typeof I!="object")throw new TypeError("target is not an object");for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(I[l]=i[l]);return I}var m=d({HTML:"text/html",isHTML:function(I){return I===m.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),R=d({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(I){return I===R.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});u.assign=n,u.find=t,u.freeze=d,u.MIME_TYPE=m,u.NAMESPACE=R},"./node_modules/@xmldom/xmldom/lib/dom-parser.js":function(o,u,r){var t=r("./node_modules/@xmldom/xmldom/lib/conventions.js"),d=r("./node_modules/@xmldom/xmldom/lib/dom.js"),n=r("./node_modules/@xmldom/xmldom/lib/entities.js"),m=r("./node_modules/@xmldom/xmldom/lib/sax.js"),R=d.DOMImplementation,I=t.NAMESPACE,i=m.ParseError,l=m.XMLReader;function w(g){return g.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function C(g){this.options=g||{locator:{}}}C.prototype.parseFromString=function(g,a){var f=this.options,H=new l,c=f.domBuilder||new p,q=f.errorHandler,K=f.locator,A=f.xmlns||{},F=/\/x?html?$/.test(a),O=F?n.HTML_ENTITIES:n.XML_ENTITIES;K&&c.setDocumentLocator(K),H.errorHandler=S(q,c,K),H.domBuilder=f.domBuilder||c,F&&(A[""]=I.HTML),A.xml=A.xml||I.XML;var L=f.normalizeLineEndings||w;return g&&typeof g=="string"?H.parse(L(g),A,O):H.errorHandler.error("invalid doc source"),c.doc};function S(g,a,f){if(!g){if(a instanceof p)return a;g=a}var H={},c=g instanceof Function;f=f||{};function q(K){var A=g[K];!A&&c&&(A=g.length==2?function(F){g(K,F)}:g),H[K]=A&&function(F){A("[xmldom "+K+"]	"+F+D(f))}||function(){}}return q("warning"),q("error"),q("fatalError"),H}function p(){this.cdata=!1}function _(g,a){a.lineNumber=g.lineNumber,a.columnNumber=g.columnNumber}p.prototype={startDocument:function(){this.doc=new R().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(g,a,f,H){var c=this.doc,q=c.createElementNS(g,f||a),K=H.length;T(this,q),this.currentElement=q,this.locator&&_(this.locator,q);for(var A=0;A<K;A++){var g=H.getURI(A),F=H.getValue(A),f=H.getQName(A),O=c.createAttributeNS(g,f);this.locator&&_(H.getLocator(A),O),O.value=O.nodeValue=F,q.setAttributeNode(O)}},endElement:function(g,a,f){var H=this.currentElement;H.tagName,this.currentElement=H.parentNode},startPrefixMapping:function(g,a){},endPrefixMapping:function(g){},processingInstruction:function(g,a){var f=this.doc.createProcessingInstruction(g,a);this.locator&&_(this.locator,f),T(this,f)},ignorableWhitespace:function(g,a,f){},characters:function(g,a,f){if(g=N.apply(this,arguments),g){if(this.cdata)var H=this.doc.createCDATASection(g);else var H=this.doc.createTextNode(g);this.currentElement?this.currentElement.appendChild(H):/^\s*$/.test(g)&&this.doc.appendChild(H),this.locator&&_(this.locator,H)}},skippedEntity:function(g){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(g){(this.locator=g)&&(g.lineNumber=0)},comment:function(g,a,f){g=N.apply(this,arguments);var H=this.doc.createComment(g);this.locator&&_(this.locator,H),T(this,H)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(g,a,f){var H=this.doc.implementation;if(H&&H.createDocumentType){var c=H.createDocumentType(g,a,f);this.locator&&_(this.locator,c),T(this,c),this.doc.doctype=c}},warning:function(g){console.warn("[xmldom warning]	"+g,D(this.locator))},error:function(g){console.error("[xmldom error]	"+g,D(this.locator))},fatalError:function(g){throw new i(g,this.locator)}};function D(g){if(g)return`
@`+(g.systemId||"")+"#[line:"+g.lineNumber+",col:"+g.columnNumber+"]"}function N(g,a,f){return typeof g=="string"?g.substr(a,f):g.length>=a+f||a?new java.lang.String(g,a,f)+"":g}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(g){p.prototype[g]=function(){return null}});function T(g,a){g.currentElement?g.currentElement.appendChild(a):g.doc.appendChild(a)}u.__DOMHandler=p,u.normalizeLineEndings=w,u.DOMParser=C},"./node_modules/@xmldom/xmldom/lib/dom.js":function(o,u,r){var t=r("./node_modules/@xmldom/xmldom/lib/conventions.js"),d=t.find,n=t.NAMESPACE;function m(y){return y!==""}function R(y){return y?y.split(/[\t\n\f\r ]+/).filter(m):[]}function I(y,k){return y.hasOwnProperty(k)||(y[k]=!0),y}function i(y){if(!y)return[];var k=R(y);return Object.keys(k.reduce(I,{}))}function l(y){return function(k){return y&&y.indexOf(k)!==-1}}function w(y,k){for(var z in y)Object.prototype.hasOwnProperty.call(y,z)&&(k[z]=y[z])}function C(y,k){var z=y.prototype;if(!(z instanceof k)){let te=function(){};te.prototype=k.prototype,te=new te,w(z,te),y.prototype=z=te}z.constructor!=y&&(typeof y!="function"&&console.error("unknown Class:"+y),z.constructor=y)}var S={},p=S.ELEMENT_NODE=1,_=S.ATTRIBUTE_NODE=2,D=S.TEXT_NODE=3,N=S.CDATA_SECTION_NODE=4,T=S.ENTITY_REFERENCE_NODE=5,g=S.ENTITY_NODE=6,a=S.PROCESSING_INSTRUCTION_NODE=7,f=S.COMMENT_NODE=8,H=S.DOCUMENT_NODE=9,c=S.DOCUMENT_TYPE_NODE=10,q=S.DOCUMENT_FRAGMENT_NODE=11,K=S.NOTATION_NODE=12,A={},F={};A.INDEX_SIZE_ERR=(F[1]="Index size error",1),A.DOMSTRING_SIZE_ERR=(F[2]="DOMString size error",2);var O=A.HIERARCHY_REQUEST_ERR=(F[3]="Hierarchy request error",3);A.WRONG_DOCUMENT_ERR=(F[4]="Wrong document",4),A.INVALID_CHARACTER_ERR=(F[5]="Invalid character",5),A.NO_DATA_ALLOWED_ERR=(F[6]="No data allowed",6),A.NO_MODIFICATION_ALLOWED_ERR=(F[7]="No modification allowed",7);var L=A.NOT_FOUND_ERR=(F[8]="Not found",8);A.NOT_SUPPORTED_ERR=(F[9]="Not supported",9);var $=A.INUSE_ATTRIBUTE_ERR=(F[10]="Attribute in use",10);A.INVALID_STATE_ERR=(F[11]="Invalid state",11),A.SYNTAX_ERR=(F[12]="Syntax error",12),A.INVALID_MODIFICATION_ERR=(F[13]="Invalid modification",13),A.NAMESPACE_ERR=(F[14]="Invalid namespace",14),A.INVALID_ACCESS_ERR=(F[15]="Invalid access",15);function Y(y,k){if(k instanceof Error)var z=k;else z=this,Error.call(this,F[y]),this.message=F[y],Error.captureStackTrace&&Error.captureStackTrace(this,Y);return z.code=y,k&&(this.message=this.message+": "+k),z}Y.prototype=Error.prototype,w(A,Y);function re(){}re.prototype={length:0,item:function(y){return this[y]||null},toString:function(y,k){for(var z=[],te=0;te<this.length;te++)$e(this[te],z,y,k);return z.join("")},filter:function(y){return Array.prototype.filter.call(this,y)},indexOf:function(y){return Array.prototype.indexOf.call(this,y)}};function se(y,k){this._node=y,this._refresh=k,ue(this)}function ue(y){var k=y._node._inc||y._node.ownerDocument._inc;if(y._inc!=k){var z=y._refresh(y._node);et(y,"length",z.length),w(z,y),y._inc=k}}se.prototype.item=function(y){return ue(this),this[y]},C(se,re);function ce(){}function oe(y,k){for(var z=y.length;z--;)if(y[z]===k)return z}function X(y,k,z,te){if(te?k[oe(k,te)]=z:k[k.length++]=z,y){z.ownerElement=y;var xe=y.ownerDocument;xe&&(te&&me(xe,y,te),fe(xe,y,z))}}function Q(y,k,z){var te=oe(k,z);if(te>=0){for(var xe=k.length-1;te<xe;)k[te]=k[++te];if(k.length=xe,y){var Ae=y.ownerDocument;Ae&&(me(Ae,y,z),z.ownerElement=null)}}else throw new Y(L,new Error(y.tagName+"@"+z))}ce.prototype={length:0,item:re.prototype.item,getNamedItem:function(y){for(var k=this.length;k--;){var z=this[k];if(z.nodeName==y)return z}},setNamedItem:function(y){var k=y.ownerElement;if(k&&k!=this._ownerElement)throw new Y($);var z=this.getNamedItem(y.nodeName);return X(this._ownerElement,this,y,z),z},setNamedItemNS:function(y){var k=y.ownerElement,z;if(k&&k!=this._ownerElement)throw new Y($);return z=this.getNamedItemNS(y.namespaceURI,y.localName),X(this._ownerElement,this,y,z),z},removeNamedItem:function(y){var k=this.getNamedItem(y);return Q(this._ownerElement,this,k),k},removeNamedItemNS:function(y,k){var z=this.getNamedItemNS(y,k);return Q(this._ownerElement,this,z),z},getNamedItemNS:function(y,k){for(var z=this.length;z--;){var te=this[z];if(te.localName==k&&te.namespaceURI==y)return te}return null}};function ee(){}ee.prototype={hasFeature:function(y,k){return!0},createDocument:function(y,k,z){var te=new ye;if(te.implementation=this,te.childNodes=new re,te.doctype=z||null,z&&te.appendChild(z),k){var xe=te.createElementNS(y,k);te.appendChild(xe)}return te},createDocumentType:function(y,k,z){var te=new De;return te.name=y,te.nodeName=y,te.publicId=k||"",te.systemId=z||"",te}};function G(){}G.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(y,k){return h(this,y,k)},replaceChild:function(y,k){h(this,y,k,x),k&&this.removeChild(k)},removeChild:function(y){return Re(this,y)},appendChild:function(y){return this.insertBefore(y,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(y){return Ze(this.ownerDocument||this,this,y)},normalize:function(){for(var y=this.firstChild;y;){var k=y.nextSibling;k&&k.nodeType==D&&y.nodeType==D?(this.removeChild(k),y.appendData(k.data)):(y.normalize(),y=k)}},isSupported:function(y,k){return this.ownerDocument.implementation.hasFeature(y,k)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(y){for(var k=this;k;){var z=k._nsMap;if(z){for(var te in z)if(Object.prototype.hasOwnProperty.call(z,te)&&z[te]===y)return te}k=k.nodeType==_?k.ownerDocument:k.parentNode}return null},lookupNamespaceURI:function(y){for(var k=this;k;){var z=k._nsMap;if(z&&Object.prototype.hasOwnProperty.call(z,y))return z[y];k=k.nodeType==_?k.ownerDocument:k.parentNode}return null},isDefaultNamespace:function(y){var k=this.lookupPrefix(y);return k==null}};function ie(y){return y=="<"&&"&lt;"||y==">"&&"&gt;"||y=="&"&&"&amp;"||y=='"'&&"&quot;"||"&#"+y.charCodeAt()+";"}w(S,G),w(S,G.prototype);function he(y,k){if(k(y))return!0;if(y=y.firstChild)do if(he(y,k))return!0;while(y=y.nextSibling)}function ye(){this.ownerDocument=this}function fe(y,k,z){y&&y._inc++;var te=z.namespaceURI;te===n.XMLNS&&(k._nsMap[z.prefix?z.localName:""]=z.value)}function me(y,k,z,te){y&&y._inc++;var xe=z.namespaceURI;xe===n.XMLNS&&delete k._nsMap[z.prefix?z.localName:""]}function Se(y,k,z){if(y&&y._inc){y._inc++;var te=k.childNodes;if(z)te[te.length++]=z;else{for(var xe=k.firstChild,Ae=0;xe;)te[Ae++]=xe,xe=xe.nextSibling;te.length=Ae,delete te[te.length]}}}function Re(y,k){var z=k.previousSibling,te=k.nextSibling;return z?z.nextSibling=te:y.firstChild=te,te?te.previousSibling=z:y.lastChild=z,k.parentNode=null,k.previousSibling=null,k.nextSibling=null,Se(y.ownerDocument,y),k}function Ee(y){return y&&(y.nodeType===G.DOCUMENT_NODE||y.nodeType===G.DOCUMENT_FRAGMENT_NODE||y.nodeType===G.ELEMENT_NODE)}function ke(y){return y&&(Te(y)||ve(y)||be(y)||y.nodeType===G.DOCUMENT_FRAGMENT_NODE||y.nodeType===G.COMMENT_NODE||y.nodeType===G.PROCESSING_INSTRUCTION_NODE)}function be(y){return y&&y.nodeType===G.DOCUMENT_TYPE_NODE}function Te(y){return y&&y.nodeType===G.ELEMENT_NODE}function ve(y){return y&&y.nodeType===G.TEXT_NODE}function W(y,k){var z=y.childNodes||[];if(d(z,Te)||be(k))return!1;var te=d(z,be);return!(k&&te&&z.indexOf(te)>z.indexOf(k))}function ne(y,k){var z=y.childNodes||[];function te(Ae){return Te(Ae)&&Ae!==k}if(d(z,te))return!1;var xe=d(z,be);return!(k&&xe&&z.indexOf(xe)>z.indexOf(k))}function E(y,k,z){if(!Ee(y))throw new Y(O,"Unexpected parent node type "+y.nodeType);if(z&&z.parentNode!==y)throw new Y(L,"child not in parent");if(!ke(k)||be(k)&&y.nodeType!==G.DOCUMENT_NODE)throw new Y(O,"Unexpected node type "+k.nodeType+" for parent node type "+y.nodeType)}function v(y,k,z){var te=y.childNodes||[],xe=k.childNodes||[];if(k.nodeType===G.DOCUMENT_FRAGMENT_NODE){var Ae=xe.filter(Te);if(Ae.length>1||d(xe,ve))throw new Y(O,"More than one element or text in fragment");if(Ae.length===1&&!W(y,z))throw new Y(O,"Element in fragment can not be inserted before doctype")}if(Te(k)&&!W(y,z))throw new Y(O,"Only one element can be added and only after doctype");if(be(k)){if(d(te,be))throw new Y(O,"Only one doctype is allowed");var Me=d(te,Te);if(z&&te.indexOf(Me)<te.indexOf(z))throw new Y(O,"Doctype can only be inserted before an element");if(!z&&Me)throw new Y(O,"Doctype can not be appended since element is present")}}function x(y,k,z){var te=y.childNodes||[],xe=k.childNodes||[];if(k.nodeType===G.DOCUMENT_FRAGMENT_NODE){var Ae=xe.filter(Te);if(Ae.length>1||d(xe,ve))throw new Y(O,"More than one element or text in fragment");if(Ae.length===1&&!ne(y,z))throw new Y(O,"Element in fragment can not be inserted before doctype")}if(Te(k)&&!ne(y,z))throw new Y(O,"Only one element can be added and only after doctype");if(be(k)){if(d(te,function(qe){return be(qe)&&qe!==z}))throw new Y(O,"Only one doctype is allowed");var Me=d(te,Te);if(z&&te.indexOf(Me)<te.indexOf(z))throw new Y(O,"Doctype can only be inserted before an element")}}function h(y,k,z,te){E(y,k,z),y.nodeType===G.DOCUMENT_NODE&&(te||v)(y,k,z);var xe=k.parentNode;if(xe&&xe.removeChild(k),k.nodeType===q){var Ae=k.firstChild;if(Ae==null)return k;var Me=k.lastChild}else Ae=Me=k;var pe=z?z.previousSibling:y.lastChild;Ae.previousSibling=pe,Me.nextSibling=z,pe?pe.nextSibling=Ae:y.firstChild=Ae,z==null?y.lastChild=Me:z.previousSibling=Me;do Ae.parentNode=y;while(Ae!==Me&&(Ae=Ae.nextSibling));return Se(y.ownerDocument||y,y),k.nodeType==q&&(k.firstChild=k.lastChild=null),k}function P(y,k){return k.parentNode&&k.parentNode.removeChild(k),k.parentNode=y,k.previousSibling=y.lastChild,k.nextSibling=null,k.previousSibling?k.previousSibling.nextSibling=k:y.firstChild=k,y.lastChild=k,Se(y.ownerDocument,y,k),k}ye.prototype={nodeName:"#document",nodeType:H,doctype:null,documentElement:null,_inc:1,insertBefore:function(y,k){if(y.nodeType==q){for(var z=y.firstChild;z;){var te=z.nextSibling;this.insertBefore(z,k),z=te}return y}return h(this,y,k),y.ownerDocument=this,this.documentElement===null&&y.nodeType===p&&(this.documentElement=y),y},removeChild:function(y){return this.documentElement==y&&(this.documentElement=null),Re(this,y)},replaceChild:function(y,k){h(this,y,k,x),y.ownerDocument=this,k&&this.removeChild(k),Te(y)&&(this.documentElement=y)},importNode:function(y,k){return nt(this,y,k)},getElementById:function(y){var k=null;return he(this.documentElement,function(z){if(z.nodeType==p&&z.getAttribute("id")==y)return k=z,!0}),k},getElementsByClassName:function(y){var k=i(y);return new se(this,function(z){var te=[];return k.length>0&&he(z.documentElement,function(xe){if(xe!==z&&xe.nodeType===p){var Ae=xe.getAttribute("class");if(Ae){var Me=y===Ae;if(!Me){var pe=i(Ae);Me=k.every(l(pe))}Me&&te.push(xe)}}}),te})},createElement:function(y){var k=new V;k.ownerDocument=this,k.nodeName=y,k.tagName=y,k.localName=y,k.childNodes=new re;var z=k.attributes=new ce;return z._ownerElement=k,k},createDocumentFragment:function(){var y=new je;return y.ownerDocument=this,y.childNodes=new re,y},createTextNode:function(y){var k=new ge;return k.ownerDocument=this,k.appendData(y),k},createComment:function(y){var k=new Ce;return k.ownerDocument=this,k.appendData(y),k},createCDATASection:function(y){var k=new de;return k.ownerDocument=this,k.appendData(y),k},createProcessingInstruction:function(y,k){var z=new Ve;return z.ownerDocument=this,z.tagName=z.target=y,z.nodeValue=z.data=k,z},createAttribute:function(y){var k=new J;return k.ownerDocument=this,k.name=y,k.nodeName=y,k.localName=y,k.specified=!0,k},createEntityReference:function(y){var k=new He;return k.ownerDocument=this,k.nodeName=y,k},createElementNS:function(y,k){var z=new V,te=k.split(":"),xe=z.attributes=new ce;return z.childNodes=new re,z.ownerDocument=this,z.nodeName=k,z.tagName=k,z.namespaceURI=y,te.length==2?(z.prefix=te[0],z.localName=te[1]):z.localName=k,xe._ownerElement=z,z},createAttributeNS:function(y,k){var z=new J,te=k.split(":");return z.ownerDocument=this,z.nodeName=k,z.name=k,z.namespaceURI=y,z.specified=!0,te.length==2?(z.prefix=te[0],z.localName=te[1]):z.localName=k,z}},C(ye,G);function V(){this._nsMap={}}V.prototype={nodeType:p,hasAttribute:function(y){return this.getAttributeNode(y)!=null},getAttribute:function(y){var k=this.getAttributeNode(y);return k&&k.value||""},getAttributeNode:function(y){return this.attributes.getNamedItem(y)},setAttribute:function(y,k){var z=this.ownerDocument.createAttribute(y);z.value=z.nodeValue=""+k,this.setAttributeNode(z)},removeAttribute:function(y){var k=this.getAttributeNode(y);k&&this.removeAttributeNode(k)},appendChild:function(y){return y.nodeType===q?this.insertBefore(y,null):P(this,y)},setAttributeNode:function(y){return this.attributes.setNamedItem(y)},setAttributeNodeNS:function(y){return this.attributes.setNamedItemNS(y)},removeAttributeNode:function(y){return this.attributes.removeNamedItem(y.nodeName)},removeAttributeNS:function(y,k){var z=this.getAttributeNodeNS(y,k);z&&this.removeAttributeNode(z)},hasAttributeNS:function(y,k){return this.getAttributeNodeNS(y,k)!=null},getAttributeNS:function(y,k){var z=this.getAttributeNodeNS(y,k);return z&&z.value||""},setAttributeNS:function(y,k,z){var te=this.ownerDocument.createAttributeNS(y,k);te.value=te.nodeValue=""+z,this.setAttributeNode(te)},getAttributeNodeNS:function(y,k){return this.attributes.getNamedItemNS(y,k)},getElementsByTagName:function(y){return new se(this,function(k){var z=[];return he(k,function(te){te!==k&&te.nodeType==p&&(y==="*"||te.tagName==y)&&z.push(te)}),z})},getElementsByTagNameNS:function(y,k){return new se(this,function(z){var te=[];return he(z,function(xe){xe!==z&&xe.nodeType===p&&(y==="*"||xe.namespaceURI===y)&&(k==="*"||xe.localName==k)&&te.push(xe)}),te})}},ye.prototype.getElementsByTagName=V.prototype.getElementsByTagName,ye.prototype.getElementsByTagNameNS=V.prototype.getElementsByTagNameNS,C(V,G);function J(){}J.prototype.nodeType=_,C(J,G);function ae(){}ae.prototype={data:"",substringData:function(y,k){return this.data.substring(y,y+k)},appendData:function(y){y=this.data+y,this.nodeValue=this.data=y,this.length=y.length},insertData:function(y,k){this.replaceData(y,0,k)},appendChild:function(y){throw new Error(F[O])},deleteData:function(y,k){this.replaceData(y,k,"")},replaceData:function(y,k,z){var te=this.data.substring(0,y),xe=this.data.substring(y+k);z=te+z+xe,this.nodeValue=this.data=z,this.length=z.length}},C(ae,G);function ge(){}ge.prototype={nodeName:"#text",nodeType:D,splitText:function(y){var k=this.data,z=k.substring(y);k=k.substring(0,y),this.data=this.nodeValue=k,this.length=k.length;var te=this.ownerDocument.createTextNode(z);return this.parentNode&&this.parentNode.insertBefore(te,this.nextSibling),te}},C(ge,ae);function Ce(){}Ce.prototype={nodeName:"#comment",nodeType:f},C(Ce,ae);function de(){}de.prototype={nodeName:"#cdata-section",nodeType:N},C(de,ae);function De(){}De.prototype.nodeType=c,C(De,G);function _e(){}_e.prototype.nodeType=K,C(_e,G);function Ue(){}Ue.prototype.nodeType=g,C(Ue,G);function He(){}He.prototype.nodeType=T,C(He,G);function je(){}je.prototype.nodeName="#document-fragment",je.prototype.nodeType=q,C(je,G);function Ve(){}Ve.prototype.nodeType=a,C(Ve,G);function Qe(){}Qe.prototype.serializeToString=function(y,k,z){return Xe.call(y,k,z)},G.prototype.toString=Xe;function Xe(y,k){var z=[],te=this.nodeType==9&&this.documentElement||this,xe=te.prefix,Ae=te.namespaceURI;if(Ae&&xe==null){var xe=te.lookupPrefix(Ae);if(xe==null)var Me=[{namespace:Ae,prefix:null}]}return $e(this,z,y,k,Me),z.join("")}function Le(y,k,z){var te=y.prefix||"",xe=y.namespaceURI;if(!xe||te==="xml"&&xe===n.XML||xe===n.XMLNS)return!1;for(var Ae=z.length;Ae--;){var Me=z[Ae];if(Me.prefix===te)return Me.namespace!==xe}return!0}function We(y,k,z){y.push(" ",k,'="',z.replace(/[<>&"\t\n\r]/g,ie),'"')}function $e(y,k,z,te,xe){if(xe||(xe=[]),te)if(y=te(y),y){if(typeof y=="string"){k.push(y);return}}else return;switch(y.nodeType){case p:var Ae=y.attributes,Me=Ae.length,j=y.firstChild,pe=y.tagName;z=n.isHTML(y.namespaceURI)||z;var qe=pe;if(!z&&!y.prefix&&y.namespaceURI){for(var Ge,Ye=0;Ye<Ae.length;Ye++)if(Ae.item(Ye).name==="xmlns"){Ge=Ae.item(Ye).value;break}if(!Ge)for(var e=xe.length-1;e>=0;e--){var B=xe[e];if(B.prefix===""&&B.namespace===y.namespaceURI){Ge=B.namespace;break}}if(Ge!==y.namespaceURI)for(var e=xe.length-1;e>=0;e--){var B=xe[e];if(B.namespace===y.namespaceURI){B.prefix&&(qe=B.prefix+":"+pe);break}}}k.push("<",qe);for(var s=0;s<Me;s++){var b=Ae.item(s);b.prefix=="xmlns"?xe.push({prefix:b.localName,namespace:b.value}):b.nodeName=="xmlns"&&xe.push({prefix:"",namespace:b.value})}for(var s=0;s<Me;s++){var b=Ae.item(s);if(Le(b,z,xe)){var M=b.prefix||"",U=b.namespaceURI;We(k,M?"xmlns:"+M:"xmlns",U),xe.push({prefix:M,namespace:U})}$e(b,k,z,te,xe)}if(pe===qe&&Le(y,z,xe)){var M=y.prefix||"",U=y.namespaceURI;We(k,M?"xmlns:"+M:"xmlns",U),xe.push({prefix:M,namespace:U})}if(j||z&&!/^(?:meta|link|img|br|hr|input)$/i.test(pe)){if(k.push(">"),z&&/^script$/i.test(pe))for(;j;)j.data?k.push(j.data):$e(j,k,z,te,xe.slice()),j=j.nextSibling;else for(;j;)$e(j,k,z,te,xe.slice()),j=j.nextSibling;k.push("</",qe,">")}else k.push("/>");return;case H:case q:for(var j=y.firstChild;j;)$e(j,k,z,te,xe.slice()),j=j.nextSibling;return;case _:return We(k,y.name,y.value);case D:return k.push(y.data.replace(/[<&>]/g,ie));case N:return k.push("<![CDATA[",y.data,"]]>");case f:return k.push("<!--",y.data,"-->");case c:var Z=y.publicId,le=y.systemId;if(k.push("<!DOCTYPE ",y.name),Z)k.push(" PUBLIC ",Z),le&&le!="."&&k.push(" ",le),k.push(">");else if(le&&le!=".")k.push(" SYSTEM ",le,">");else{var Ie=y.internalSubset;Ie&&k.push(" [",Ie,"]"),k.push(">")}return;case a:return k.push("<?",y.target," ",y.data,"?>");case T:return k.push("&",y.nodeName,";");default:k.push("??",y.nodeName)}}function nt(y,k,z){var te;switch(k.nodeType){case p:te=k.cloneNode(!1),te.ownerDocument=y;case q:break;case _:z=!0;break}if(te||(te=k.cloneNode(!1)),te.ownerDocument=y,te.parentNode=null,z)for(var xe=k.firstChild;xe;)te.appendChild(nt(y,xe,z)),xe=xe.nextSibling;return te}function Ze(y,k,z){var te=new k.constructor;for(var xe in k)if(Object.prototype.hasOwnProperty.call(k,xe)){var Ae=k[xe];typeof Ae!="object"&&Ae!=te[xe]&&(te[xe]=Ae)}switch(k.childNodes&&(te.childNodes=new re),te.ownerDocument=y,te.nodeType){case p:var Me=k.attributes,pe=te.attributes=new ce,qe=Me.length;pe._ownerElement=te;for(var Ge=0;Ge<qe;Ge++)te.setAttributeNode(Ze(y,Me.item(Ge),!0));break;case _:z=!0}if(z)for(var Ye=k.firstChild;Ye;)te.appendChild(Ze(y,Ye,z)),Ye=Ye.nextSibling;return te}function et(y,k,z){y[k]=z}try{if(Object.defineProperty){let y=function(k){switch(k.nodeType){case p:case q:var z=[];for(k=k.firstChild;k;)k.nodeType!==7&&k.nodeType!==8&&z.push(y(k)),k=k.nextSibling;return z.join("");default:return k.nodeValue}};Object.defineProperty(se.prototype,"length",{get:function(){return ue(this),this.$$length}}),Object.defineProperty(G.prototype,"textContent",{get:function(){return y(this)},set:function(k){switch(this.nodeType){case p:case q:for(;this.firstChild;)this.removeChild(this.firstChild);(k||String(k))&&this.appendChild(this.ownerDocument.createTextNode(k));break;default:this.data=k,this.value=k,this.nodeValue=k}}}),et=function(k,z,te){k["$$"+z]=te}}}catch{}u.DocumentType=De,u.DOMException=Y,u.DOMImplementation=ee,u.Element=V,u.Node=G,u.NodeList=re,u.XMLSerializer=Qe},"./node_modules/@xmldom/xmldom/lib/entities.js":function(o,u,r){var t=r("./node_modules/@xmldom/xmldom/lib/conventions.js").freeze;u.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),u.HTML_ENTITIES=t({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),u.entityMap=u.HTML_ENTITIES},"./node_modules/@xmldom/xmldom/lib/index.js":function(o,u,r){var t=r("./node_modules/@xmldom/xmldom/lib/dom.js");u.DOMImplementation=t.DOMImplementation,u.XMLSerializer=t.XMLSerializer,u.DOMParser=r("./node_modules/@xmldom/xmldom/lib/dom-parser.js").DOMParser},"./node_modules/@xmldom/xmldom/lib/sax.js":function(o,u,r){var t=r("./node_modules/@xmldom/xmldom/lib/conventions.js").NAMESPACE,d=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+d.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),m=new RegExp("^"+d.source+n.source+"*(?::"+d.source+n.source+"*)?$"),R=0,I=1,i=2,l=3,w=4,C=5,S=6,p=7;function _(O,L){this.message=O,this.locator=L,Error.captureStackTrace&&Error.captureStackTrace(this,_)}_.prototype=new Error,_.prototype.name=_.name;function D(){}D.prototype={parse:function(O,L,$){var Y=this.domBuilder;Y.startDocument(),c(L,L={}),N(O,L,$,Y,this.errorHandler),Y.endDocument()}};function N(O,L,$,Y,re){function se(V){if(V>65535){V-=65536;var J=55296+(V>>10),ae=56320+(V&1023);return String.fromCharCode(J,ae)}else return String.fromCharCode(V)}function ue(V){var J=V.slice(1,-1);return Object.hasOwnProperty.call($,J)?$[J]:J.charAt(0)==="#"?se(parseInt(J.substr(1).replace("x","0x"))):(re.error("entity not found:"+V),V)}function ce(V){if(V>ye){var J=O.substring(ye,V).replace(/&#?\w+;/g,ue);G&&oe(ye),Y.characters(J,0,V-ye),ye=V}}function oe(V,J){for(;V>=Q&&(J=ee.exec(O));)X=J.index,Q=X+J[0].length,G.lineNumber++;G.columnNumber=V-X+1}for(var X=0,Q=0,ee=/.*(?:\r\n?|\n)|.*$/g,G=Y.locator,ie=[{currentNSMap:L}],he={},ye=0;;){try{var fe=O.indexOf("<",ye);if(fe<0){if(!O.substr(ye).match(/^\s*$/)){var me=Y.doc,Se=me.createTextNode(O.substr(ye));me.appendChild(Se),Y.currentElement=Se}return}switch(fe>ye&&ce(fe),O.charAt(fe+1)){case"/":var E=O.indexOf(">",fe+3),Re=O.substring(fe+2,E).replace(/[ \t\n\r]+$/g,""),Ee=ie.pop();E<0?(Re=O.substring(fe+2).replace(/[\s<].*/,""),re.error("end tag name: "+Re+" is not complete:"+Ee.tagName),E=fe+1+Re.length):Re.match(/\s</)&&(Re=Re.replace(/[\s<].*/,""),re.error("end tag name: "+Re+" maybe not complete"),E=fe+1+Re.length);var ke=Ee.localNSMap,be=Ee.tagName==Re,Te=be||Ee.tagName&&Ee.tagName.toLowerCase()==Re.toLowerCase();if(Te){if(Y.endElement(Ee.uri,Ee.localName,Re),ke)for(var ve in ke)Object.prototype.hasOwnProperty.call(ke,ve)&&Y.endPrefixMapping(ve);be||re.fatalError("end tag name: "+Re+" is not match the current start tagName:"+Ee.tagName)}else ie.push(Ee);E++;break;case"?":G&&oe(fe),E=K(O,fe,Y);break;case"!":G&&oe(fe),E=q(O,fe,Y,re);break;default:G&&oe(fe);var W=new A,ne=ie[ie.length-1].currentNSMap,E=g(O,fe,W,ne,ue,re),v=W.length;if(!W.closed&&H(O,E,W.tagName,he)&&(W.closed=!0,$.nbsp||re.warning("unclosed xml attribute")),G&&v){for(var x=T(G,{}),h=0;h<v;h++){var P=W[h];oe(P.offset),P.locator=T(G,{})}Y.locator=x,a(W,Y,ne)&&ie.push(W),Y.locator=G}else a(W,Y,ne)&&ie.push(W);t.isHTML(W.uri)&&!W.closed?E=f(O,E,W.tagName,ue,Y):E++}}catch(V){if(V instanceof _)throw V;re.error("element parse error: "+V),E=-1}E>ye?ye=E:ce(Math.max(fe,ye)+1)}}function T(O,L){return L.lineNumber=O.lineNumber,L.columnNumber=O.columnNumber,L}function g(O,L,$,Y,re,se){function ue(G,ie,he){$.attributeNames.hasOwnProperty(G)&&se.fatalError("Attribute "+G+" redefined"),$.addValue(G,ie.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,re),he)}for(var ce,oe,X=++L,Q=R;;){var ee=O.charAt(X);switch(ee){case"=":if(Q===I)ce=O.slice(L,X),Q=l;else if(Q===i)Q=l;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(Q===l||Q===I)if(Q===I&&(se.warning('attribute value must after "="'),ce=O.slice(L,X)),L=X+1,X=O.indexOf(ee,L),X>0)oe=O.slice(L,X),ue(ce,oe,L-1),Q=C;else throw new Error("attribute value no end '"+ee+"' match");else if(Q==w)oe=O.slice(L,X),ue(ce,oe,L),se.warning('attribute "'+ce+'" missed start quot('+ee+")!!"),L=X+1,Q=C;else throw new Error('attribute value must after "="');break;case"/":switch(Q){case R:$.setTagName(O.slice(L,X));case C:case S:case p:Q=p,$.closed=!0;case w:case I:case i:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return se.error("unexpected end of input"),Q==R&&$.setTagName(O.slice(L,X)),X;case">":switch(Q){case R:$.setTagName(O.slice(L,X));case C:case S:case p:break;case w:case I:oe=O.slice(L,X),oe.slice(-1)==="/"&&($.closed=!0,oe=oe.slice(0,-1));case i:Q===i&&(oe=ce),Q==w?(se.warning('attribute "'+oe+'" missed quot(")!'),ue(ce,oe,L)):((!t.isHTML(Y[""])||!oe.match(/^(?:disabled|checked|selected)$/i))&&se.warning('attribute "'+oe+'" missed value!! "'+oe+'" instead!!'),ue(oe,oe,L));break;case l:throw new Error("attribute value missed!!")}return X;case"":ee=" ";default:if(ee<=" ")switch(Q){case R:$.setTagName(O.slice(L,X)),Q=S;break;case I:ce=O.slice(L,X),Q=i;break;case w:var oe=O.slice(L,X);se.warning('attribute "'+oe+'" missed quot(")!!'),ue(ce,oe,L);case C:Q=S;break}else switch(Q){case i:$.tagName,(!t.isHTML(Y[""])||!ce.match(/^(?:disabled|checked|selected)$/i))&&se.warning('attribute "'+ce+'" missed value!! "'+ce+'" instead2!!'),ue(ce,ce,L),L=X,Q=I;break;case C:se.warning('attribute space is required"'+ce+'"!!');case S:Q=I,L=X;break;case l:Q=w,L=X;break;case p:throw new Error("elements closed character '/' and '>' must be connected to")}}X++}}function a(O,L,$){for(var Y=O.tagName,re=null,ee=O.length;ee--;){var se=O[ee],ue=se.qName,ce=se.value,G=ue.indexOf(":");if(G>0)var oe=se.prefix=ue.slice(0,G),X=ue.slice(G+1),Q=oe==="xmlns"&&X;else X=ue,oe=null,Q=ue==="xmlns"&&"";se.localName=X,Q!==!1&&(re==null&&(re={},c($,$={})),$[Q]=re[Q]=ce,se.uri=t.XMLNS,L.startPrefixMapping(Q,ce))}for(var ee=O.length;ee--;){se=O[ee];var oe=se.prefix;oe&&(oe==="xml"&&(se.uri=t.XML),oe!=="xmlns"&&(se.uri=$[oe||""]))}var G=Y.indexOf(":");G>0?(oe=O.prefix=Y.slice(0,G),X=O.localName=Y.slice(G+1)):(oe=null,X=O.localName=Y);var ie=O.uri=$[oe||""];if(L.startElement(ie,X,Y,O),O.closed){if(L.endElement(ie,X,Y),re)for(oe in re)Object.prototype.hasOwnProperty.call(re,oe)&&L.endPrefixMapping(oe)}else return O.currentNSMap=$,O.localNSMap=re,!0}function f(O,L,$,Y,re){if(/^(?:script|textarea)$/i.test($)){var se=O.indexOf("</"+$+">",L),ue=O.substring(L+1,se);if(/[&<]/.test(ue))return/^script$/i.test($)?(re.characters(ue,0,ue.length),se):(ue=ue.replace(/&#?\w+;/g,Y),re.characters(ue,0,ue.length),se)}return L+1}function H(O,L,$,Y){var re=Y[$];return re==null&&(re=O.lastIndexOf("</"+$+">"),re<L&&(re=O.lastIndexOf("</"+$)),Y[$]=re),re<L}function c(O,L){for(var $ in O)Object.prototype.hasOwnProperty.call(O,$)&&(L[$]=O[$])}function q(O,L,$,Y){var re=O.charAt(L+2);switch(re){case"-":if(O.charAt(L+3)==="-"){var se=O.indexOf("-->",L+4);return se>L?($.comment(O,L+4,se-L-4),se+3):(Y.error("Unclosed comment"),-1)}else return-1;default:if(O.substr(L+3,6)=="CDATA["){var se=O.indexOf("]]>",L+9);return $.startCDATA(),$.characters(O,L+9,se-L-9),$.endCDATA(),se+3}var ue=F(O,L),ce=ue.length;if(ce>1&&/!doctype/i.test(ue[0][0])){var oe=ue[1][0],X=!1,Q=!1;ce>3&&(/^public$/i.test(ue[2][0])?(X=ue[3][0],Q=ce>4&&ue[4][0]):/^system$/i.test(ue[2][0])&&(Q=ue[3][0]));var ee=ue[ce-1];return $.startDTD(oe,X,Q),$.endDTD(),ee.index+ee[0].length}}return-1}function K(O,L,$){var Y=O.indexOf("?>",L);if(Y){var re=O.substring(L,Y).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return re?(re[0].length,$.processingInstruction(re[1],re[2]),Y+2):-1}return-1}function A(){this.attributeNames={}}A.prototype={setTagName:function(O){if(!m.test(O))throw new Error("invalid tagName:"+O);this.tagName=O},addValue:function(O,L,$){if(!m.test(O))throw new Error("invalid attribute:"+O);this.attributeNames[O]=this.length,this[this.length++]={qName:O,value:L,offset:$}},length:0,getLocalName:function(O){return this[O].localName},getLocator:function(O){return this[O].locator},getQName:function(O){return this[O].qName},getURI:function(O){return this[O].uri},getValue:function(O){return this[O].value}};function F(O,L){var $,Y=[],re=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(re.lastIndex=L,re.exec(O);$=re.exec(O);)if(Y.push($),$[1])return Y}u.XMLReader=D,u.ParseError=_},"./node_modules/process/browser.js":function(o,u){var r=o.exports={},t,d;function n(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=n}catch{t=n}try{typeof clearTimeout=="function"?d=clearTimeout:d=m}catch{d=m}})();function R(N){if(t===setTimeout)return setTimeout(N,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(N,0);try{return t(N,0)}catch{try{return t.call(null,N,0)}catch{return t.call(this,N,0)}}}function I(N){if(d===clearTimeout)return clearTimeout(N);if((d===m||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(N);try{return d(N)}catch{try{return d.call(null,N)}catch{return d.call(this,N)}}}var i=[],l=!1,w,C=-1;function S(){!l||!w||(l=!1,w.length?i=w.concat(i):C=-1,i.length&&p())}function p(){if(!l){var N=R(S);l=!0;for(var T=i.length;T;){for(w=i,i=[];++C<T;)w&&w[C].run();C=-1,T=i.length}w=null,l=!1,I(N)}}r.nextTick=function(N){var T=new Array(arguments.length-1);if(arguments.length>1)for(var g=1;g<arguments.length;g++)T[g-1]=arguments[g];i.push(new _(N,T)),i.length===1&&!l&&R(p)};function _(N,T){this.fun=N,this.array=T}_.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function D(){}r.on=D,r.addListener=D,r.once=D,r.off=D,r.removeListener=D,r.removeAllListeners=D,r.emit=D,r.prependListener=D,r.prependOnceListener=D,r.listeners=function(N){return[]},r.binding=function(N){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(N){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"./node_modules/webpack/buildin/amd-options.js":function(o,u){(function(r){o.exports=r}).call(this,{})},"./node_modules/webpack/buildin/global.js":function(o,u){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}o.exports=r},"./node_modules/webpack/buildin/module.js":function(o,u){o.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children||(r.children=[]),Object.defineProperty(r,"loaded",{enumerable:!0,get:function(){return r.l}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return r.i}}),r.webpackPolyfill=1),r}},"./package.json":function(o){o.exports=JSON.parse('{"name":"cos-js-sdk-v5","version":"1.4.18","description":"JavaScript SDK for [腾讯云对象存储](https://cloud.tencent.com/product/cos)","main":"dist/cos-js-sdk-v5.js","types":"index.d.ts","scripts":{"prettier":"prettier --write src demo/demo.js test/test.js server/sts.js index.d.ts","server":"node server/sts.js","dev":"cross-env NODE_ENV=development webpack -w --mode=development","build":"cross-env NODE_ENV=production webpack --mode=production","cos-auth.min.js":"uglifyjs ./demo/common/cos-auth.js -o ./demo/common/cos-auth.min.js -c -m","test":"jest --runInBand --coverage"},"repository":{"type":"git","url":"git+https://github.com/tencentyun/cos-js-sdk-v5.git"},"keywords":[],"author":"carsonxu","license":"ISC","bugs":{"url":"https://github.com/tencentyun/cos-js-sdk-v5/issues"},"homepage":"https://github.com/tencentyun/cos-js-sdk-v5#readme","dependencies":{"@xmldom/xmldom":"^0.8.6"},"devDependencies":{"@babel/core":"7.17.9","@babel/plugin-transform-runtime":"7.18.10","@babel/preset-env":"7.16.11","babel-loader":"8.2.5","body-parser":"^1.18.3","cross-env":"^5.2.0","express":"^4.16.4","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","prettier":"2.8.8","qcloud-cos-sts":"^3.0.2","request":"^2.87.0","terser-webpack-plugin":"4.2.3","uglifyjs":"^2.4.11","webpack":"4.46.0","webpack-cli":"4.10.0"}}')},"./src/advance.js":function(o,u,r){var t=r("./node_modules/@babel/runtime/helpers/typeof.js"),d=r("./src/session.js"),n=r("./src/async.js"),m=r("./src/event.js").EventProxy,R=r("./src/util.js"),I=r("./src/tracker.js");function i(c,q){var K=this,A=new m,F=c.TaskId,O=c.Bucket,L=c.Region,$=c.Key,Y=c.Body,re=c.ChunkSize||c.SliceSize||K.options.ChunkSize,se=c.AsyncLimit,ue=c.StorageClass,ce=c.ServerSideEncryption,oe,X,Q=c.onHashProgress,ee=c.tracker;ee&&ee.setParams({chunkSize:re}),A.on("error",function(G){if(K._isRunningTask(F))return G.UploadId=c.UploadData.UploadId||"",q(G)}),A.on("upload_complete",function(G){var ie=R.extend({UploadId:c.UploadData.UploadId||""},G);q(null,ie)}),A.on("upload_slice_complete",function(G){var ie={};R.each(c.Headers,function(he,ye){var fe=ye.toLowerCase();(fe.indexOf("x-cos-meta-")===0||fe==="pic-operations")&&(ie[ye]=he)}),_.call(K,{Bucket:O,Region:L,Key:$,UploadId:G.UploadId,SliceList:G.SliceList,Headers:ie,tracker:ee},function(he,ye){if(K._isRunningTask(F)){if(d.removeUsing(G.UploadId),he)return X(null,!0),A.emit("error",he);d.removeUploadId.call(K,G.UploadId),X({loaded:oe,total:oe},!0),A.emit("upload_complete",ye)}})}),A.on("get_upload_data_finish",function(G){var ie=d.getFileId(Y,c.ChunkSize,O,$);ie&&d.saveUploadId.call(K,ie,G.UploadId,K.options.UploadIdCacheLimit),d.setUsing(G.UploadId),X(null,!0),S.call(K,{TaskId:F,Bucket:O,Region:L,Key:$,Body:Y,FileSize:oe,SliceSize:re,AsyncLimit:se,ServerSideEncryption:ce,UploadData:G,Headers:c.Headers,onProgress:X,tracker:ee},function(he,ye){if(K._isRunningTask(F)){if(he)return X(null,!0),A.emit("error",he);A.emit("upload_slice_complete",ye)}})}),A.on("get_file_size_finish",function(){if(X=R.throttleOnProgress.call(K,oe,c.onProgress),c.UploadData.UploadId)A.emit("get_upload_data_finish",c.UploadData);else{var G=R.extend({TaskId:F,Bucket:O,Region:L,Key:$,Headers:c.Headers,StorageClass:ue,Body:Y,FileSize:oe,SliceSize:re,onHashProgress:Q,tracker:ee},c);l.call(K,G,function(ie,he){if(K._isRunningTask(F)){if(ie)return A.emit("error",ie);c.UploadData.UploadId=he.UploadId,c.UploadData.PartList=he.PartList,A.emit("get_upload_data_finish",c.UploadData)}})}}),oe=c.ContentLength,delete c.ContentLength,!c.Headers&&(c.Headers={}),R.each(c.Headers,function(G,ie){ie.toLowerCase()==="content-length"&&delete c.Headers[ie]}),function(){for(var G=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],ie=1024*1024,he=0;he<G.length&&(ie=G[he]*1024*1024,!(oe/ie<=K.options.MaxPartNumber));he++);c.ChunkSize=c.SliceSize=re=Math.max(re,ie)}(),oe===0?(c.Body="",c.ContentLength=0,c.SkipTask=!0,K.putObject(c,q)):A.emit("get_file_size_finish")}function l(c,q){var K=c.TaskId,A=c.Bucket,F=c.Region,O=c.Key,L=c.StorageClass,$=this,Y={},re=c.FileSize,se=c.SliceSize,ue=Math.ceil(re/se),ce=0,oe=R.throttleOnProgress.call($,re,c.onHashProgress),X=function(ie,he){var ye=se*(ie-1),fe=Math.min(ye+se,re),me=fe-ye;Y[ie]?he(null,{PartNumber:ie,ETag:Y[ie],Size:me}):R.fileSlice(c.Body,ye,fe,!1,function(Se){R.getFileMd5(Se,function(Re,Ee){if(Re)return he(R.error(Re));var ke='"'+Ee+'"';Y[ie]=ke,ce+=me,oe({loaded:ce,total:re}),he(null,{PartNumber:ie,ETag:ke,Size:me})})})},Q=function(ie,he){var ye=ie.length;if(ye===0)return he(null,!0);if(ye>ue)return he(null,!1);if(ye>1){var fe=Math.max(ie[0].Size,ie[1].Size);if(fe!==se)return he(null,!1)}var me=function Se(Re){if(Re<ye){var Ee=ie[Re];X(Ee.PartNumber,function(ke,be){be&&be.ETag===Ee.ETag&&be.Size===Ee.Size?Se(Re+1):he(null,!1)})}else he(null,!0)};me(0)},ee=new m;ee.on("error",function(G){if($._isRunningTask(K))return q(G)}),ee.on("upload_id_available",function(G){var ie={},he=[];R.each(G.PartList,function(me){ie[me.PartNumber]=me});for(var ye=1;ye<=ue;ye++){var fe=ie[ye];fe?(fe.PartNumber=ye,fe.Uploaded=!0):fe={PartNumber:ye,ETag:null,Uploaded:!1},he.push(fe)}G.PartList=he,q(null,G)}),ee.on("no_available_upload_id",function(){if($._isRunningTask(K)){var G=R.extend({Bucket:A,Region:F,Key:O,Query:R.clone(c.Query),StorageClass:L,Body:c.Body,calledBySdk:"sliceUploadFile",tracker:c.tracker},c),ie=R.clone(c.Headers);delete ie["x-cos-mime-limit"],G.Headers=ie,$.multipartInit(G,function(he,ye){if($._isRunningTask(K)){if(he)return ee.emit("error",he);var fe=ye.UploadId;if(!fe)return q(R.error(new Error("no such upload id")));ee.emit("upload_id_available",{UploadId:fe,PartList:[]})}})}}),ee.on("has_and_check_upload_id",function(G){G=G.reverse(),n.eachLimit(G,1,function(ie,he){if($._isRunningTask(K)){if(d.using[ie]){he();return}C.call($,{Bucket:A,Region:F,Key:O,UploadId:ie,tracker:c.tracker},function(ye,fe){if($._isRunningTask(K)){if(ye)return d.removeUsing(ie),ee.emit("error",ye);var me=fe.PartList;me.forEach(function(Se){Se.PartNumber*=1,Se.Size*=1,Se.ETag=Se.ETag||""}),Q(me,function(Se,Re){if($._isRunningTask(K)){if(Se)return ee.emit("error",Se);Re?he({UploadId:ie,PartList:me}):he()}})}})}},function(ie){$._isRunningTask(K)&&(oe(null,!0),ie&&ie.UploadId?ee.emit("upload_id_available",ie):ee.emit("no_available_upload_id"))})}),ee.on("seek_local_avail_upload_id",function(G){var ie=d.getFileId(c.Body,c.ChunkSize,A,O),he=d.getUploadIdList.call($,ie);if(!ie||!he){ee.emit("has_and_check_upload_id",G);return}var ye=function fe(me){if(me>=he.length){ee.emit("has_and_check_upload_id",G);return}var Se=he[me];if(!R.isInArray(G,Se)){d.removeUploadId.call($,Se),fe(me+1);return}if(d.using[Se]){fe(me+1);return}C.call($,{Bucket:A,Region:F,Key:O,UploadId:Se,tracker:c.tracker},function(Re,Ee){$._isRunningTask(K)&&(Re?(d.removeUploadId.call($,Se),fe(me+1)):ee.emit("upload_id_available",{UploadId:Se,PartList:Ee.PartList}))})};ye(0)}),ee.on("get_remote_upload_id_list",function(){w.call($,{Bucket:A,Region:F,Key:O,tracker:c.tracker},function(G,ie){if($._isRunningTask(K)){if(G)return ee.emit("error",G);var he=R.filter(ie.UploadList,function(me){return me.Key===O&&(!L||me.StorageClass.toUpperCase()===L.toUpperCase())}).reverse().map(function(me){return me.UploadId||me.UploadID});if(he.length)ee.emit("seek_local_avail_upload_id",he);else{var ye=d.getFileId(c.Body,c.ChunkSize,A,O),fe;ye&&(fe=d.getUploadIdList.call($,ye))&&R.each(fe,function(me){d.removeUploadId.call($,me)}),ee.emit("no_available_upload_id")}}})}),ee.emit("get_remote_upload_id_list")}function w(c,q){var K=this,A=[],F={Bucket:c.Bucket,Region:c.Region,Prefix:c.Key,calledBySdk:c.calledBySdk||"sliceUploadFile",tracker:c.tracker},O=function L(){K.multipartList(F,function($,Y){if($)return q($);A.push.apply(A,Y.Upload||[]),Y.IsTruncated==="true"?(F.KeyMarker=Y.NextKeyMarker,F.UploadIdMarker=Y.NextUploadIdMarker,L()):q(null,{UploadList:A})})};O()}function C(c,q){var K=this,A=[],F={Bucket:c.Bucket,Region:c.Region,Key:c.Key,UploadId:c.UploadId,calledBySdk:"sliceUploadFile",tracker:c.tracker},O=function L(){K.multipartListPart(F,function($,Y){if($)return q($);A.push.apply(A,Y.Part||[]),Y.IsTruncated==="true"?(F.PartNumberMarker=Y.NextPartNumberMarker,L()):q(null,{PartList:A})})};O()}function S(c,q){var K=this,A=c.TaskId,F=c.Bucket,O=c.Region,L=c.Key,$=c.UploadData,Y=c.FileSize,re=c.SliceSize,se=Math.min(c.AsyncLimit||K.options.ChunkParallelLimit||1,256),ue=c.Body,ce=Math.ceil(Y/re),oe=0,X=c.ServerSideEncryption,Q=c.Headers,ee=R.filter($.PartList,function(ie){return ie.Uploaded&&(oe+=ie.PartNumber>=ce&&Y%re||re),!ie.Uploaded}),G=c.onProgress;n.eachLimit(ee,se,function(ie,he){if(K._isRunningTask(A)){var ye=ie.PartNumber,fe=Math.min(Y,ie.PartNumber*re)-(ie.PartNumber-1)*re,me=0;p.call(K,{TaskId:A,Bucket:F,Region:O,Key:L,SliceSize:re,FileSize:Y,PartNumber:ye,ServerSideEncryption:X,Body:ue,UploadData:$,Headers:Q,onProgress:function(Re){oe+=Re.loaded-me,me=Re.loaded,G({loaded:oe,total:Y})},tracker:c.tracker},function(Se,Re){K._isRunningTask(A)&&(!Se&&!Re.ETag&&(Se='get ETag error, please add "ETag" to CORS ExposeHeader setting.( 获取ETag失败，请在CORS ExposeHeader设置中添加ETag，请参考文档：https://cloud.tencent.com/document/product/436/13318 )'),Se?oe-=me:(oe+=fe-me,ie.ETag=Re.ETag),G({loaded:oe,total:Y}),he(Se||null,Re))})}},function(ie){if(K._isRunningTask(A)){if(ie)return q(ie);q(null,{UploadId:$.UploadId,SliceList:$.PartList})}})}function p(c,q){var K=this,A=c.TaskId,F=c.Bucket,O=c.Region,L=c.Key,$=c.FileSize,Y=c.Body,re=c.PartNumber*1,se=c.SliceSize,ue=c.ServerSideEncryption,ce=c.UploadData,oe=c.Headers||{},X=K.options.ChunkRetryTimes+1,Q=se*(re-1),ee=se,G=Q+se;G>$&&(G=$,ee=G-Q);var ie=["x-cos-traffic-limit","x-cos-mime-limit"],he={};R.each(oe,function(fe,me){ie.indexOf(me)>-1&&(he[me]=fe)});var ye=ce.PartList[re-1];n.retry(X,function(fe){K._isRunningTask(A)&&R.fileSlice(Y,Q,G,!0,function(me){K.multipartUpload({TaskId:A,Bucket:F,Region:O,Key:L,ContentLength:ee,PartNumber:re,UploadId:ce.UploadId,ServerSideEncryption:ue,Body:me,Headers:he,onProgress:c.onProgress,calledBySdk:"sliceUploadFile",tracker:c.tracker},function(Se,Re){if(K._isRunningTask(A))return Se?fe(Se):(ye.Uploaded=!0,fe(null,Re))})})},function(fe,me){if(K._isRunningTask(A))return q(fe,me)})}function _(c,q){var K=c.Bucket,A=c.Region,F=c.Key,O=c.UploadId,L=c.SliceList,$=this,Y=this.options.ChunkRetryTimes+1,re=c.Headers,se=L.map(function(ue){return{PartNumber:ue.PartNumber,ETag:ue.ETag}});n.retry(Y,function(ue){$.multipartComplete({Bucket:K,Region:A,Key:F,UploadId:O,Parts:se,Headers:re,calledBySdk:"sliceUploadFile",tracker:c.tracker},ue)},function(ue,ce){q(ue,ce)})}function D(c,q){var K=c.Bucket,A=c.Region,F=c.Key,O=c.UploadId,L=c.Level||"task",$=c.AsyncLimit,Y=this,re=new m;if(re.on("error",function(se){return q(se)}),re.on("get_abort_array",function(se){N.call(Y,{Bucket:K,Region:A,Key:F,Headers:c.Headers,AsyncLimit:$,AbortArray:se},q)}),L==="bucket")w.call(Y,{Bucket:K,Region:A,calledBySdk:"abortUploadTask"},function(se,ue){if(se)return q(se);re.emit("get_abort_array",ue.UploadList||[])});else if(L==="file"){if(!F)return q(R.error(new Error("abort_upload_task_no_key")));w.call(Y,{Bucket:K,Region:A,Key:F,calledBySdk:"abortUploadTask"},function(se,ue){if(se)return q(se);re.emit("get_abort_array",ue.UploadList||[])})}else if(L==="task"){if(!O)return q(R.error(new Error("abort_upload_task_no_id")));if(!F)return q(R.error(new Error("abort_upload_task_no_key")));re.emit("get_abort_array",[{Key:F,UploadId:O}])}else return q(R.error(new Error("abort_unknown_level")))}function N(c,q){var K=c.Bucket,A=c.Region,F=c.Key,O=c.AbortArray,L=c.AsyncLimit||1,$=this,Y=0,re=new Array(O.length);n.eachLimit(O,L,function(se,ue){var ce=Y;if(F&&F!==se.Key){re[ce]={error:{KeyNotMatch:!0}},ue(null);return}var oe=se.UploadId||se.UploadID;$.multipartAbort({Bucket:K,Region:A,Key:se.Key,Headers:c.Headers,UploadId:oe},function(X){var Q={Bucket:K,Region:A,Key:se.Key,UploadId:oe};re[ce]={error:X,task:Q},ue(null)}),Y++},function(se){if(se)return q(se);for(var ue=[],ce=[],oe=0,X=re.length;oe<X;oe++){var Q=re[oe];Q.task&&(Q.error?ce.push(Q.task):ue.push(Q.task))}return q(null,{successList:ue,errorList:ce})})}function T(c,q){var K=this,A=c.SliceSize===void 0?K.options.SliceSize:c.SliceSize,F=[],O=c.Body,L=O.size||O.length||0,$={TaskId:""};if(K.options.EnableTracker){var Y=K.options.UseAccelerate||typeof K.options.Domain=="string"&&K.options.Domain.includes("accelerate.");c.tracker=new I({bucket:c.Bucket,region:c.Region,apiName:"uploadFile",fileKey:c.Key,fileSize:L,accelerate:Y,deepTracker:K.options.DeepTracker,customId:K.options.CustomId,delay:K.options.TrackerDelay})}R.each(c,function(X,Q){t(X)!=="object"&&typeof X!="function"&&($[Q]=X)});var re=c.onTaskReady,se=function(Q){$.TaskId=Q,re&&re(Q)};c.onTaskReady=se;var ue=L>A?"sliceUploadFile":"putObject",ce=c.onFileFinish,oe=function(Q,ee){c.tracker&&c.tracker.formatResult(Q,ee),ce&&ce(Q,ee,$),q&&q(Q,ee)};F.push({api:ue,params:c,callback:oe}),K._addTasks(F)}function g(c,q){var K=this,A=c.SliceSize===void 0?K.options.SliceSize:c.SliceSize,F=0,O=0,L=R.throttleOnProgress.call(K,O,c.onProgress),$=c.files.length,Y=c.onFileFinish,re=Array($),se=function(oe,X,Q){L(null,!0),Y&&Y(oe,X,Q),re[Q.Index]={options:Q,error:oe,data:X},--$<=0&&q&&q(null,{files:re})},ue=[];R.each(c.files,function(ce,oe){(function(){var X=ce.Body,Q=X.size||X.length||0,ee={Index:oe,TaskId:""};if(F+=Q,K.options.EnableTracker){var G=K.options.UseAccelerate||typeof K.options.Domain=="string"&&K.options.Domain.includes("accelerate.");ce.tracker=new I({bucket:ce.Bucket,region:ce.Region,apiName:"uploadFiles",fileKey:ce.Key,fileSize:Q,accelerate:G,deepTracker:K.options.DeepTracker,customId:K.options.CustomId,delay:K.options.TrackerDelay})}R.each(ce,function(ke,be){t(ke)!=="object"&&typeof ke!="function"&&(ee[be]=ke)});var ie=ce.onTaskReady,he=function(be){ee.TaskId=be,ie&&ie(be)};ce.onTaskReady=he;var ye=0,fe=ce.onProgress,me=function(be){O=O-ye+be.loaded,ye=be.loaded,fe&&fe(be),L({loaded:O,total:F})};ce.onProgress=me;var Se=Q>A?"sliceUploadFile":"putObject",Re=ce.onFileFinish,Ee=function(be,Te){ce.tracker&&ce.tracker.formatResult(be,Te),Re&&Re(be,Te),se&&se(be,Te,ee)};ue.push({api:Se,params:ce,callback:Ee})})()}),K._addTasks(ue)}function a(c,q){var K=new m,A=this,F=c.Bucket,O=c.Region,L=c.Key,$=c.CopySource,Y=R.getSourceParams.call(this,$);if(!Y){q(R.error(new Error("CopySource format error")));return}var re=Y.Bucket,se=Y.Region,ue=decodeURIComponent(Y.Key),ce=c.CopySliceSize===void 0?A.options.CopySliceSize:c.CopySliceSize;ce=Math.max(0,ce);var oe=c.CopyChunkSize||this.options.CopyChunkSize,X=this.options.CopyChunkParallelLimit,Q=this.options.ChunkRetryTimes+1,ee=0,G=0,ie,he,ye={},fe={},me={};K.on("copy_slice_complete",function(Se){R.each(c.Headers,function(Ee,ke){ke.toLowerCase().indexOf("x-cos-meta-")});var Re=R.map(Se.PartList,function(Ee){return{PartNumber:Ee.PartNumber,ETag:Ee.ETag}});n.retry(Q,function(Ee){A.multipartComplete({Bucket:F,Region:O,Key:L,UploadId:Se.UploadId,Parts:Re,calledBySdk:"sliceCopyFile"},Ee)},function(Ee,ke){if(d.removeUsing(Se.UploadId),Ee)return he(null,!0),q(Ee);d.removeUploadId(Se.UploadId),he({loaded:ie,total:ie},!0),q(null,ke)})}),K.on("get_copy_data_finish",function(Se){var Re=d.getCopyFileId($,ye,oe,F,L);Re&&d.saveUploadId(Re,Se.UploadId,A.options.UploadIdCacheLimit),d.setUsing(Se.UploadId);var Ee=R.filter(Se.PartList,function(ke){return ke.Uploaded&&(G+=ke.PartNumber>=ee&&ie%oe||oe),!ke.Uploaded});n.eachLimit(Ee,X,function(ke,be){var Te=ke.PartNumber,ve=ke.CopySourceRange,W=ke.end-ke.start;n.retry(Q,function(ne){f.call(A,{Bucket:F,Region:O,Key:L,CopySource:$,UploadId:Se.UploadId,PartNumber:Te,CopySourceRange:ve},ne)},function(ne,E){if(ne)return be(ne);G+=W,he({loaded:G,total:ie}),ke.ETag=E.ETag,be(ne||null,E)})},function(ke){if(ke)return d.removeUsing(Se.UploadId),he(null,!0),q(ke);K.emit("copy_slice_complete",Se)})}),K.on("get_chunk_size_finish",function(){var Se=function(){A.multipartInit({Bucket:F,Region:O,Key:L,Headers:me},function(Te,ve){if(Te)return q(Te);c.UploadId=ve.UploadId,K.emit("get_copy_data_finish",{UploadId:c.UploadId,PartList:c.PartList})})},Re=d.getCopyFileId($,ye,oe,F,L),Ee=d.getUploadIdList(Re);if(!Re||!Ee)return Se();var ke=function be(Te){if(Te>=Ee.length)return Se();var ve=Ee[Te];if(d.using[ve])return be(Te+1);C.call(A,{Bucket:F,Region:O,Key:L,UploadId:ve},function(W,ne){if(W)d.removeUploadId(ve),be(Te+1);else{if(d.using[ve])return be(Te+1);var E={},v=0;R.each(ne.PartList,function(x){var h=parseInt(x.Size),P=v+h-1;E[x.PartNumber+"|"+v+"|"+P]=x.ETag,v+=h}),R.each(c.PartList,function(x){var h=E[x.PartNumber+"|"+x.start+"|"+x.end];h&&(x.ETag=h,x.Uploaded=!0)}),K.emit("get_copy_data_finish",{UploadId:ve,PartList:c.PartList})}})};ke(0)}),K.on("get_file_size_finish",function(){if(function(){for(var Re=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],Ee=1024*1024,ke=0;ke<Re.length&&(Ee=Re[ke]*1024*1024,!(ie/Ee<=A.options.MaxPartNumber));ke++);c.ChunkSize=oe=Math.max(oe,Ee),ee=Math.ceil(ie/oe);for(var be=[],Te=1;Te<=ee;Te++){var ve=(Te-1)*oe,W=Te*oe<ie?Te*oe-1:ie-1,ne={PartNumber:Te,start:ve,end:W,CopySourceRange:"bytes="+ve+"-"+W};be.push(ne)}c.PartList=be}(),c.Headers["x-cos-metadata-directive"]==="Replaced"?me=c.Headers:me=fe,me["x-cos-storage-class"]=c.Headers["x-cos-storage-class"]||fe["x-cos-storage-class"],me=R.clearKey(me),fe["x-cos-storage-class"]==="ARCHIVE"||fe["x-cos-storage-class"]==="DEEP_ARCHIVE"){var Se=fe["x-cos-restore"];if(!Se||Se==='ongoing-request="true"'){q(R.error(new Error("Unrestored archive object is not allowed to be copied")));return}}delete me["x-cos-copy-source"],delete me["x-cos-metadata-directive"],delete me["x-cos-copy-source-If-Modified-Since"],delete me["x-cos-copy-source-If-Unmodified-Since"],delete me["x-cos-copy-source-If-Match"],delete me["x-cos-copy-source-If-None-Match"],K.emit("get_chunk_size_finish")}),A.headObject({Bucket:re,Region:se,Key:ue},function(Se,Re){if(Se){Se.statusCode&&Se.statusCode===404?q(R.error(Se,{ErrorStatus:ue+" Not Exist"})):q(Se);return}if(ie=c.FileSize=Re.headers["content-length"],ie===void 0||!ie){q(R.error(new Error('get Content-Length error, please add "Content-Length" to CORS ExposeHeader setting.（ 获取Content-Length失败，请在CORS ExposeHeader设置中添加Content-Length，请参考文档：https://cloud.tencent.com/document/product/436/13318 ）')));return}if(he=R.throttleOnProgress.call(A,ie,c.onProgress),ie<=ce)c.Headers["x-cos-metadata-directive"]||(c.Headers["x-cos-metadata-directive"]="Copy"),A.putObjectCopy(c,function(ke,be){if(ke)return he(null,!0),q(ke);he({loaded:ie,total:ie},!0),q(ke,be)});else{var Ee=Re.headers;ye=Ee,fe={"Cache-Control":Ee["cache-control"],"Content-Disposition":Ee["content-disposition"],"Content-Encoding":Ee["content-encoding"],"Content-Type":Ee["content-type"],Expires:Ee.expires,"x-cos-storage-class":Ee["x-cos-storage-class"]},R.each(Ee,function(ke,be){var Te="x-cos-meta-";be.indexOf(Te)===0&&be.length>Te.length&&(fe[be]=ke)}),K.emit("get_file_size_finish")}})}function f(c,q){var K=c.TaskId,A=c.Bucket,F=c.Region,O=c.Key,L=c.CopySource,$=c.UploadId,Y=c.PartNumber*1,re=c.CopySourceRange,se=this.options.ChunkRetryTimes+1,ue=this;n.retry(se,function(ce){ue.uploadPartCopy({TaskId:K,Bucket:A,Region:F,Key:O,CopySource:L,UploadId:$,PartNumber:Y,CopySourceRange:re},function(oe,X){ce(oe||null,X)})},function(ce,oe){return q(ce,oe)})}var H={sliceUploadFile:i,abortUploadTask:D,uploadFile:T,uploadFiles:g,sliceCopyFile:a};o.exports.init=function(c,q){q.transferToTaskMethod(H,"sliceUploadFile"),R.each(H,function(K,A){c.prototype[A]=R.apiWrapper(A,K)})}},"./src/async.js":function(o,u){var r=function(m,R,I,i){if(i=i||function(){},!m.length||R<=0)return i();var l=0,w=0,C=0;(function S(){if(l>=m.length)return i();for(;C<R&&w<m.length;)w+=1,C+=1,I(m[w-1],function(p){p?(i(p),i=function(){}):(l+=1,C-=1,l>=m.length?i():S())})})()},t=function(m,R,I){var i=function l(w){R(function(C,S){C&&w<m?l(w+1):I(C,S)})};m<1?I():i(1)},d={eachLimit:r,retry:t};o.exports=d},"./src/base.js":function(o,u,r){var t=r("./node_modules/@babel/runtime/helpers/typeof.js"),d=r("./lib/request.js"),n=r("./src/util.js");function m(e,B){typeof e=="function"&&(B=e,e={});var s=this.options.Protocol||(n.isBrowser&&(typeof location>"u"?"undefined":t(location))==="object"&&location.protocol==="http:"?"http:":"https:"),b=this.options.ServiceDomain,M=e.AppId||this.options.appId,U=e.Region;b?(b=b.replace(/\{\{AppId\}\}/gi,M||"").replace(/\{\{Region\}\}/gi,U||"").replace(/\{\{.*?\}\}/gi,""),/^[a-zA-Z]+:\/\//.test(b)||(b=s+"//"+b),b.slice(-1)==="/"&&(b=b.slice(0,-1))):U?b=s+"//cos."+U+".myqcloud.com":b=s+"//service.cos.myqcloud.com";var j="",Z=U?"cos."+U+".myqcloud.com":"service.cos.myqcloud.com",le=b.replace(/^https?:\/\/([^/]+)(\/.*)?$/,"$1");Z===le&&(j=Z),pe.call(this,{Action:"name/cos:GetService",url:b,method:"GET",headers:e.Headers,SignHost:j},function(Ie,we){if(Ie)return B(Ie);var Be=we&&we.ListAllMyBucketsResult&&we.ListAllMyBucketsResult.Buckets&&we.ListAllMyBucketsResult.Buckets.Bucket||[];Be=n.isArray(Be)?Be:[Be];var Oe=we&&we.ListAllMyBucketsResult&&we.ListAllMyBucketsResult.Owner||{};B(null,{Buckets:Be,Owner:Oe,statusCode:we.statusCode,headers:we.headers})})}function R(e,B){var s=this,b="";if(e.BucketAZConfig){var M={BucketAZConfig:e.BucketAZConfig};b=n.json2xml({CreateBucketConfiguration:M})}pe.call(this,{Action:"name/cos:PutBucket",method:"PUT",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,body:b},function(U,j){if(U)return B(U);var Z=te({protocol:s.options.Protocol,domain:s.options.Domain,bucket:e.Bucket,region:e.Region,isLocation:!0});B(null,{Location:Z,statusCode:j.statusCode,headers:j.headers})})}function I(e,B){pe.call(this,{Action:"name/cos:HeadBucket",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,method:"HEAD"},B)}function i(e,B){var s={};s.prefix=e.Prefix||"",s.delimiter=e.Delimiter,s.marker=e.Marker,s["max-keys"]=e.MaxKeys,s["encoding-type"]=e.EncodingType,pe.call(this,{Action:"name/cos:GetBucket",ResourceKey:s.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:s},function(b,M){if(b)return B(b);var U=M.ListBucketResult||{},j=U.Contents||[],Z=U.CommonPrefixes||[];j=n.isArray(j)?j:[j],Z=n.isArray(Z)?Z:[Z];var le=n.clone(U);n.extend(le,{Contents:j,CommonPrefixes:Z,statusCode:M.statusCode,headers:M.headers}),B(null,le)})}function l(e,B){pe.call(this,{Action:"name/cos:DeleteBucket",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,method:"DELETE"},function(s,b){if(s&&s.statusCode===204)return B(null,{statusCode:s.statusCode});if(s)return B(s);B(null,{statusCode:b.statusCode,headers:b.headers})})}function w(e,B){var s=e.Headers,b="";if(e.AccessControlPolicy){var M=n.clone(e.AccessControlPolicy||{}),U=M.Grants||M.Grant;U=n.isArray(U)?U:[U],delete M.Grant,delete M.Grants,M.AccessControlList={Grant:U},b=n.json2xml({AccessControlPolicy:M}),s["Content-Type"]="application/xml",s["Content-MD5"]=n.b64(n.md5(b))}n.each(s,function(j,Z){Z.indexOf("x-cos-grant-")===0&&(s[Z]=z(s[Z]))}),pe.call(this,{Action:"name/cos:PutBucketACL",method:"PUT",Bucket:e.Bucket,Region:e.Region,headers:s,action:"acl",body:b},function(j,Z){if(j)return B(j);B(null,{statusCode:Z.statusCode,headers:Z.headers})})}function C(e,B){pe.call(this,{Action:"name/cos:GetBucketACL",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"acl"},function(s,b){if(s)return B(s);var M=b.AccessControlPolicy||{},U=M.Owner||{},j=M.AccessControlList.Grant||[];j=n.isArray(j)?j:[j];var Z=k(M);b.headers&&b.headers["x-cos-acl"]&&(Z.ACL=b.headers["x-cos-acl"]),Z=n.extend(Z,{Owner:U,Grants:j,statusCode:b.statusCode,headers:b.headers}),B(null,Z)})}function S(e,B){var s=e.CORSConfiguration||{},b=s.CORSRules||e.CORSRules||[];b=n.clone(n.isArray(b)?b:[b]),n.each(b,function(Z){n.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],function(le){var Ie=le+"s",we=Z[Ie]||Z[le]||[];delete Z[Ie],Z[le]=n.isArray(we)?we:[we]})});var M={CORSRule:b};e.ResponseVary&&(M.ResponseVary=e.ResponseVary);var U=n.json2xml({CORSConfiguration:M}),j=e.Headers;j["Content-Type"]="application/xml",j["Content-MD5"]=n.b64(n.md5(U)),pe.call(this,{Action:"name/cos:PutBucketCORS",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:U,action:"cors",headers:j},function(Z,le){if(Z)return B(Z);B(null,{statusCode:le.statusCode,headers:le.headers})})}function p(e,B){pe.call(this,{Action:"name/cos:GetBucketCORS",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"cors"},function(s,b){if(s){if(s.statusCode===404&&s.error&&s.error.Code==="NoSuchCORSConfiguration"){var M={CORSRules:[],statusCode:s.statusCode};s.headers&&(M.headers=s.headers),B(null,M)}else B(s);return}var U=b.CORSConfiguration||{},j=U.CORSRules||U.CORSRule||[];j=n.clone(n.isArray(j)?j:[j]);var Z=U.ResponseVary;n.each(j,function(le){n.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],function(Ie){var we=Ie+"s",Be=le[we]||le[Ie]||[];delete le[Ie],le[we]=n.isArray(Be)?Be:[Be]})}),B(null,{CORSRules:j,ResponseVary:Z,statusCode:b.statusCode,headers:b.headers})})}function _(e,B){pe.call(this,{Action:"name/cos:DeleteBucketCORS",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"cors"},function(s,b){if(s&&s.statusCode===204)return B(null,{statusCode:s.statusCode});if(s)return B(s);B(null,{statusCode:b.statusCode||s.statusCode,headers:b.headers})})}function D(e,B){pe.call(this,{Action:"name/cos:GetBucketLocation",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"location"},B)}function N(e,B){var s=e.Policy;try{typeof s=="string"&&(s=JSON.parse(s))}catch{}if(!s||typeof s=="string")return B(n.error(new Error("Policy format error")));var b=JSON.stringify(s);s.version||(s.version="2.0");var M=e.Headers;M["Content-Type"]="application/json",M["Content-MD5"]=n.b64(n.md5(b)),pe.call(this,{Action:"name/cos:PutBucketPolicy",method:"PUT",Bucket:e.Bucket,Region:e.Region,action:"policy",body:b,headers:M},function(U,j){if(U&&U.statusCode===204)return B(null,{statusCode:U.statusCode});if(U)return B(U);B(null,{statusCode:j.statusCode,headers:j.headers})})}function T(e,B){pe.call(this,{Action:"name/cos:GetBucketPolicy",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"policy",rawBody:!0},function(s,b){if(s)return s.statusCode&&s.statusCode===403?B(n.error(s,{ErrorStatus:"Access Denied"})):s.statusCode&&s.statusCode===405?B(n.error(s,{ErrorStatus:"Method Not Allowed"})):s.statusCode&&s.statusCode===404?B(n.error(s,{ErrorStatus:"Policy Not Found"})):B(s);var M={};try{M=JSON.parse(b.body)}catch{}B(null,{Policy:M,statusCode:b.statusCode,headers:b.headers})})}function g(e,B){pe.call(this,{Action:"name/cos:DeleteBucketPolicy",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"policy"},function(s,b){if(s&&s.statusCode===204)return B(null,{statusCode:s.statusCode});if(s)return B(s);B(null,{statusCode:b.statusCode||s.statusCode,headers:b.headers})})}function a(e,B){var s=e.Tagging||{},b=s.TagSet||s.Tags||e.Tags||[];b=n.clone(n.isArray(b)?b:[b]);var M=n.json2xml({Tagging:{TagSet:{Tag:b}}}),U=e.Headers;U["Content-Type"]="application/xml",U["Content-MD5"]=n.b64(n.md5(M)),pe.call(this,{Action:"name/cos:PutBucketTagging",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:M,action:"tagging",headers:U},function(j,Z){if(j&&j.statusCode===204)return B(null,{statusCode:j.statusCode});if(j)return B(j);B(null,{statusCode:Z.statusCode,headers:Z.headers})})}function f(e,B){pe.call(this,{Action:"name/cos:GetBucketTagging",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging"},function(s,b){if(s){if(s.statusCode===404&&s.error&&(s.error==="Not Found"||s.error.Code==="NoSuchTagSet")){var M={Tags:[],statusCode:s.statusCode};s.headers&&(M.headers=s.headers),B(null,M)}else B(s);return}var U=[];try{U=b.Tagging.TagSet.Tag||[]}catch{}U=n.clone(n.isArray(U)?U:[U]),B(null,{Tags:U,statusCode:b.statusCode,headers:b.headers})})}function H(e,B){pe.call(this,{Action:"name/cos:DeleteBucketTagging",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging"},function(s,b){if(s&&s.statusCode===204)return B(null,{statusCode:s.statusCode});if(s)return B(s);B(null,{statusCode:b.statusCode,headers:b.headers})})}function c(e,B){var s=e.LifecycleConfiguration||{},b=s.Rules||e.Rules||[];b=n.clone(b);var M=n.json2xml({LifecycleConfiguration:{Rule:b}}),U=e.Headers;U["Content-Type"]="application/xml",U["Content-MD5"]=n.b64(n.md5(M)),pe.call(this,{Action:"name/cos:PutBucketLifecycle",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:M,action:"lifecycle",headers:U},function(j,Z){if(j&&j.statusCode===204)return B(null,{statusCode:j.statusCode});if(j)return B(j);B(null,{statusCode:Z.statusCode,headers:Z.headers})})}function q(e,B){pe.call(this,{Action:"name/cos:GetBucketLifecycle",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"lifecycle"},function(s,b){if(s){if(s.statusCode===404&&s.error&&s.error.Code==="NoSuchLifecycleConfiguration"){var M={Rules:[],statusCode:s.statusCode};s.headers&&(M.headers=s.headers),B(null,M)}else B(s);return}var U=[];try{U=b.LifecycleConfiguration.Rule||[]}catch{}U=n.clone(n.isArray(U)?U:[U]),B(null,{Rules:U,statusCode:b.statusCode,headers:b.headers})})}function K(e,B){pe.call(this,{Action:"name/cos:DeleteBucketLifecycle",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"lifecycle"},function(s,b){if(s&&s.statusCode===204)return B(null,{statusCode:s.statusCode});if(s)return B(s);B(null,{statusCode:b.statusCode,headers:b.headers})})}function A(e,B){if(!e.VersioningConfiguration){B(n.error(new Error("missing param VersioningConfiguration")));return}var s=e.VersioningConfiguration||{},b=n.json2xml({VersioningConfiguration:s}),M=e.Headers;M["Content-Type"]="application/xml",M["Content-MD5"]=n.b64(n.md5(b)),pe.call(this,{Action:"name/cos:PutBucketVersioning",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:b,action:"versioning",headers:M},function(U,j){if(U&&U.statusCode===204)return B(null,{statusCode:U.statusCode});if(U)return B(U);B(null,{statusCode:j.statusCode,headers:j.headers})})}function F(e,B){pe.call(this,{Action:"name/cos:GetBucketVersioning",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"versioning"},function(s,b){s||!b.VersioningConfiguration&&(b.VersioningConfiguration={}),B(s,b)})}function O(e,B){var s=n.clone(e.ReplicationConfiguration),b=n.json2xml({ReplicationConfiguration:s});b=b.replace(/<(\/?)Rules>/gi,"<$1Rule>"),b=b.replace(/<(\/?)Tags>/gi,"<$1Tag>");var M=e.Headers;M["Content-Type"]="application/xml",M["Content-MD5"]=n.b64(n.md5(b)),pe.call(this,{Action:"name/cos:PutBucketReplication",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:b,action:"replication",headers:M},function(U,j){if(U&&U.statusCode===204)return B(null,{statusCode:U.statusCode});if(U)return B(U);B(null,{statusCode:j.statusCode,headers:j.headers})})}function L(e,B){pe.call(this,{Action:"name/cos:GetBucketReplication",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"replication"},function(s,b){if(s){if(s.statusCode===404&&s.error&&(s.error==="Not Found"||s.error.Code==="ReplicationConfigurationnotFoundError")){var M={ReplicationConfiguration:{Rules:[]},statusCode:s.statusCode};s.headers&&(M.headers=s.headers),B(null,M)}else B(s);return}!b.ReplicationConfiguration&&(b.ReplicationConfiguration={}),b.ReplicationConfiguration.Rule&&(b.ReplicationConfiguration.Rules=n.makeArray(b.ReplicationConfiguration.Rule),delete b.ReplicationConfiguration.Rule),B(s,b)})}function $(e,B){pe.call(this,{Action:"name/cos:DeleteBucketReplication",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"replication"},function(s,b){if(s&&s.statusCode===204)return B(null,{statusCode:s.statusCode});if(s)return B(s);B(null,{statusCode:b.statusCode,headers:b.headers})})}function Y(e,B){if(!e.WebsiteConfiguration){B(n.error(new Error("missing param WebsiteConfiguration")));return}var s=n.clone(e.WebsiteConfiguration||{}),b=s.RoutingRules||s.RoutingRule||[];b=n.isArray(b)?b:[b],delete s.RoutingRule,delete s.RoutingRules,b.length&&(s.RoutingRules={RoutingRule:b});var M=n.json2xml({WebsiteConfiguration:s}),U=e.Headers;U["Content-Type"]="application/xml",U["Content-MD5"]=n.b64(n.md5(M)),pe.call(this,{Action:"name/cos:PutBucketWebsite",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:M,action:"website",headers:U},function(j,Z){if(j&&j.statusCode===204)return B(null,{statusCode:j.statusCode});if(j)return B(j);B(null,{statusCode:Z.statusCode,headers:Z.headers})})}function re(e,B){pe.call(this,{Action:"name/cos:GetBucketWebsite",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"website"},function(s,b){if(s){if(s.statusCode===404&&s.error.Code==="NoSuchWebsiteConfiguration"){var M={WebsiteConfiguration:{},statusCode:s.statusCode};s.headers&&(M.headers=s.headers),B(null,M)}else B(s);return}var U=b.WebsiteConfiguration||{};if(U.RoutingRules){var j=n.clone(U.RoutingRules.RoutingRule||[]);j=n.makeArray(j),U.RoutingRules=j}B(null,{WebsiteConfiguration:U,statusCode:b.statusCode,headers:b.headers})})}function se(e,B){pe.call(this,{Action:"name/cos:DeleteBucketWebsite",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"website"},function(s,b){if(s&&s.statusCode===204)return B(null,{statusCode:s.statusCode});if(s)return B(s);B(null,{statusCode:b.statusCode,headers:b.headers})})}function ue(e,B){if(!e.RefererConfiguration){B(n.error(new Error("missing param RefererConfiguration")));return}var s=n.clone(e.RefererConfiguration||{}),b=s.DomainList||{},M=b.Domains||b.Domain||[];M=n.isArray(M)?M:[M],M.length&&(s.DomainList={Domain:M});var U=n.json2xml({RefererConfiguration:s}),j=e.Headers;j["Content-Type"]="application/xml",j["Content-MD5"]=n.b64(n.md5(U)),pe.call(this,{Action:"name/cos:PutBucketReferer",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:U,action:"referer",headers:j},function(Z,le){if(Z&&Z.statusCode===204)return B(null,{statusCode:Z.statusCode});if(Z)return B(Z);B(null,{statusCode:le.statusCode,headers:le.headers})})}function ce(e,B){pe.call(this,{Action:"name/cos:GetBucketReferer",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"referer"},function(s,b){if(s){if(s.statusCode===404&&s.error.Code==="NoSuchRefererConfiguration"){var M={WebsiteConfiguration:{},statusCode:s.statusCode};s.headers&&(M.headers=s.headers),B(null,M)}else B(s);return}var U=b.RefererConfiguration||{};if(U.DomainList){var j=n.makeArray(U.DomainList.Domain||[]);U.DomainList={Domains:j}}B(null,{RefererConfiguration:U,statusCode:b.statusCode,headers:b.headers})})}function oe(e,B){var s=e.DomainConfiguration||{},b=s.DomainRule||e.DomainRule||[];b=n.clone(b);var M=n.json2xml({DomainConfiguration:{DomainRule:b}}),U=e.Headers;U["Content-Type"]="application/xml",U["Content-MD5"]=n.b64(n.md5(M)),pe.call(this,{Action:"name/cos:PutBucketDomain",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:M,action:"domain",headers:U},function(j,Z){if(j&&j.statusCode===204)return B(null,{statusCode:j.statusCode});if(j)return B(j);B(null,{statusCode:Z.statusCode,headers:Z.headers})})}function X(e,B){pe.call(this,{Action:"name/cos:GetBucketDomain",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"domain"},function(s,b){if(s)return B(s);var M=[];try{M=b.DomainConfiguration.DomainRule||[]}catch{}M=n.clone(n.isArray(M)?M:[M]),B(null,{DomainRule:M,statusCode:b.statusCode,headers:b.headers})})}function Q(e,B){pe.call(this,{Action:"name/cos:DeleteBucketDomain",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"domain"},function(s,b){if(s&&s.statusCode===204)return B(null,{statusCode:s.statusCode});if(s)return B(s);B(null,{statusCode:b.statusCode,headers:b.headers})})}function ee(e,B){var s=e.OriginConfiguration||{},b=s.OriginRule||e.OriginRule||[];b=n.clone(b);var M=n.json2xml({OriginConfiguration:{OriginRule:b}}),U=e.Headers;U["Content-Type"]="application/xml",U["Content-MD5"]=n.b64(n.md5(M)),pe.call(this,{Action:"name/cos:PutBucketOrigin",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:M,action:"origin",headers:U},function(j,Z){if(j&&j.statusCode===204)return B(null,{statusCode:j.statusCode});if(j)return B(j);B(null,{statusCode:Z.statusCode,headers:Z.headers})})}function G(e,B){pe.call(this,{Action:"name/cos:GetBucketOrigin",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"origin"},function(s,b){if(s)return B(s);var M=[];try{M=b.OriginConfiguration.OriginRule||[]}catch{}M=n.clone(n.isArray(M)?M:[M]),B(null,{OriginRule:M,statusCode:b.statusCode,headers:b.headers})})}function ie(e,B){pe.call(this,{Action:"name/cos:DeleteBucketOrigin",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"origin"},function(s,b){if(s&&s.statusCode===204)return B(null,{statusCode:s.statusCode});if(s)return B(s);B(null,{statusCode:b.statusCode,headers:b.headers})})}function he(e,B){var s=n.json2xml({BucketLoggingStatus:e.BucketLoggingStatus||""}),b=e.Headers;b["Content-Type"]="application/xml",b["Content-MD5"]=n.b64(n.md5(s)),pe.call(this,{Action:"name/cos:PutBucketLogging",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:s,action:"logging",headers:b},function(M,U){if(M&&M.statusCode===204)return B(null,{statusCode:M.statusCode});if(M)return B(M);B(null,{statusCode:U.statusCode,headers:U.headers})})}function ye(e,B){pe.call(this,{Action:"name/cos:GetBucketLogging",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"logging"},function(s,b){if(s)return B(s);B(null,{BucketLoggingStatus:b.BucketLoggingStatus,statusCode:b.statusCode,headers:b.headers})})}function fe(e,B,s){var b=n.clone(B.InventoryConfiguration);if(b.OptionalFields){var M=b.OptionalFields||[];b.OptionalFields={Field:M}}if(b.Destination&&b.Destination.COSBucketDestination&&b.Destination.COSBucketDestination.Encryption){var U=b.Destination.COSBucketDestination.Encryption;Object.keys(U).indexOf("SSECOS")>-1&&(U["SSE-COS"]=U.SSECOS,delete U.SSECOS)}var j=n.json2xml({InventoryConfiguration:b}),Z=B.Headers;Z["Content-Type"]="application/xml",Z["Content-MD5"]=n.b64(n.md5(j));var le=e==="PUT"?"name/cos:PutBucketInventory":"name/cos:PostBucketInventory";pe.call(this,{Action:le,method:e,Bucket:B.Bucket,Region:B.Region,body:j,action:"inventory",qs:{id:B.Id},headers:Z},function(Ie,we){if(Ie&&Ie.statusCode===204)return s(null,{statusCode:Ie.statusCode});if(Ie)return s(Ie);s(null,{statusCode:we.statusCode,headers:we.headers})})}function me(e,B){return fe.call(this,"PUT",e,B)}function Se(e,B){return fe.call(this,"POST",e,B)}function Re(e,B){pe.call(this,{Action:"name/cos:GetBucketInventory",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"inventory",qs:{id:e.Id}},function(s,b){if(s)return B(s);var M=b.InventoryConfiguration;if(M&&M.OptionalFields&&M.OptionalFields.Field){var U=M.OptionalFields.Field;n.isArray(U)||(U=[U]),M.OptionalFields=U}if(M.Destination&&M.Destination.COSBucketDestination&&M.Destination.COSBucketDestination.Encryption){var j=M.Destination.COSBucketDestination.Encryption;Object.keys(j).indexOf("SSE-COS")>-1&&(j.SSECOS=j["SSE-COS"],delete j["SSE-COS"])}B(null,{InventoryConfiguration:M,statusCode:b.statusCode,headers:b.headers})})}function Ee(e,B){pe.call(this,{Action:"name/cos:ListBucketInventory",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"inventory",qs:{"continuation-token":e.ContinuationToken}},function(s,b){if(s)return B(s);var M=b.ListInventoryConfigurationResult,U=M.InventoryConfiguration||[];U=n.isArray(U)?U:[U],delete M.InventoryConfiguration,n.each(U,function(j){if(j&&j.OptionalFields&&j.OptionalFields.Field){var Z=j.OptionalFields.Field;n.isArray(Z)||(Z=[Z]),j.OptionalFields=Z}if(j.Destination&&j.Destination.COSBucketDestination&&j.Destination.COSBucketDestination.Encryption){var le=j.Destination.COSBucketDestination.Encryption;Object.keys(le).indexOf("SSE-COS")>-1&&(le.SSECOS=le["SSE-COS"],delete le["SSE-COS"])}}),M.InventoryConfigurations=U,n.extend(M,{statusCode:b.statusCode,headers:b.headers}),B(null,M)})}function ke(e,B){pe.call(this,{Action:"name/cos:DeleteBucketInventory",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"inventory",qs:{id:e.Id}},function(s,b){if(s&&s.statusCode===204)return B(null,{statusCode:s.statusCode});if(s)return B(s);B(null,{statusCode:b.statusCode,headers:b.headers})})}function be(e,B){if(!e.AccelerateConfiguration){B(n.error(new Error("missing param AccelerateConfiguration")));return}var s={AccelerateConfiguration:e.AccelerateConfiguration||{}},b=n.json2xml(s),M={};M["Content-Type"]="application/xml",M["Content-MD5"]=n.b64(n.md5(b)),pe.call(this,{Action:"name/cos:PutBucketAccelerate",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:b,action:"accelerate",headers:M},function(U,j){if(U)return B(U);B(null,{statusCode:j.statusCode,headers:j.headers})})}function Te(e,B){pe.call(this,{Action:"name/cos:GetBucketAccelerate",method:"GET",Bucket:e.Bucket,Region:e.Region,action:"accelerate"},function(s,b){s||!b.AccelerateConfiguration&&(b.AccelerateConfiguration={}),B(s,b)})}function ve(e,B){var s=e.ServerSideEncryptionConfiguration||{},b=s.Rule||s.Rules||[],M=n.json2xml({ServerSideEncryptionConfiguration:{Rule:b}}),U=e.Headers;U["Content-Type"]="application/xml",U["Content-MD5"]=n.b64(n.md5(M)),pe.call(this,{Action:"name/cos:PutBucketEncryption",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:M,action:"encryption",headers:U},function(j,Z){if(j&&j.statusCode===204)return B(null,{statusCode:j.statusCode});if(j)return B(j);B(null,{statusCode:Z.statusCode,headers:Z.headers})})}function W(e,B){pe.call(this,{Action:"name/cos:GetBucketEncryption",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"encryption"},function(s,b){if(s){if(s.statusCode===404&&s.code==="NoSuchEncryptionConfiguration"){var M={EncryptionConfiguration:{Rules:[]},statusCode:s.statusCode};s.headers&&(M.headers=s.headers),B(null,M)}else B(s);return}var U=n.makeArray(b.EncryptionConfiguration&&b.EncryptionConfiguration.Rule||[]);b.EncryptionConfiguration={Rules:U},B(s,b)})}function ne(e,B){pe.call(this,{Action:"name/cos:DeleteBucketReplication",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"encryption"},function(s,b){if(s&&s.statusCode===204)return B(null,{statusCode:s.statusCode});if(s)return B(s);B(null,{statusCode:b.statusCode,headers:b.headers})})}function E(e,B){pe.call(this,{Action:"name/cos:HeadObject",method:"HEAD",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers},function(s,b){if(s){var M=s.statusCode;return e.Headers["If-Modified-Since"]&&M&&M===304?B(null,{NotModified:!0,statusCode:M}):B(s)}b.ETag=n.attr(b.headers,"etag",""),B(null,b)})}function v(e,B){var s={};s.prefix=e.Prefix||"",s.delimiter=e.Delimiter,s["key-marker"]=e.KeyMarker,s["version-id-marker"]=e.VersionIdMarker,s["max-keys"]=e.MaxKeys,s["encoding-type"]=e.EncodingType,pe.call(this,{Action:"name/cos:GetBucketObjectVersions",ResourceKey:s.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:s,action:"versions"},function(b,M){if(b)return B(b);var U=M.ListVersionsResult||{},j=U.DeleteMarker||[];j=n.isArray(j)?j:[j];var Z=U.Version||[];Z=n.isArray(Z)?Z:[Z];var le=n.clone(U);delete le.DeleteMarker,delete le.Version,n.extend(le,{DeleteMarkers:j,Versions:Z,statusCode:M.statusCode,headers:M.headers}),B(null,le)})}function x(e,B){var s=e.Query||{},b=e.QueryString||"",M=n.throttleOnProgress.call(this,0,e.onProgress),U=e.tracker;U&&U.setParams({signStartTime:new Date().getTime()}),s["response-content-type"]=e.ResponseContentType,s["response-content-language"]=e.ResponseContentLanguage,s["response-expires"]=e.ResponseExpires,s["response-cache-control"]=e.ResponseCacheControl,s["response-content-disposition"]=e.ResponseContentDisposition,s["response-content-encoding"]=e.ResponseContentEncoding,pe.call(this,{Action:"name/cos:GetObject",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,DataType:e.DataType,headers:e.Headers,qs:s,qsStr:b,rawBody:!0,onDownloadProgress:M,tracker:U},function(j,Z){if(M(null,!0),j){var le=j.statusCode;return e.Headers["If-Modified-Since"]&&le&&le===304?B(null,{NotModified:!0}):B(j)}B(null,{Body:Z.body,ETag:n.attr(Z.headers,"etag",""),statusCode:Z.statusCode,headers:Z.headers})})}function h(e,B){var s=this,b=e.ContentLength,M=n.throttleOnProgress.call(s,b,e.onProgress),U=e.Headers;!U["Cache-Control"]&&!U["cache-control"]&&(U["Cache-Control"]=""),!U["Content-Type"]&&!U["content-type"]&&(U["Content-Type"]=e.Body&&e.Body.type||"");var j=e.UploadAddMetaMd5||s.options.UploadAddMetaMd5||s.options.UploadCheckContentMd5,Z=e.tracker;j&&Z&&Z.setParams({md5StartTime:new Date().getTime()}),n.getBodyMd5(j,e.Body,function(le){le&&(Z&&Z.setParams({md5EndTime:new Date().getTime()}),s.options.UploadCheckContentMd5&&(U["Content-MD5"]=n.b64(le)),(e.UploadAddMetaMd5||s.options.UploadAddMetaMd5)&&(U["x-cos-meta-md5"]=le)),e.ContentLength!==void 0&&(U["Content-Length"]=e.ContentLength),M(null,!0),pe.call(s,{Action:"name/cos:PutObject",TaskId:e.TaskId,method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:e.Query,body:e.Body,onProgress:M,tracker:Z},function(Ie,we){if(Ie)return M(null,!0),B(Ie);M({loaded:b,total:b},!0);var Be=te({ForcePathStyle:s.options.ForcePathStyle,protocol:s.options.Protocol,domain:s.options.Domain,bucket:e.Bucket,region:s.options.UseAccelerate?"accelerate":e.Region,object:e.Key});Be=Be.substr(Be.indexOf("://")+3),we.Location=Be,we.ETag=n.attr(we.headers,"etag",""),B(null,we)})},e.onHashProgress)}function P(e,B){pe.call(this,{Action:"name/cos:DeleteObject",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,VersionId:e.VersionId,action:e.Recursive?"recursive":""},function(s,b){if(s){var M=s.statusCode;return M&&M===404?B(null,{BucketNotFound:!0,statusCode:M}):B(s)}B(null,{statusCode:b.statusCode,headers:b.headers})})}function V(e,B){var s={};e.VersionId&&(s.versionId=e.VersionId),pe.call(this,{Action:"name/cos:GetObjectACL",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:s,action:"acl"},function(b,M){if(b)return B(b);var U=M.AccessControlPolicy||{},j=U.Owner||{},Z=U.AccessControlList&&U.AccessControlList.Grant||[];Z=n.isArray(Z)?Z:[Z];var le=k(U);delete le.GrantWrite,M.headers&&M.headers["x-cos-acl"]&&(le.ACL=M.headers["x-cos-acl"]),le=n.extend(le,{Owner:j,Grants:Z,statusCode:M.statusCode,headers:M.headers}),B(null,le)})}function J(e,B){var s=e.Headers,b="";if(e.AccessControlPolicy){var M=n.clone(e.AccessControlPolicy||{}),U=M.Grants||M.Grant;U=n.isArray(U)?U:[U],delete M.Grant,delete M.Grants,M.AccessControlList={Grant:U},b=n.json2xml({AccessControlPolicy:M}),s["Content-Type"]="application/xml",s["Content-MD5"]=n.b64(n.md5(b))}n.each(s,function(j,Z){Z.indexOf("x-cos-grant-")===0&&(s[Z]=z(s[Z]))}),pe.call(this,{Action:"name/cos:PutObjectACL",method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:"acl",headers:s,body:b},function(j,Z){if(j)return B(j);B(null,{statusCode:Z.statusCode,headers:Z.headers})})}function ae(e,B){var s=e.Headers;s.Origin=e.Origin,s["Access-Control-Request-Method"]=e.AccessControlRequestMethod,s["Access-Control-Request-Headers"]=e.AccessControlRequestHeaders,pe.call(this,{Action:"name/cos:OptionsObject",method:"OPTIONS",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:s},function(b,M){if(b)return b.statusCode&&b.statusCode===403?B(null,{OptionsForbidden:!0,statusCode:b.statusCode}):B(b);var U=M.headers||{};B(null,{AccessControlAllowOrigin:U["access-control-allow-origin"],AccessControlAllowMethods:U["access-control-allow-methods"],AccessControlAllowHeaders:U["access-control-allow-headers"],AccessControlExposeHeaders:U["access-control-expose-headers"],AccessControlMaxAge:U["access-control-max-age"],statusCode:M.statusCode,headers:M.headers})})}function ge(e,B){var s=this,b=e.Headers;!b["Cache-Control"]&&!b["cache-control"]&&(b["Cache-Control"]="");var M=e.CopySource||"",U=n.getSourceParams.call(this,M);if(!U){B(n.error(new Error("CopySource format error")));return}var j=U.Bucket,Z=U.Region,le=decodeURIComponent(U.Key);pe.call(this,{Scope:[{action:"name/cos:GetObject",bucket:j,region:Z,prefix:le},{action:"name/cos:PutObject",bucket:e.Bucket,region:e.Region,prefix:e.Key}],method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers},function(Ie,we){if(Ie)return B(Ie);var Be=n.clone(we.CopyObjectResult||{}),Oe=te({ForcePathStyle:s.options.ForcePathStyle,protocol:s.options.Protocol,domain:s.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key,isLocation:!0});n.extend(Be,{Location:Oe,statusCode:we.statusCode,headers:we.headers}),B(null,Be)})}function Ce(e,B){var s=e.CopySource||"",b=n.getSourceParams.call(this,s);if(!b){B(n.error(new Error("CopySource format error")));return}var M=b.Bucket,U=b.Region,j=decodeURIComponent(b.Key);pe.call(this,{Scope:[{action:"name/cos:GetObject",bucket:M,region:U,prefix:j},{action:"name/cos:PutObject",bucket:e.Bucket,region:e.Region,prefix:e.Key}],method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,qs:{partNumber:e.PartNumber,uploadId:e.UploadId},headers:e.Headers},function(Z,le){if(Z)return B(Z);var Ie=n.clone(le.CopyPartResult||{});n.extend(Ie,{statusCode:le.statusCode,headers:le.headers}),B(null,Ie)})}function de(e,B){var s=e.Objects||[],b=e.Quiet;s=n.isArray(s)?s:[s];var M=n.json2xml({Delete:{Object:s,Quiet:b||!1}}),U=e.Headers;U["Content-Type"]="application/xml",U["Content-MD5"]=n.b64(n.md5(M));var j=n.map(s,function(Z){return{action:"name/cos:DeleteObject",bucket:e.Bucket,region:e.Region,prefix:Z.Key}});pe.call(this,{Scope:j,method:"POST",Bucket:e.Bucket,Region:e.Region,body:M,action:"delete",headers:U},function(Z,le){if(Z)return B(Z);var Ie=le.DeleteResult||{},we=Ie.Deleted||[],Be=Ie.Error||[];we=n.isArray(we)?we:[we],Be=n.isArray(Be)?Be:[Be];var Oe=n.clone(Ie);n.extend(Oe,{Error:Be,Deleted:we,statusCode:le.statusCode,headers:le.headers}),B(null,Oe)})}function De(e,B){var s=e.Headers;if(!e.RestoreRequest){B(n.error(new Error("missing param RestoreRequest")));return}var b=e.RestoreRequest||{},M=n.json2xml({RestoreRequest:b});s["Content-Type"]="application/xml",s["Content-MD5"]=n.b64(n.md5(M)),pe.call(this,{Action:"name/cos:RestoreObject",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,body:M,action:"restore",headers:s},B)}function _e(e,B){var s=e.Tagging||{},b=s.TagSet||s.Tags||e.Tags||[];b=n.clone(n.isArray(b)?b:[b]);var M=n.json2xml({Tagging:{TagSet:{Tag:b}}}),U=e.Headers;U["Content-Type"]="application/xml",U["Content-MD5"]=n.b64(n.md5(M)),pe.call(this,{Action:"name/cos:PutObjectTagging",method:"PUT",Bucket:e.Bucket,Key:e.Key,Region:e.Region,body:M,action:"tagging",headers:U,VersionId:e.VersionId},function(j,Z){if(j&&j.statusCode===204)return B(null,{statusCode:j.statusCode});if(j)return B(j);B(null,{statusCode:Z.statusCode,headers:Z.headers})})}function Ue(e,B){pe.call(this,{Action:"name/cos:GetObjectTagging",method:"GET",Key:e.Key,Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging",VersionId:e.VersionId},function(s,b){if(s){if(s.statusCode===404&&s.error&&(s.error==="Not Found"||s.error.Code==="NoSuchTagSet")){var M={Tags:[],statusCode:s.statusCode};s.headers&&(M.headers=s.headers),B(null,M)}else B(s);return}var U=[];try{U=b.Tagging.TagSet.Tag||[]}catch{}U=n.clone(n.isArray(U)?U:[U]),B(null,{Tags:U,statusCode:b.statusCode,headers:b.headers})})}function He(e,B){pe.call(this,{Action:"name/cos:DeleteObjectTagging",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"tagging",VersionId:e.VersionId},function(s,b){if(s&&s.statusCode===204)return B(null,{statusCode:s.statusCode});if(s)return B(s);B(null,{statusCode:b.statusCode,headers:b.headers})})}function je(e,B){var s=e.SelectType;if(!s)return B(n.error(new Error("missing param SelectType")));var b=e.SelectRequest||{},M=n.json2xml({SelectRequest:b}),U=e.Headers;U["Content-Type"]="application/xml",U["Content-MD5"]=n.b64(n.md5(M)),pe.call(this,{Action:"name/cos:GetObject",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"select",qs:{"select-type":e.SelectType},VersionId:e.VersionId,body:M,DataType:"arraybuffer",rawBody:!0},function(j,Z){if(j&&j.statusCode===204)return B(null,{statusCode:j.statusCode});if(j)return B(j);var le=n.parseSelectPayload(Z.body);B(null,{statusCode:Z.statusCode,headers:Z.headers,Body:le.body,Payload:le.payload})})}function Ve(e,B){var s=this,b=e.Headers,M=e.tracker;!b["Cache-Control"]&&!b["cache-control"]&&(b["Cache-Control"]=""),!b["Content-Type"]&&!b["content-type"]&&(b["Content-Type"]=e.Body&&e.Body.type||"");var U=e.Body&&(e.UploadAddMetaMd5||s.options.UploadAddMetaMd5);U&&M&&M.setParams({md5StartTime:new Date().getTime()}),n.getBodyMd5(U,e.Body,function(j){j&&(e.Headers["x-cos-meta-md5"]=j),U&&M&&M.setParams({md5EndTime:new Date().getTime()}),pe.call(s,{Action:"name/cos:InitiateMultipartUpload",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:"uploads",headers:e.Headers,qs:e.Query,tracker:M},function(Z,le){if(Z)return M&&M.parent&&M.parent.setParams({errorNode:"multipartInit"}),B(Z);if(le=n.clone(le||{}),le&&le.InitiateMultipartUploadResult)return B(null,n.extend(le.InitiateMultipartUploadResult,{statusCode:le.statusCode,headers:le.headers}));B(null,le)})},e.onHashProgress)}function Qe(e,B){var s=this;n.getFileSize("multipartUpload",e,function(){var b=e.tracker,M=s.options.UploadCheckContentMd5;M&&b&&b.setParams({md5StartTime:new Date().getTime()}),n.getBodyMd5(M,e.Body,function(U){U&&(e.Headers["Content-MD5"]=n.b64(U)),M&&b&&b.setParams({md5EndTime:new Date().getTime()}),b&&b.setParams({partNumber:e.PartNumber}),pe.call(s,{Action:"name/cos:UploadPart",TaskId:e.TaskId,method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,qs:{partNumber:e.PartNumber,uploadId:e.UploadId},headers:e.Headers,onProgress:e.onProgress,body:e.Body||null,tracker:b},function(j,Z){if(j)return b&&b.parent&&b.parent.setParams({errorNode:"multipartUpload"}),B(j);B(null,{ETag:n.attr(Z.headers,"etag",""),statusCode:Z.statusCode,headers:Z.headers})})})})}function Xe(e,B){for(var s=this,b=e.UploadId,M=e.Parts,U=e.tracker,j=0,Z=M.length;j<Z;j++)M[j].ETag&&M[j].ETag.indexOf('"')===0||(M[j].ETag='"'+M[j].ETag+'"');var le=n.json2xml({CompleteMultipartUpload:{Part:M}});le=le.replace(/\n\s*/g,"");var Ie=e.Headers;Ie["Content-Type"]="application/xml",Ie["Content-MD5"]=n.b64(n.md5(le)),pe.call(this,{Action:"name/cos:CompleteMultipartUpload",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,qs:{uploadId:b},body:le,headers:Ie,tracker:U},function(we,Be){if(we)return U&&U.parent&&U.parent.setParams({errorNode:"multipartComplete"}),B(we);var Oe=te({ForcePathStyle:s.options.ForcePathStyle,protocol:s.options.Protocol,domain:s.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key,isLocation:!0}),Fe=Be.CompleteMultipartUploadResult||{};Fe.ProcessResults&&Fe&&Fe.ProcessResults&&(Fe.UploadResult={OriginalInfo:{Key:Fe.Key,Location:Oe,ETag:Fe.ETag,ImageInfo:Fe.ImageInfo},ProcessResults:Fe.ProcessResults},delete Fe.ImageInfo,delete Fe.ProcessResults);var Je=n.extend(Fe,{Location:Oe,statusCode:Be.statusCode,headers:Be.headers});B(null,Je)})}function Le(e,B){var s={};s.delimiter=e.Delimiter,s["encoding-type"]=e.EncodingType,s.prefix=e.Prefix||"",s["max-uploads"]=e.MaxUploads,s["key-marker"]=e.KeyMarker,s["upload-id-marker"]=e.UploadIdMarker,s=n.clearKey(s);var b=e.tracker;b&&b.setParams({signStartTime:new Date().getTime()}),pe.call(this,{Action:"name/cos:ListMultipartUploads",ResourceKey:s.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:s,action:"uploads",tracker:b},function(M,U){if(M)return b&&b.parent&&b.parent.setParams({errorNode:"multipartList"}),B(M);if(U&&U.ListMultipartUploadsResult){var j=U.ListMultipartUploadsResult.Upload||[];j=n.isArray(j)?j:[j],U.ListMultipartUploadsResult.Upload=j}var Z=n.clone(U.ListMultipartUploadsResult||{});n.extend(Z,{statusCode:U.statusCode,headers:U.headers}),B(null,Z)})}function We(e,B){var s={},b=e.tracker;s.uploadId=e.UploadId,s["encoding-type"]=e.EncodingType,s["max-parts"]=e.MaxParts,s["part-number-marker"]=e.PartNumberMarker,pe.call(this,{Action:"name/cos:ListParts",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:s},function(M,U){if(M)return b&&b.parent&&b.parent.setParams({errorNode:"multipartListPart"}),B(M);var j=U.ListPartsResult||{},Z=j.Part||[];Z=n.isArray(Z)?Z:[Z],j.Part=Z;var le=n.clone(j);n.extend(le,{statusCode:U.statusCode,headers:U.headers}),B(null,le)})}function $e(e,B){var s={};s.uploadId=e.UploadId,pe.call(this,{Action:"name/cos:AbortMultipartUpload",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:s},function(b,M){if(b)return B(b);B(null,{statusCode:M.statusCode,headers:M.headers})})}function nt(e,B){pe.call(this,{method:e.Method,Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:e.Action,headers:e.Headers,qs:e.Query,body:e.Body,Url:e.Url,rawBody:e.RawBody,DataType:e.DataType},function(s,b){if(s)return B(s);b&&b.body&&(b.Body=b.body,delete b.body),B(s,b)})}function Ze(e,B){var s=e.Headers;!s["Cache-Control"]&&!s["cache-control"]&&(s["Cache-Control"]=""),!s["Content-Type"]&&!s["content-type"]&&(s["Content-Type"]=e.Body&&e.Body.type||""),pe.call(this,{Action:"name/cos:AppendObject",method:"POST",Bucket:e.Bucket,Region:e.Region,action:"append",Key:e.Key,body:e.Body,qs:{position:e.Position},headers:e.Headers},function(b,M){if(b)return B(b);B(null,M)})}function et(e){var B=this;return n.getAuth({SecretId:e.SecretId||this.options.SecretId||"",SecretKey:e.SecretKey||this.options.SecretKey||"",Bucket:e.Bucket,Region:e.Region,Method:e.Method,Key:e.Key,Query:e.Query,Headers:e.Headers,Expires:e.Expires,UseRawKey:B.options.UseRawKey,SystemClockOffset:B.options.SystemClockOffset})}function y(e,B){var s=this,b=e.UseAccelerate===void 0?s.options.UseAccelerate:e.UseAccelerate,M=te({ForcePathStyle:s.options.ForcePathStyle,protocol:e.Protocol||s.options.Protocol,domain:e.Domain||s.options.Domain,bucket:e.Bucket,region:b?"accelerate":e.Region,object:e.Key}),U="";e.Query&&(U+=n.obj2str(e.Query)),e.QueryString&&(U+=(U?"&":"")+e.QueryString);var j=M;if(e.Sign!==void 0&&!e.Sign)return U&&(j+="?"+U),B(null,{Url:j}),j;var Z=xe.call(this,{Bucket:e.Bucket,Region:e.Region,UseAccelerate:e.UseAccelerate,Url:M}),le=Ae.call(this,{Action:(e.Method||"").toUpperCase()==="PUT"?"name/cos:PutObject":"name/cos:GetObject",Bucket:e.Bucket||"",Region:e.Region||"",Method:e.Method||"get",Key:e.Key,Expires:e.Expires,Headers:e.Headers,Query:e.Query,SignHost:Z,ForceSignHost:e.ForceSignHost===!1?!1:s.options.ForceSignHost},function(Ie,we){if(B){if(Ie){B(Ie);return}var Be=function(Je){var it=Je.match(/q-url-param-list.*?(?=&)/g)[0],ot="q-url-param-list="+encodeURIComponent(it.replace(/q-url-param-list=/,"")).toLowerCase(),tt=new RegExp(it,"g"),st=Je.replace(tt,ot);return st},Oe=M;Oe+="?"+(we.Authorization.indexOf("q-signature")>-1?Be(we.Authorization):"sign="+encodeURIComponent(we.Authorization)),we.SecurityToken&&(Oe+="&x-cos-security-token="+we.SecurityToken),we.ClientIP&&(Oe+="&clientIP="+we.ClientIP),we.ClientUA&&(Oe+="&clientUA="+we.ClientUA),we.Token&&(Oe+="&token="+we.Token),U&&(Oe+="&"+U),setTimeout(function(){B(null,{Url:Oe})})}});return le?(j+="?"+le.Authorization+(le.SecurityToken?"&x-cos-security-token="+le.SecurityToken:""),U&&(j+="&"+U)):U&&(j+="?"+U),j}function k(e){var B={GrantFullControl:[],GrantWrite:[],GrantRead:[],GrantReadAcp:[],GrantWriteAcp:[],ACL:""},s={FULL_CONTROL:"GrantFullControl",WRITE:"GrantWrite",READ:"GrantRead",READ_ACP:"GrantReadAcp",WRITE_ACP:"GrantWriteAcp"},b=e&&e.AccessControlList||{},M=b.Grant;M&&(M=n.isArray(M)?M:[M]);var U={READ:0,WRITE:0,FULL_CONTROL:0};return M&&M.length&&n.each(M,function(j){j.Grantee.ID==="qcs::cam::anyone:anyone"||j.Grantee.URI==="http://cam.qcloud.com/groups/global/AllUsers"?U[j.Permission]=1:j.Grantee.ID!==e.Owner.ID&&B[s[j.Permission]].push('id="'+j.Grantee.ID+'"')}),U.FULL_CONTROL||U.WRITE&&U.READ?B.ACL="public-read-write":U.READ?B.ACL="public-read":B.ACL="private",n.each(s,function(j){B[j]=z(B[j].join(","))}),B}function z(e){var B=e.split(","),s={},b,M;for(b=0;b<B.length;)M=B[b].trim(),s[M]?B.splice(b,1):(s[M]=!0,B[b]=M,b++);return B.join(",")}function te(e){var B=e.region||"",s=e.bucket||"",b=s.substr(0,s.lastIndexOf("-")),M=s.substr(s.lastIndexOf("-")+1),U=e.domain,j=e.object;typeof U=="function"&&(U=U({Bucket:s,Region:B})),["http","https"].includes(e.protocol)&&(e.protocol=e.protocol+":");var Z=e.protocol||(n.isBrowser&&(typeof location>"u"?"undefined":t(location))==="object"&&location.protocol==="http:"?"http:":"https:");U||(["cn-south","cn-south-2","cn-north","cn-east","cn-southwest","sg"].indexOf(B)>-1?U="{Region}.myqcloud.com":U="cos.{Region}.myqcloud.com",e.ForcePathStyle||(U="{Bucket}."+U)),U=U.replace(/\{\{AppId\}\}/gi,M).replace(/\{\{Bucket\}\}/gi,b).replace(/\{\{Region\}\}/gi,B).replace(/\{\{.*?\}\}/gi,""),U=U.replace(/\{AppId\}/gi,M).replace(/\{BucketName\}/gi,b).replace(/\{Bucket\}/gi,s).replace(/\{Region\}/gi,B).replace(/\{.*?\}/gi,""),/^[a-zA-Z]+:\/\//.test(U)||(U=Z+"//"+U),U.slice(-1)==="/"&&(U=U.slice(0,-1));var le=U;return e.ForcePathStyle&&(le+="/"+s),le+="/",j&&(le+=n.camSafeUrlEncode(j).replace(/%2F/g,"/")),e.isLocation&&(le=le.replace(/^https?:\/\//,"")),le}var xe=function(B){if(!B.Bucket||!B.Region)return"";var s=B.UseAccelerate===void 0?this.options.UseAccelerate:B.UseAccelerate,b=B.Url||te({ForcePathStyle:this.options.ForcePathStyle,protocol:this.options.Protocol,domain:this.options.Domain,bucket:B.Bucket,region:s?"accelerate":B.Region}),M=b.replace(/^https?:\/\/([^/]+)(\/.*)?$/,"$1"),U=new RegExp("^([a-z\\d-]+-\\d+\\.)?(cos|cosv6|ci|pic)\\.([a-z\\d-]+)\\.myqcloud\\.com$");return U.test(M)?M:""};function Ae(e,B){var s=n.clone(e.Headers),b="";n.each(s,function(Ne,Pe){(Ne===""||["content-type","cache-control","expires"].indexOf(Pe.toLowerCase())>-1)&&delete s[Pe],Pe.toLowerCase()==="host"&&(b=Ne)});var M=e.ForceSignHost!==!1;!b&&e.SignHost&&M&&(s.Host=e.SignHost);var U=!1,j=function(Pe,ze){U||(U=!0,ze&&ze.XCosSecurityToken&&!ze.SecurityToken&&(ze=n.clone(ze),ze.SecurityToken=ze.XCosSecurityToken,delete ze.XCosSecurityToken),B&&B(Pe,ze))},Z=this,le=e.Bucket||"",Ie=e.Region||"",we=e.Key||"";Z.options.ForcePathStyle&&le&&(we=le+"/"+we);var Be="/"+we,Oe={},Fe=e.Scope;if(!Fe){var Je=e.Action||"",it=e.ResourceKey||e.Key||"";Fe=e.Scope||[{action:Je,bucket:le,region:Ie,prefix:it}]}var ot=n.md5(JSON.stringify(Fe));Z._StsCache=Z._StsCache||[],function(){var Ne,Pe;for(Ne=Z._StsCache.length-1;Ne>=0;Ne--){Pe=Z._StsCache[Ne];var ze=Math.round(n.getSkewTime(Z.options.SystemClockOffset)/1e3)+30;if(Pe.StartTime&&ze<Pe.StartTime||ze>=Pe.ExpiredTime){Z._StsCache.splice(Ne,1);continue}if(!Pe.ScopeLimit||Pe.ScopeLimit&&Pe.ScopeKey===ot){Oe=Pe;break}}}();var tt=function(){var Pe="";Oe.StartTime&&e.Expires?Pe=Oe.StartTime+";"+(Oe.StartTime+e.Expires*1):Oe.StartTime&&Oe.ExpiredTime&&(Pe=Oe.StartTime+";"+Oe.ExpiredTime);var ze=n.getAuth({SecretId:Oe.TmpSecretId,SecretKey:Oe.TmpSecretKey,Method:e.Method,Pathname:Be,Query:e.Query,Headers:s,Expires:e.Expires,UseRawKey:Z.options.UseRawKey,SystemClockOffset:Z.options.SystemClockOffset,KeyTime:Pe,ForceSignHost:M}),Ke={Authorization:ze,SecurityToken:Oe.SecurityToken||Oe.XCosSecurityToken||"",Token:Oe.Token||"",ClientIP:Oe.ClientIP||"",ClientUA:Oe.ClientUA||""};j(null,Ke)},st=function(Pe){if(Pe.Authorization){var ze=!1,Ke=Pe.Authorization;if(Ke)if(Ke.indexOf(" ")>-1)ze=!1;else if(Ke.indexOf("q-sign-algorithm=")>-1&&Ke.indexOf("q-ak=")>-1&&Ke.indexOf("q-sign-time=")>-1&&Ke.indexOf("q-key-time=")>-1&&Ke.indexOf("q-url-param-list=")>-1)ze=!0;else try{Ke=atob(Ke),Ke.indexOf("a=")>-1&&Ke.indexOf("k=")>-1&&Ke.indexOf("t=")>-1&&Ke.indexOf("r=")>-1&&Ke.indexOf("b=")>-1&&(ze=!0)}catch{}if(!ze)return n.error(new Error("getAuthorization callback params format error"))}else{if(!Pe.TmpSecretId)return n.error(new Error('getAuthorization callback params missing "TmpSecretId"'));if(!Pe.TmpSecretKey)return n.error(new Error('getAuthorization callback params missing "TmpSecretKey"'));if(!Pe.SecurityToken&&!Pe.XCosSecurityToken)return n.error(new Error('getAuthorization callback params missing "SecurityToken"'));if(!Pe.ExpiredTime)return n.error(new Error('getAuthorization callback params missing "ExpiredTime"'));if(Pe.ExpiredTime&&Pe.ExpiredTime.toString().length!==10)return n.error(new Error('getAuthorization callback params "ExpiredTime" should be 10 digits'));if(Pe.StartTime&&Pe.StartTime.toString().length!==10)return n.error(new Error('getAuthorization callback params "StartTime" should be 10 StartTime'))}return!1};if(Oe.ExpiredTime&&Oe.ExpiredTime-n.getSkewTime(Z.options.SystemClockOffset)/1e3>60)tt();else if(Z.options.getAuthorization)Z.options.getAuthorization.call(Z,{Bucket:le,Region:Ie,Method:e.Method,Key:we,Pathname:Be,Query:e.Query,Headers:s,Scope:Fe,SystemClockOffset:Z.options.SystemClockOffset,ForceSignHost:M},function(Ne){typeof Ne=="string"&&(Ne={Authorization:Ne});var Pe=st(Ne);if(Pe)return j(Pe);Ne.Authorization?j(null,Ne):(Oe=Ne||{},Oe.Scope=Fe,Oe.ScopeKey=ot,Z._StsCache.push(Oe),tt())});else if(Z.options.getSTS)Z.options.getSTS.call(Z,{Bucket:le,Region:Ie},function(Ne){Oe=Ne||{},Oe.Scope=Fe,Oe.ScopeKey=ot,Oe.TmpSecretId||(Oe.TmpSecretId=Oe.SecretId),Oe.TmpSecretKey||(Oe.TmpSecretKey=Oe.SecretKey);var Pe=st(Oe);if(Pe)return j(Pe);Z._StsCache.push(Oe),tt()});else return function(){var Ne=n.getAuth({SecretId:e.SecretId||Z.options.SecretId,SecretKey:e.SecretKey||Z.options.SecretKey,Method:e.Method,Pathname:Be,Query:e.Query,Headers:s,Expires:e.Expires,UseRawKey:Z.options.UseRawKey,SystemClockOffset:Z.options.SystemClockOffset,ForceSignHost:M}),Pe={Authorization:Ne,SecurityToken:Z.options.SecurityToken||Z.options.XCosSecurityToken};return j(null,Pe),Pe}();return""}function Me(e){var B=!1,s=!1,b=e.headers&&(e.headers.date||e.headers.Date)||e.error&&e.error.ServerTime;try{var M=e.error.Code,U=e.error.Message;(M==="RequestTimeTooSkewed"||M==="AccessDenied"&&U==="Request has expired")&&(s=!0)}catch{}if(e)if(s&&b){var j=Date.parse(b);this.options.CorrectClockSkew&&Math.abs(n.getSkewTime(this.options.SystemClockOffset)-j)>=3e4&&(console.error("error: Local time is too skewed."),this.options.SystemClockOffset=j-Date.now(),B=!0)}else Math.floor(e.statusCode/100)===5&&(B=!0);return B}function pe(e,B){var s=this;!e.headers&&(e.headers={}),!e.qs&&(e.qs={}),e.VersionId&&(e.qs.versionId=e.VersionId),e.qs=n.clearKey(e.qs),e.headers&&(e.headers=n.clearKey(e.headers)),e.qs&&(e.qs=n.clearKey(e.qs));var b=n.clone(e.qs);e.action&&(b[e.action]="");var M=e.url||e.Url,U=e.SignHost||xe.call(this,{Bucket:e.Bucket,Region:e.Region,Url:M}),j=e.tracker,Z=function le(Ie){var we=s.options.SystemClockOffset;j&&j.setParams({signStartTime:new Date().getTime(),retryTimes:Ie-1}),Ae.call(s,{Bucket:e.Bucket||"",Region:e.Region||"",Method:e.method,Key:e.Key,Query:b,Headers:e.headers,SignHost:U,Action:e.Action,ResourceKey:e.ResourceKey,Scope:e.Scope,ForceSignHost:s.options.ForceSignHost},function(Be,Oe){if(Be){B(Be);return}j&&j.setParams({signEndTime:new Date().getTime(),httpStartTime:new Date().getTime()}),e.AuthData=Oe,qe.call(s,e,function(Fe,Je){j&&j.setParams({httpEndTime:new Date().getTime()}),Fe&&Ie<2&&(we!==s.options.SystemClockOffset||Me.call(s,Fe))?(e.headers&&(delete e.headers.Authorization,delete e.headers.token,delete e.headers.clientIP,delete e.headers.clientUA,e.headers["x-cos-security-token"]&&delete e.headers["x-cos-security-token"],e.headers["x-ci-security-token"]&&delete e.headers["x-ci-security-token"]),le(Ie+1)):B(Fe,Je)})})};Z(1)}function qe(e,B){var s=this,b=e.TaskId;if(!(b&&!s._isRunningTask(b))){var M=e.Bucket,U=e.Region,j=e.Key,Z=e.method||"GET",le=e.Url||e.url,Ie=e.body,we=e.rawBody;s.options.UseAccelerate&&(U="accelerate"),le=le||te({ForcePathStyle:s.options.ForcePathStyle,protocol:s.options.Protocol,domain:s.options.Domain,bucket:M,region:U,object:j}),e.action&&(le=le+"?"+(n.isIOS_QQ?"".concat(e.action,"="):e.action)),e.qsStr&&(le.indexOf("?")>-1?le=le+"&"+e.qsStr:le=le+"?"+e.qsStr);var Be={method:Z,url:le,headers:e.headers,qs:e.qs,body:Ie},Oe="x-cos-security-token";if(n.isCIHost(le)&&(Oe="x-ci-security-token"),Be.headers.Authorization=e.AuthData.Authorization,e.AuthData.Token&&(Be.headers.token=e.AuthData.Token),e.AuthData.ClientIP&&(Be.headers.clientIP=e.AuthData.ClientIP),e.AuthData.ClientUA&&(Be.headers.clientUA=e.AuthData.ClientUA),e.AuthData.SecurityToken&&(Be.headers[Oe]=e.AuthData.SecurityToken),Be.headers&&(Be.headers=n.clearKey(Be.headers)),Be=n.clearKey(Be),e.onProgress&&typeof e.onProgress=="function"){var Fe=Ie&&(Ie.size||Ie.length)||0;Be.onProgress=function(Ne){if(!(b&&!s._isRunningTask(b))){var Pe=Ne?Ne.loaded:0;e.onProgress({loaded:Pe,total:Fe})}}}e.onDownloadProgress&&(Be.onDownloadProgress=e.onDownloadProgress),e.DataType&&(Be.dataType=e.DataType),this.options.Timeout&&(Be.timeout=this.options.Timeout),s.options.ForcePathStyle&&(Be.pathStyle=s.options.ForcePathStyle),s.emit("before-send",Be);var Je=Be.url.includes("accelerate."),it=Be.qs?Object.keys(Be.qs).map(function(Ne){return"".concat(Ne,"=").concat(Be.qs[Ne])}).join("&"):"",ot=it?Be.url+"?"+it:Be.url;e.tracker&&e.tracker.setParams({reqUrl:ot,accelerate:Je?"Y":"N"}),e.tracker&&e.tracker.parent&&e.tracker.parent.setParams({reqUrl:ot,accelerate:Je?"Y":"N"});var tt=(s.options.Request||d)(Be,function(Ne){if(!(Ne&&Ne.error==="abort")){var Pe={options:Be,error:Ne&&Ne.error,statusCode:Ne&&Ne.statusCode||0,statusMessage:Ne&&Ne.statusMessage||"",headers:Ne&&Ne.headers||{},body:Ne&&Ne.body};s.emit("after-receive",Pe);var ze=Pe.error,Ke=Pe.body,rt={statusCode:Pe.statusCode,statusMessage:Pe.statusMessage,headers:Pe.headers},vt,at=function(ft,ht){if(b&&s.off("inner-kill-task",st),!vt){vt=!0;var dt={};rt&&rt.statusCode&&(dt.statusCode=rt.statusCode),rt&&rt.headers&&(dt.headers=rt.headers),ft?(ft=n.extend(ft||{},dt),B(ft,null)):(ht=n.extend(ht||{},dt),B(null,ht)),tt=null}};if(ze)return at(n.error(ze));var ct=rt.statusCode,pt=Math.floor(ct/100)===2;if(we&&pt)return at(null,{body:Ke});var ut;try{ut=Ke&&Ke.indexOf("<")>-1&&Ke.indexOf(">")>-1&&n.xml2json(Ke)||{}}catch{ut={}}var lt=ut&&ut.Error;pt?at(null,ut):lt?at(n.error(new Error(lt.Message),{code:lt.Code,error:lt})):ct?at(n.error(new Error(rt.statusMessage),{code:""+ct})):ct&&at(n.error(new Error("statusCode error")))}}),st=function Ne(Pe){Pe.TaskId===b&&(tt&&tt.abort&&tt.abort(),s.off("inner-kill-task",Ne))};b&&s.on("inner-kill-task",st)}}var Ge={getService:m,putBucket:R,headBucket:I,getBucket:i,deleteBucket:l,putBucketAcl:w,getBucketAcl:C,putBucketCors:S,getBucketCors:p,deleteBucketCors:_,getBucketLocation:D,getBucketPolicy:T,putBucketPolicy:N,deleteBucketPolicy:g,putBucketTagging:a,getBucketTagging:f,deleteBucketTagging:H,putBucketLifecycle:c,getBucketLifecycle:q,deleteBucketLifecycle:K,putBucketVersioning:A,getBucketVersioning:F,putBucketReplication:O,getBucketReplication:L,deleteBucketReplication:$,putBucketWebsite:Y,getBucketWebsite:re,deleteBucketWebsite:se,putBucketReferer:ue,getBucketReferer:ce,putBucketDomain:oe,getBucketDomain:X,deleteBucketDomain:Q,putBucketOrigin:ee,getBucketOrigin:G,deleteBucketOrigin:ie,putBucketLogging:he,getBucketLogging:ye,putBucketInventory:me,postBucketInventory:Se,getBucketInventory:Re,listBucketInventory:Ee,deleteBucketInventory:ke,putBucketAccelerate:be,getBucketAccelerate:Te,putBucketEncryption:ve,getBucketEncryption:W,deleteBucketEncryption:ne,getObject:x,headObject:E,listObjectVersions:v,putObject:h,deleteObject:P,getObjectAcl:V,putObjectAcl:J,optionsObject:ae,putObjectCopy:ge,deleteMultipleObject:de,restoreObject:De,putObjectTagging:_e,getObjectTagging:Ue,deleteObjectTagging:He,selectObjectContent:je,appendObject:Ze,uploadPartCopy:Ce,multipartInit:Ve,multipartUpload:Qe,multipartComplete:Xe,multipartList:Le,multipartListPart:We,multipartAbort:$e,request:nt,getObjectUrl:y,getAuth:et};function Ye(e,B,s){n.each(["Cors","Acl"],function(b){if(e.slice(-b.length)===b){var M=e.slice(0,-b.length)+b.toUpperCase(),U=n.apiWrapper(e,B),j=!1;s[M]=function(){!j&&console.warn("warning: cos."+M+" has been deprecated. Please Use cos."+e+" instead."),j=!0,U.apply(this,arguments)}}})}o.exports.init=function(e,B){B.transferToTaskMethod(Ge,"putObject"),n.each(Ge,function(s,b){e.prototype[b]=n.apiWrapper(b,s),Ye(b,s,e.prototype)})}},"./src/cos.js":function(o,u,r){var t=r("./src/util.js"),d=r("./src/event.js"),n=r("./src/task.js"),m=r("./src/base.js"),R=r("./src/advance.js"),I=r("./package.json"),i={AppId:"",SecretId:"",SecretKey:"",SecurityToken:"",ChunkRetryTimes:2,FileParallelLimit:3,ChunkParallelLimit:3,ChunkSize:1024*1024,SliceSize:1024*1024,CopyChunkParallelLimit:20,CopyChunkSize:1024*1024*10,CopySliceSize:1024*1024*10,MaxPartNumber:1e4,ProgressInterval:1e3,Domain:"",ServiceDomain:"",Protocol:"",CompatibilityMode:!1,ForcePathStyle:!1,UseRawKey:!1,Timeout:0,CorrectClockSkew:!0,SystemClockOffset:0,UploadCheckContentMd5:!1,UploadQueueSize:1e4,UploadAddMetaMd5:!1,UploadIdCacheLimit:50,UseAccelerate:!1,ForceSignHost:!0,EnableTracker:!1,DeepTracker:!1,TrackerDelay:5e3,CustomId:""},l=function(C){this.options=t.extend(t.clone(i),C||{}),this.options.FileParallelLimit=Math.max(1,this.options.FileParallelLimit),this.options.ChunkParallelLimit=Math.max(1,this.options.ChunkParallelLimit),this.options.ChunkRetryTimes=Math.max(0,this.options.ChunkRetryTimes),this.options.ChunkSize=Math.max(1024*1024,this.options.ChunkSize),this.options.CopyChunkParallelLimit=Math.max(1,this.options.CopyChunkParallelLimit),this.options.CopyChunkSize=Math.max(1024*1024,this.options.CopyChunkSize),this.options.CopySliceSize=Math.max(0,this.options.CopySliceSize),this.options.MaxPartNumber=Math.max(1024,Math.min(1e4,this.options.MaxPartNumber)),this.options.Timeout=Math.max(0,this.options.Timeout),this.options.AppId&&console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g: "test-1250000000").'),this.options.SecretId&&this.options.SecretId.indexOf(" ")>-1&&(console.error("error: SecretId格式错误，请检查"),console.error("error: SecretId format is incorrect. Please check")),this.options.SecretKey&&this.options.SecretKey.indexOf(" ")>-1&&(console.error("error: SecretKey格式错误，请检查"),console.error("error: SecretKey format is incorrect. Please check")),t.isNode()&&(console.warn("warning: cos-js-sdk-v5 不支持 nodejs 环境使用，请改用 cos-nodejs-sdk-v5，参考文档： https://cloud.tencent.com/document/product/436/8629"),console.warn("warning: cos-js-sdk-v5 does not support nodejs environment. Please use cos-nodejs-sdk-v5 instead. See: https://cloud.tencent.com/document/product/436/8629")),d.init(this),n.init(this)};m.init(l,n),R.init(l,n),l.util={md5:t.md5,xml2json:t.xml2json,json2xml:t.json2xml},l.getAuthorization=t.getAuth,l.version=I.version,o.exports=l},"./src/event.js":function(o,u){var r=function(n){var m={},R=function(i){return!m[i]&&(m[i]=[]),m[i]};n.on=function(I,i){I==="task-list-update"&&console.warn('warning: Event "'+I+'" has been deprecated. Please use "list-update" instead.'),R(I).push(i)},n.off=function(I,i){for(var l=R(I),w=l.length-1;w>=0;w--)i===l[w]&&l.splice(w,1)},n.emit=function(I,i){for(var l=R(I).map(function(C){return C}),w=0;w<l.length;w++)l[w](i)}},t=function(){r(this)};o.exports.init=r,o.exports.EventProxy=t},"./src/session.js":function(o,u,r){var t=r("./src/util.js"),d="cos_sdk_upload_cache",n=30*24*3600,m,R,I=function(){try{var p=JSON.parse(localStorage.getItem(d))}catch{}p||(p=[]),m=p},i=function(){try{m.length?localStorage.setItem(d,JSON.stringify(m)):localStorage.removeItem(d)}catch{}},l=function(){if(!m){I.call(this);for(var p=!1,_=Math.round(Date.now()/1e3),D=m.length-1;D>=0;D--){var N=m[D][2];(!N||N+n<_)&&(m.splice(D,1),p=!0)}p&&i()}},w=function(){R||(R=setTimeout(function(){i(),R=null},400))},C={using:{},setUsing:function(p){C.using[p]=!0},removeUsing:function(p){delete C.using[p]},getFileId:function(p,_,D,N){return p.name&&p.size&&p.lastModifiedDate&&_?t.md5([p.name,p.size,p.lastModifiedDate,_,D,N].join("::")):null},getCopyFileId:function(p,_,D,N,T){var g=_["content-length"],a=_.etag||"",f=_["last-modified"];return p&&D?t.md5([p,g,a,f,D,N,T].join("::")):null},getUploadIdList:function(p){if(!p)return null;l.call(this);for(var _=[],D=0;D<m.length;D++)m[D][0]===p&&_.push(m[D][1]);return _.length?_:null},saveUploadId:function(p,_,D){if(l.call(this),!!p){for(var N=m.length-1;N>=0;N--){var T=m[N];T[0]===p&&T[1]===_&&m.splice(N,1)}m.unshift([p,_,Math.round(Date.now()/1e3)]),m.length>D&&m.splice(D),w()}},removeUploadId:function(p){l.call(this),delete C.using[p];for(var _=m.length-1;_>=0;_--)m[_][1]===p&&m.splice(_,1);w()}};o.exports=C},"./src/task.js":function(o,u,r){var t=r("./src/session.js"),d=r("./src/util.js"),n={},m=function(i,l){n[l]=i[l],i[l]=function(w,C){w.SkipTask?n[l].call(this,w,C):this._addTask(l,w,C)}},R=function(i){var l=[],w={},C=0,S=0,p=function(f){var H={id:f.id,Bucket:f.Bucket,Region:f.Region,Key:f.Key,FilePath:f.FilePath,state:f.state,loaded:f.loaded,size:f.size,speed:f.speed,percent:f.percent,hashPercent:f.hashPercent,error:f.error};return f.FilePath&&(H.FilePath=f.FilePath),f._custom&&(H._custom=f._custom),H},_=function(){var a,f=function(){a=0,i.emit("task-list-update",{list:d.map(l,p)}),i.emit("list-update",{list:d.map(l,p)})};return function(){a||(a=setTimeout(f))}}(),D=function(){if(!(l.length<=i.options.UploadQueueSize)){for(var f=0;f<S&&f<l.length&&l.length>i.options.UploadQueueSize;){var H=l[f].state==="waiting"||l[f].state==="checking"||l[f].state==="uploading";!l[f]||!H?(w[l[f].id]&&delete w[l[f].id],l.splice(f,1),S--):f++}_()}},N=function a(){if(!(C>=i.options.FileParallelLimit)){for(;l[S]&&l[S].state!=="waiting";)S++;if(!(S>=l.length)){var f=l[S];S++,C++,f.state="checking",f.params.onTaskStart&&f.params.onTaskStart(p(f)),!f.params.UploadData&&(f.params.UploadData={});var H=d.formatParams(f.api,f.params);n[f.api].call(i,H,function(c,q){i._isRunningTask(f.id)&&((f.state==="checking"||f.state==="uploading")&&(f.state=c?"error":"success",c&&(f.error=c),C--,_(),a(),f.callback&&f.callback(c,q),f.state==="success"&&(f.params&&(delete f.params.UploadData,delete f.params.Body,delete f.params),delete f.callback)),D())}),_(),setTimeout(a)}}},T=function(f,H){var c=w[f];if(c){var q=c&&c.state==="waiting",K=c&&(c.state==="checking"||c.state==="uploading");if(H==="canceled"&&c.state!=="canceled"||H==="paused"&&q||H==="paused"&&K){if(H==="paused"&&c.params.Body&&typeof c.params.Body.pipe=="function"){console.error("stream not support pause");return}c.state=H,i.emit("inner-kill-task",{TaskId:f,toState:H});try{var A=c&&c.params&&c.params.UploadData.UploadId}catch{}H==="canceled"&&A&&t.removeUsing(A),_(),K&&(C--,N()),H==="canceled"&&(c.params&&(delete c.params.UploadData,delete c.params.Body,delete c.params),delete c.callback)}D()}};i._addTasks=function(a){d.each(a,function(f){i._addTask(f.api,f.params,f.callback,!0)}),_()};var g=!0;i._addTask=function(a,f,H,c){f=d.formatParams(a,f);var q=d.uuid();f.TaskId=q,f.onTaskReady&&f.onTaskReady(q),f.TaskReady&&(f.TaskReady(q),g&&console.warn('warning: Param "TaskReady" has been deprecated. Please use "onTaskReady" instead.'),g=!1);var K={params:f,callback:H,api:a,index:l.length,id:q,Bucket:f.Bucket,Region:f.Region,Key:f.Key,FilePath:f.FilePath||"",state:"waiting",loaded:0,size:0,speed:0,percent:0,hashPercent:0,error:null,_custom:f._custom},A=f.onHashProgress;f.onHashProgress=function(O){i._isRunningTask(K.id)&&(K.hashPercent=O.percent,A&&A(O),_())};var F=f.onProgress;return f.onProgress=function(O){i._isRunningTask(K.id)&&(K.state==="checking"&&(K.state="uploading"),K.loaded=O.loaded,K.speed=O.speed,K.percent=O.percent,F&&F(O),_())},d.getFileSize(a,f,function(O,L){if(O)return H(d.error(O));w[q]=K,l.push(K),K.size=L,!c&&_(),N(),D()}),q},i._isRunningTask=function(a){var f=w[a];return!!(f&&(f.state==="checking"||f.state==="uploading"))},i.getTaskList=function(){return d.map(l,p)},i.cancelTask=function(a){T(a,"canceled")},i.pauseTask=function(a){T(a,"paused")},i.restartTask=function(a){var f=w[a];f&&(f.state==="paused"||f.state==="error")&&(f.state="waiting",_(),S=Math.min(S,f.index),N())},i.isUploadRunning=function(){return C||S<l.length}};o.exports.transferToTaskMethod=m,o.exports.init=R},"./src/tracker.js":function(o,u,r){var t=r("./node_modules/@babel/runtime/helpers/classCallCheck.js"),d=r("./node_modules/@babel/runtime/helpers/createClass.js"),n=r("./node_modules/@babel/runtime/helpers/typeof.js"),m=r("./package.json"),R=null,I=function(a){if(!R){var f=r("./lib/beacon.min.js");R=new f({appkey:"0AND0VEVB24UBGDU",versionCode:m.version,channelID:"js_sdk",openid:"openid",unionid:"unid",strictMode:!1,delay:a,sessionDuration:60*1e3})}return R},i={getUid:function(){var a=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},getNetType:function(){if((typeof navigator>"u"?"undefined":n(navigator))==="object"){var a=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return(a==null?void 0:a.type)||(a==null?void 0:a.effectiveType)||"unknown"}return"unknown"},getOsType:function(){if((typeof navigator>"u"?"undefined":n(navigator))!=="object")return"unknown os";var a=navigator.userAgent.toLowerCase(),f=/macintosh|mac os x/i.test(navigator.userAgent);return a.indexOf("win32")>=0||a.indexOf("wow32")>=0?"win32":a.indexOf("win64")>=0||a.indexOf("wow64")>=0?"win64":f?"mac":"unknown os"},isMobile:function(){var a=/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i;return!!((typeof navigator>"u"?"undefined":n(navigator))==="object"&&navigator.userAgent.match(a))},isAndroid:function(){var a=/(Android|Adr|Linux)/i;return!!((typeof navigator>"u"?"undefined":n(navigator))==="object"&&navigator.userAgent.match(a))},isIOS:function(){var a=/(iPhone|iPod|iPad|iOS)/i;return!!((typeof navigator>"u"?"undefined":n(navigator))==="object"&&navigator.userAgent.match(a))},isOtherMobile:function(){return isMobile&&!isAndroid&&!isIOS},getDeviceName:function(){if((typeof navigator>"u"?"undefined":n(navigator))!=="object")return"unknown device";var a=navigator.userAgent.toLowerCase();if(a.includes("app/tencent_wemeet"))return"tencent_wemeet";if(a.indexOf("maxthon")>=0){var f=a.match(/maxthon\/([\d.]+)/),H=f&&f[1]||"";return"傲游浏览器 ".concat(H).trim()}if(a.indexOf("qqbrowser")>=0){var c=a.match(/qqbrowser\/([\d.]+)/),q=c&&c[1]||"";return"QQ浏览器 ".concat(q).trim()}if(a.indexOf("se 2.x")>=0)return"搜狗浏览器";if(a.indexOf("wxwork")>=0)return"微信内置浏览器";if(a.indexOf("msie")>=0){var K=a.match(/msie ([\d.]+)/),A=K&&K[1]||"";return"IE ".concat(A).trim()}if(a.indexOf("firefox")>=0){var F=a.match(/firefox\/([\d.]+)/),O=F&&F[1]||"";return"Firefox ".concat(O).trim()}if(a.indexOf("chrome")>=0){var L=a.match(/chrome\/([\d.]+)/),$=L&&L[1]||"";return"Chrome ".concat($).trim()}if(a.indexOf("opera")>=0){var Y=a.match(/opera.([\d.]+)/),re=Y&&Y[1]||"";return"Opera ".concat(re).trim()}if(a.indexOf("safari")>=0){var se=a.match(/version\/([\d.]+)/),ue=se&&se[1]||"";return"Safari ".concat(ue).trim()}if(a.indexOf("edge")>=0){var ce=a.match(/edge\/([\d.]+)/),oe=ce&&ce[1]||"";return"edge ".concat(oe).trim()}return a.substr(0,200)}},l={isMobile:i.isMobile(),isBrowser:!i.isMobile(),mobileOsType:i.isAndroid()?"android":i.isIOS?"ios":"other_mobile",pcOsType:i.getOsType()},w={deviceType:l.isMobile?"mobile":l.isBrowser?"browser":"unknown",devicePlatform:l.isMobile?l.mobileOsType:l.pcOsType,deviceName:i.getDeviceName()},C=["multipartInit","multipartUpload","multipartComplete","multipartList","multipartListPart","multipartAbort"],S=["putObject","postObject","appendObject","sliceUploadFile","uploadFile","uploadFiles"].concat(C),p=["getObject"];function _(g){return S.includes(g)?"cos_upload":p.includes(g)?"cos_download":"base_service"}function D(g){return g.replace(/([A-Z])/g,"_$1").toLowerCase()}function N(g){var a={},f=["tracePlatform","cossdkVersion","region","networkType","host","accelerate","requestPath","size","httpMd5","httpSign","httpFull","name","result","tookTime","errorNode","errorCode","errorMessage","errorRequestId","errorStatusCode","errorServiceName","errorType","traceId","bucket","appid","partNumber","retryTimes","reqUrl","customId","fullError","deviceType","devicePlatform","deviceName"],H=["tracePlatform","cossdkVersion","region","bucket","appid","networkType","host","accelerate","requestPath","partNumber","size","name","result","tookTime","errorRequestId","retryTimes","reqUrl","customId","deviceType","devicePlatform","deviceName"],c=g.result==="Success"?H:f;for(var q in g)if(c.includes(q)){var K=D(q);a[K]=g[q]}return a}var T=function(){function g(a){t(this,g);var f=a.parent,H=a.traceId,c=a.bucket,q=a.region,K=a.apiName,A=a.fileKey,F=a.fileSize,O=a.accelerate,L=a.customId,$=a.delay,Y=a.deepTracker,re=c&&c.substr(c.lastIndexOf("-")+1)||"";this.parent=f,this.deepTracker=Y,this.delay=$,this.params={cossdkVersion:m.version,region:q,networkType:"",host:"",accelerate:O?"Y":"N",requestPath:A||"",size:F||-1,httpMd5:0,httpSign:0,httpFull:0,name:K||"",result:"",tookTime:0,errorNode:"",errorCode:"",errorMessage:"",errorRequestId:"",errorStatusCode:0,errorServiceName:"",tracePlatform:"cos-js-sdk-v5",traceId:H||i.getUid(),bucket:c,appid:re,partNumber:0,retryTimes:0,reqUrl:"",customId:L||"",deviceType:w.deviceType,devicePlatform:w.devicePlatform,deviceName:w.deviceName,md5StartTime:0,md5EndTime:0,signStartTime:0,signEndTime:0,httpStartTime:0,httpEndTime:0,startTime:new Date().getTime(),endTime:0},this.beacon=I($)}return d(g,[{key:"formatResult",value:function(f,H){var c,q,K,A,F,O,L=new Date().getTime(),$=L-this.params.startTime,Y=i.getNetType(),re=f?(f==null?void 0:f.code)||(f==null||(c=f.error)===null||c===void 0?void 0:c.code)||(f==null||(q=f.error)===null||q===void 0?void 0:q.Code):"",se=f?(f==null?void 0:f.message)||(f==null||(K=f.error)===null||K===void 0?void 0:K.message)||(f==null||(A=f.error)===null||A===void 0?void 0:A.Message):"",ue=f?(f==null?void 0:f.resource)||(f==null||(F=f.error)===null||F===void 0?void 0:F.resource)||(f==null||(O=f.error)===null||O===void 0?void 0:O.Resource):"",ce=f?f==null?void 0:f.statusCode:H.statusCode,oe=f?(f==null?void 0:f.headers)&&(f==null?void 0:f.headers["x-cos-request-id"]):(H==null?void 0:H.headers)&&(H==null?void 0:H.headers["x-cos-request-id"]),X=f?oe?"Server":"Client":"";if(Object.assign(this.params,{tookTime:$,networkType:Y,httpMd5:this.params.md5EndTime-this.params.md5StartTime,httpSign:this.params.signEndTime-this.params.signStartTime,httpFull:this.params.httpEndTime-this.params.httpStartTime,result:f?"Fail":"Success",errorType:X,errorCode:re,errorStatusCode:ce,errorMessage:se,errorServiceName:ue,errorRequestId:oe}),f&&(!re||!se)&&(this.params.fullError=f?JSON.stringify(f):""),this.params.name==="getObject"&&(this.params.size=H?H.headers&&H.headers["content-length"]:-1),this.params.reqUrl)try{var Q=/^http(s)?:\/\/(.*?)\//.exec(this.params.reqUrl);this.params.host=Q[2]}catch{this.params.host=this.params.reqUrl}this.sendEvents()}},{key:"setParams",value:function(f){Object.assign(this.params,f)}},{key:"sendEvents",value:function(){if(!(C.includes(this.params.name)&&!this.deepTracker)){var f=_(this.params.name),H=N(this.params);this.beacon||(this.beacon=I(this.delay||5e3)),this.delay===0?this.beacon&&this.beacon.onDirectUserAction(f,H):this.beacon&&this.beacon.onUserAction(f,H)}}},{key:"generateSubTracker",value:function(f){return Object.assign(f,{parent:this,deepTracker:this.deepTracker,traceId:this.params.traceId,bucket:this.params.bucket,region:this.params.region,fileKey:this.params.requestPath,customId:this.params.customId,delay:this.delay}),new g(f)}}]),g}();o.exports=T},"./src/util.js":function(o,u,r){(function(t){var d=r("./node_modules/@babel/runtime/helpers/typeof.js"),n=r("./lib/md5.js"),m=r("./lib/crypto.js"),R=r("./lib/xml2json.js"),I=r("./lib/json2xml.js"),i=r("./src/tracker.js");function l(ve){return encodeURIComponent(ve).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}function w(ve,W){var ne=[];for(var E in ve)ve.hasOwnProperty(E)&&ne.push(W?l(E).toLowerCase():E);return ne.sort(function(v,x){return v=v.toLowerCase(),x=x.toLowerCase(),v===x?0:v>x?1:-1})}var C=function(W,ne){var E,v,x,h=[],P=w(W);for(E=0;E<P.length;E++)v=P[E],x=W[v]===void 0||W[v]===null?"":""+W[v],v=ne?l(v).toLowerCase():l(v),x=l(x)||"",h.push(v+"="+x);return h.join("&")},S=["cache-control","content-disposition","content-encoding","content-length","content-md5","expect","expires","host","if-match","if-modified-since","if-none-match","if-unmodified-since","origin","range","transfer-encoding"],p=function(W){var ne={};for(var E in W){var v=E.toLowerCase();(v.indexOf("x-cos-")>-1||S.indexOf(v)>-1)&&(ne[E]=W[E])}return ne},_=function(W){W=W||{};var ne=W.SecretId,E=W.SecretKey,v=W.KeyTime,x=(W.method||W.Method||"get").toLowerCase(),h=O(W.Query||W.params||{}),P=p(O(W.Headers||W.headers||{})),V=W.Key||"",J;W.UseRawKey?J=W.Pathname||W.pathname||"/"+V:(J=W.Pathname||W.pathname||V,J.indexOf("/")!==0&&(J="/"+J));var ae=W.ForceSignHost!==!1;if(!P.Host&&!P.host&&W.Bucket&&W.Region&&ae&&(P.Host=W.Bucket+".cos."+W.Region+".myqcloud.com"),!ne)throw new Error("missing param SecretId");if(!E)throw new Error("missing param SecretKey");var ge=Math.round(fe(W.SystemClockOffset)/1e3)-1,Ce=ge,de=W.Expires||W.expires;de===void 0?Ce+=900:Ce+=de*1||0;var De="sha1",_e=ne,Ue=v||ge+";"+Ce,He=v||ge+";"+Ce,je=w(P,!0).join(";").toLowerCase(),Ve=w(h,!0).join(";").toLowerCase(),Qe=m.HmacSHA1(He,E).toString(),Xe=[x,J,Te.obj2str(h,!0),Te.obj2str(P,!0),""].join(`
`),Le=["sha1",Ue,m.SHA1(Xe).toString(),""].join(`
`),We=m.HmacSHA1(Le,Qe).toString(),$e=["q-sign-algorithm="+De,"q-ak="+_e,"q-sign-time="+Ue,"q-key-time="+He,"q-header-list="+je,"q-url-param-list="+Ve,"q-signature="+We].join("&");return $e},D=function(W,ne,E){var v=ne/8,x=W.slice(E,E+v);return new Uint8Array(x).reverse(),new{8:Uint8Array,16:Uint16Array,32:Uint32Array}[ne](x)[0]},N=function(W,ne,E,v){var x=W.slice(ne,E),h="";return new Uint8Array(x).forEach(function(P){h+=String.fromCharCode(P)}),v&&(h=decodeURIComponent(escape(h))),h},T=function(W){for(var ne={},E=N(W),v={records:[]};W.byteLength;){var x=D(W,32,0),h=D(W,32,4),P=x-h-16,V=0,J;for(W=W.slice(12);V<h;){var ae=D(W,8,V),ge=N(W,V+1,V+1+ae),Ce=D(W,16,V+ae+2),de=N(W,V+ae+4,V+ae+4+Ce);ne[ge]=de,V+=ae+4+Ce}if(ne[":event-type"]==="Records")J=N(W,V,V+P,!0),v.records.push(J);else if(ne[":event-type"]==="Stats")J=N(W,V,V+P,!0),v.stats=Te.xml2json(J).Stats;else if(ne[":event-type"]==="error"){var De=ne[":error-code"],_e=ne[":error-message"],Ue=new Error(_e);Ue.message=_e,Ue.name=Ue.code=De,v.error=Ue}W=W.slice(V+P+4)}return{payload:v.records.join(""),body:E}},g=function(W){var ne=this.options.CopySourceParser;if(ne)return ne(W);var E=W.match(/^([^.]+-\d+)\.cos(v6|-cdc|-cdz|-internal)?\.([^.]+)\.((myqcloud\.com)|(tencentcos\.cn))\/(.+)$/);return E?{Bucket:E[1],Region:E[3],Key:E[7]}:null},a=function(){},f=function(W){var ne={};for(var E in W)W.hasOwnProperty(E)&&W[E]!==void 0&&W[E]!==null&&(ne[E]=W[E]);return ne},H=function(W,ne){var E,v=new FileReader;FileReader.prototype.readAsBinaryString?(E=FileReader.prototype.readAsBinaryString,v.onload=function(){ne(this.result)}):FileReader.prototype.readAsArrayBuffer?E=function(h){var P="",V=new FileReader;V.onload=function(J){for(var ae=new Uint8Array(V.result),ge=ae.byteLength,Ce=0;Ce<ge;Ce++)P+=String.fromCharCode(ae[Ce]);ne(P)},V.readAsArrayBuffer(h)}:console.error("FileReader not support readAsBinaryString"),E.call(v,W)},c=function(){var ve=function(E,v){E=E.split("."),v=v.split(".");for(var x=0;x<v.length;x++)if(E[x]!==v[x])return parseInt(E[x])>parseInt(v[x])?1:-1;return 0},W=function(E){if(!E)return!1;var v=(E.match(/Chrome\/([.\d]+)/)||[])[1],x=(E.match(/QBCore\/([.\d]+)/)||[])[1],h=(E.match(/QQBrowser\/([.\d]+)/)||[])[1],P=v&&ve(v,"53.0.2785.116")<0&&x&&ve(x,"3.53.991.400")<0&&h&&ve(h,"9.0.2524.400")<=0||!1;return P};return W(typeof navigator<"u"&&navigator.userAgent)}(),q=function(W,ne,E,v,x){var h;if(W.slice?h=W.slice(ne,E):W.mozSlice?h=W.mozSlice(ne,E):W.webkitSlice&&(h=W.webkitSlice(ne,E)),v&&c){var P=new FileReader;P.onload=function(V){h=null,x(new Blob([P.result]))},P.readAsArrayBuffer(h)}else x(h)},K=function(W,ne,E,v){E=E||a,W?typeof ne=="string"?E(Te.md5(ne,!0)):Blob&&ne instanceof Blob?Te.getFileMd5(ne,function(x,h){E(h)},v):E():E()},A=1024*1024,F=function(W,ne,E){var v=W.size,x=0,h=n.getCtx(),P=function V(J){if(J>=v){var ae=h.digest("hex");ne(null,ae);return}var ge=Math.min(v,J+A);Te.fileSlice(W,J,ge,!1,function(Ce){H(Ce,function(de){Ce=null,h=h.update(de,!0),x+=de.length,de=null,E&&E({loaded:x,total:v,percent:Math.round(x/v*1e4)/1e4}),V(J+A)})})};P(0)};function O(ve){return ce(ve,function(W){return d(W)==="object"&&W!==null?O(W):W})}function L(ve,W,ne){return ve&&W in ve?ve[W]:ne}function $(ve,W){return ue(W,function(ne,E){ve[E]=W[E]}),ve}function Y(ve){return ve instanceof Array}function re(ve,W){for(var ne=!1,E=0;E<ve.length;E++)if(W===ve[E]){ne=!0;break}return ne}function se(ve){return Y(ve)?ve:[ve]}function ue(ve,W){for(var ne in ve)ve.hasOwnProperty(ne)&&W(ve[ne],ne)}function ce(ve,W){var ne=Y(ve)?[]:{};for(var E in ve)ve.hasOwnProperty(E)&&(ne[E]=W(ve[E],E));return ne}function oe(ve,W){var ne=Y(ve),E=ne?[]:{};for(var v in ve)ve.hasOwnProperty(v)&&W(ve[v],v)&&(ne?E.push(ve[v]):E[v]=ve[v]);return E}var X=function(W){var ne,E,v,x="";for(ne=0,E=W.length/2;ne<E;ne++)v=parseInt(W[ne*2]+W[ne*2+1],16),x+=String.fromCharCode(v);return btoa(x)},Q=function(){var W=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return W()+W()+"-"+W()+"-"+W()+"-"+W()+"-"+W()+W()+W()},ee=function(W,ne){var E=ne.Bucket,v=ne.Region,x=ne.Key,h=this.options.Domain,P=!h||typeof h=="string"&&h.indexOf("{Bucket}")>-1,V=!h||typeof h=="string"&&h.indexOf("{Region}")>-1;if(W.indexOf("Bucket")>-1||W==="deleteMultipleObject"||W==="multipartList"||W==="listObjectVersions"){if(P&&!E)return"Bucket";if(V&&!v)return"Region"}else if(W.indexOf("Object")>-1||W.indexOf("multipart")>-1||W==="sliceUploadFile"||W==="abortUploadTask"){if(P&&!E)return"Bucket";if(V&&!v)return"Region";if(!x)return"Key"}return!1},G=function(W,ne){if(ne=$({},ne),W!=="getAuth"&&W!=="getV4Auth"&&W!=="getObjectUrl"){var E=ne.Headers||{};if(ne&&d(ne)==="object"){(function(){for(var x in ne)ne.hasOwnProperty(x)&&x.indexOf("x-cos-")>-1&&(E[x]=ne[x])})();var v={"x-cos-mfa":"MFA","Content-MD5":"ContentMD5","Content-Length":"ContentLength","Content-Type":"ContentType",Expect:"Expect",Expires:"Expires","Cache-Control":"CacheControl","Content-Disposition":"ContentDisposition","Content-Encoding":"ContentEncoding",Range:"Range","If-Modified-Since":"IfModifiedSince","If-Unmodified-Since":"IfUnmodifiedSince","If-Match":"IfMatch","If-None-Match":"IfNoneMatch","x-cos-copy-source":"CopySource","x-cos-copy-source-Range":"CopySourceRange","x-cos-metadata-directive":"MetadataDirective","x-cos-copy-source-If-Modified-Since":"CopySourceIfModifiedSince","x-cos-copy-source-If-Unmodified-Since":"CopySourceIfUnmodifiedSince","x-cos-copy-source-If-Match":"CopySourceIfMatch","x-cos-copy-source-If-None-Match":"CopySourceIfNoneMatch","x-cos-acl":"ACL","x-cos-grant-read":"GrantRead","x-cos-grant-write":"GrantWrite","x-cos-grant-full-control":"GrantFullControl","x-cos-grant-read-acp":"GrantReadAcp","x-cos-grant-write-acp":"GrantWriteAcp","x-cos-storage-class":"StorageClass","x-cos-traffic-limit":"TrafficLimit","x-cos-mime-limit":"MimeLimit","x-cos-server-side-encryption-customer-algorithm":"SSECustomerAlgorithm","x-cos-server-side-encryption-customer-key":"SSECustomerKey","x-cos-server-side-encryption-customer-key-MD5":"SSECustomerKeyMD5","x-cos-server-side-encryption":"ServerSideEncryption","x-cos-server-side-encryption-cos-kms-key-id":"SSEKMSKeyId","x-cos-server-side-encryption-context":"SSEContext","Pic-Operations":"PicOperations"};Te.each(v,function(x,h){ne[x]!==void 0&&(E[h]=ne[x])}),ne.Headers=f(E)}}return ne},ie=function(W,ne){return function(E,v){var x=this;typeof E=="function"&&(v=E,E={}),E=G(W,E);var h;if(x.options.EnableTracker)if(E.calledBySdk==="sliceUploadFile")h=E.tracker&&E.tracker.generateSubTracker({apiName:W});else if(["uploadFile","uploadFiles"].includes(W))h=null;else{var P=-1;E.Body&&(P=typeof E.Body=="string"?E.Body.length:E.Body.size||E.Body.byteLength||-1),h=new i({bucket:E.Bucket,region:E.Region,apiName:W,fileKey:E.Key,fileSize:P,deepTracker:x.options.DeepTracker,customId:x.options.CustomId,delay:x.options.TrackerDelay})}E.tracker=h;var V=function(_e){return _e&&_e.headers&&(_e.headers["x-cos-request-id"]&&(_e.RequestId=_e.headers["x-cos-request-id"]),_e.headers["x-ci-request-id"]&&(_e.RequestId=_e.headers["x-ci-request-id"]),_e.headers["x-cos-version-id"]&&(_e.VersionId=_e.headers["x-cos-version-id"]),_e.headers["x-cos-delete-marker"]&&(_e.DeleteMarker=_e.headers["x-cos-delete-marker"])),_e},J=function(_e,Ue){h&&h.formatResult(_e,Ue),v&&v(V(_e),V(Ue))},ae=function(){if(W!=="getService"&&W!=="abortUploadTask"){var _e=ee.call(x,W,E);if(_e)return"missing param "+_e;if(E.Region){if(x.options.CompatibilityMode){if(!/^([a-z\d-.]+)$/.test(E.Region))return"Region format error."}else{if(E.Region.indexOf("cos.")>-1)return'param Region should not be start with "cos."';if(!/^([a-z\d-]+)$/.test(E.Region))return"Region format error."}!x.options.CompatibilityMode&&E.Region.indexOf("-")===-1&&E.Region!=="yfb"&&E.Region!=="default"&&E.Region!=="accelerate"&&console.warn("warning: param Region format error, find help here: https://cloud.tencent.com/document/product/436/6224")}if(E.Bucket){if(!/^([a-z\d-]+)-(\d+)$/.test(E.Bucket))if(E.AppId)E.Bucket=E.Bucket+"-"+E.AppId;else if(x.options.AppId)E.Bucket=E.Bucket+"-"+x.options.AppId;else return'Bucket should format as "test-1250000000".';E.AppId&&(console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g Bucket:"test-1250000000" ).'),delete E.AppId)}!x.options.UseRawKey&&E.Key&&E.Key.substr(0,1)==="/"&&(E.Key=E.Key.substr(1))}},ge=ae(),Ce=["getAuth","getObjectUrl"].includes(W);if(typeof Promise=="function"&&!Ce&&!v)return new Promise(function(De,_e){if(v=function(He,je){He?_e(He):De(je)},ge)return J(Te.error(new Error(ge)));ne.call(x,E,J)});if(ge)return J(Te.error(new Error(ge)));var de=ne.call(x,E,J);if(Ce)return de}},he=function(W,ne){var E=this,v=0,x=0,h=Date.now(),P,V;function J(){if(V=0,ne&&typeof ne=="function"){P=Date.now();var ae=Math.max(0,Math.round((x-v)/((P-h)/1e3)*100)/100)||0,ge;x===0&&W===0?ge=1:ge=Math.floor(x/W*100)/100||0,h=P,v=x;try{ne({loaded:x,total:W,speed:ae,percent:ge})}catch{}}}return function(ae,ge){if(ae&&(x=ae.loaded,W=ae.total),ge)clearTimeout(V),J();else{if(V)return;V=setTimeout(J,E.options.ProgressInterval)}}},ye=function(W,ne,E){var v;if(typeof ne.Body=="string"?ne.Body=new Blob([ne.Body],{type:"text/plain"}):ne.Body instanceof ArrayBuffer&&(ne.Body=new Blob([ne.Body])),ne.Body&&(ne.Body instanceof Blob||ne.Body.toString()==="[object File]"||ne.Body.toString()==="[object Blob]"))v=ne.Body.size;else{E(Te.error(new Error("params body format error, Only allow File|Blob|String.")));return}ne.ContentLength=v,E(null,v)},fe=function(W){return Date.now()+(W||0)},me=function(W,ne){var E=W;return W.message=W.message||null,typeof ne=="string"?(W.error=ne,W.message=ne):d(ne)==="object"&&ne!==null&&($(W,ne),(ne.code||ne.name)&&(W.code=ne.code||ne.name),ne.message&&(W.message=ne.message),ne.stack&&(W.stack=ne.stack)),typeof Object.defineProperty=="function"&&(Object.defineProperty(W,"name",{writable:!0,enumerable:!1}),Object.defineProperty(W,"message",{enumerable:!0})),W.name=ne&&ne.name||W.name||W.code||"Error",W.code||(W.code=W.name),W.error||(W.error=O(E)),W},Se=function(){return(typeof globalThis>"u"?"undefined":d(globalThis))==="object"&&(globalThis.constructor.name==="DedicatedWorkerGlobalScope"||globalThis.FileReaderSync)},Re=function(){return(typeof window>"u"?"undefined":d(window))!=="object"&&(typeof t>"u"?"undefined":d(t))==="object"&&!0&&!Se()},Ee=function(W){return/^https?:\/\/([^/]+\.)?ci\.[^/]+/.test(W)},ke=function(){if((typeof navigator>"u"?"undefined":d(navigator))!=="object")return!1;var ve=navigator.userAgent,W=!!ve.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return W}(),be=function(){return(typeof navigator>"u"?"undefined":d(navigator))!=="object"?!1:/\sQQ/i.test(navigator.userAgent)}(),Te={noop:a,formatParams:G,apiWrapper:ie,xml2json:R,json2xml:I,md5:n,clearKey:f,fileSlice:q,getBodyMd5:K,getFileMd5:F,b64:X,extend:$,isArray:Y,isInArray:re,makeArray:se,each:ue,map:ce,filter:oe,clone:O,attr:L,uuid:Q,camSafeUrlEncode:l,throttleOnProgress:he,getFileSize:ye,getSkewTime:fe,error:me,obj2str:C,getAuth:_,parseSelectPayload:T,getSourceParams:g,isBrowser:!0,isNode:Re,isCIHost:Ee,isIOS_QQ:ke&&be};o.exports=Te}).call(this,r("./node_modules/process/browser.js"))}})})})(cosJsSdkV5);var cosJsSdkV5Exports=cosJsSdkV5.exports;const COS=getDefaultExportFromCjs(cosJsSdkV5Exports);var cryptoJs={exports:{}};function commonjsRequire(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(o,u){(function(r,t){o.exports=t()})(commonjsGlobal,function(){var r=r||function(t,d){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof commonjsGlobal<"u"&&commonjsGlobal.crypto&&(n=commonjsGlobal.crypto),!n&&typeof commonjsRequire=="function")try{n=require$$0}catch{}var m=function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},R=Object.create||function(){function T(){}return function(g){var a;return T.prototype=g,a=new T,T.prototype=null,a}}(),I={},i=I.lib={},l=i.Base=function(){return{extend:function(T){var g=R(this);return T&&g.mixIn(T),(!g.hasOwnProperty("init")||this.init===g.init)&&(g.init=function(){g.$super.init.apply(this,arguments)}),g.init.prototype=g,g.$super=this,g},create:function(){var T=this.extend();return T.init.apply(T,arguments),T},init:function(){},mixIn:function(T){for(var g in T)T.hasOwnProperty(g)&&(this[g]=T[g]);T.hasOwnProperty("toString")&&(this.toString=T.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),w=i.WordArray=l.extend({init:function(T,g){T=this.words=T||[],g!=d?this.sigBytes=g:this.sigBytes=T.length*4},toString:function(T){return(T||S).stringify(this)},concat:function(T){var g=this.words,a=T.words,f=this.sigBytes,H=T.sigBytes;if(this.clamp(),f%4)for(var c=0;c<H;c++){var q=a[c>>>2]>>>24-c%4*8&255;g[f+c>>>2]|=q<<24-(f+c)%4*8}else for(var K=0;K<H;K+=4)g[f+K>>>2]=a[K>>>2];return this.sigBytes+=H,this},clamp:function(){var T=this.words,g=this.sigBytes;T[g>>>2]&=4294967295<<32-g%4*8,T.length=t.ceil(g/4)},clone:function(){var T=l.clone.call(this);return T.words=this.words.slice(0),T},random:function(T){for(var g=[],a=0;a<T;a+=4)g.push(m());return new w.init(g,T)}}),C=I.enc={},S=C.Hex={stringify:function(T){for(var g=T.words,a=T.sigBytes,f=[],H=0;H<a;H++){var c=g[H>>>2]>>>24-H%4*8&255;f.push((c>>>4).toString(16)),f.push((c&15).toString(16))}return f.join("")},parse:function(T){for(var g=T.length,a=[],f=0;f<g;f+=2)a[f>>>3]|=parseInt(T.substr(f,2),16)<<24-f%8*4;return new w.init(a,g/2)}},p=C.Latin1={stringify:function(T){for(var g=T.words,a=T.sigBytes,f=[],H=0;H<a;H++){var c=g[H>>>2]>>>24-H%4*8&255;f.push(String.fromCharCode(c))}return f.join("")},parse:function(T){for(var g=T.length,a=[],f=0;f<g;f++)a[f>>>2]|=(T.charCodeAt(f)&255)<<24-f%4*8;return new w.init(a,g)}},_=C.Utf8={stringify:function(T){try{return decodeURIComponent(escape(p.stringify(T)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(T){return p.parse(unescape(encodeURIComponent(T)))}},D=i.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new w.init,this._nDataBytes=0},_append:function(T){typeof T=="string"&&(T=_.parse(T)),this._data.concat(T),this._nDataBytes+=T.sigBytes},_process:function(T){var g,a=this._data,f=a.words,H=a.sigBytes,c=this.blockSize,q=c*4,K=H/q;T?K=t.ceil(K):K=t.max((K|0)-this._minBufferSize,0);var A=K*c,F=t.min(A*4,H);if(A){for(var O=0;O<A;O+=c)this._doProcessBlock(f,O);g=f.splice(0,A),a.sigBytes-=F}return new w.init(g,F)},clone:function(){var T=l.clone.call(this);return T._data=this._data.clone(),T},_minBufferSize:0});i.Hasher=D.extend({cfg:l.extend(),init:function(T){this.cfg=this.cfg.extend(T),this.reset()},reset:function(){D.reset.call(this),this._doReset()},update:function(T){return this._append(T),this._process(),this},finalize:function(T){T&&this._append(T);var g=this._doFinalize();return g},blockSize:16,_createHelper:function(T){return function(g,a){return new T.init(a).finalize(g)}},_createHmacHelper:function(T){return function(g,a){return new N.HMAC.init(T,a).finalize(g)}}});var N=I.algo={};return I}(Math);return r})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(o,u){(function(r,t){o.exports=t(requireCore())})(commonjsGlobal,function(r){return function(t){var d=r,n=d.lib,m=n.Base,R=n.WordArray,I=d.x64={};I.Word=m.extend({init:function(i,l){this.high=i,this.low=l}}),I.WordArray=m.extend({init:function(i,l){i=this.words=i||[],l!=t?this.sigBytes=l:this.sigBytes=i.length*8},toX32:function(){for(var i=this.words,l=i.length,w=[],C=0;C<l;C++){var S=i[C];w.push(S.high),w.push(S.low)}return R.create(w,this.sigBytes)},clone:function(){for(var i=m.clone.call(this),l=i.words=this.words.slice(0),w=l.length,C=0;C<w;C++)l[C]=l[C].clone();return i}})}(),r})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(o,u){(function(r,t){o.exports=t(requireCore())})(commonjsGlobal,function(r){return function(){if(typeof ArrayBuffer=="function"){var t=r,d=t.lib,n=d.WordArray,m=n.init,R=n.init=function(I){if(I instanceof ArrayBuffer&&(I=new Uint8Array(I)),(I instanceof Int8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)&&(I=new Uint8Array(I.buffer,I.byteOffset,I.byteLength)),I instanceof Uint8Array){for(var i=I.byteLength,l=[],w=0;w<i;w++)l[w>>>2]|=I[w]<<24-w%4*8;m.call(this,l,i)}else m.apply(this,arguments)};R.prototype=n}}(),r.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(o,u){(function(r,t){o.exports=t(requireCore())})(commonjsGlobal,function(r){return function(){var t=r,d=t.lib,n=d.WordArray,m=t.enc;m.Utf16=m.Utf16BE={stringify:function(I){for(var i=I.words,l=I.sigBytes,w=[],C=0;C<l;C+=2){var S=i[C>>>2]>>>16-C%4*8&65535;w.push(String.fromCharCode(S))}return w.join("")},parse:function(I){for(var i=I.length,l=[],w=0;w<i;w++)l[w>>>1]|=I.charCodeAt(w)<<16-w%2*16;return n.create(l,i*2)}},m.Utf16LE={stringify:function(I){for(var i=I.words,l=I.sigBytes,w=[],C=0;C<l;C+=2){var S=R(i[C>>>2]>>>16-C%4*8&65535);w.push(String.fromCharCode(S))}return w.join("")},parse:function(I){for(var i=I.length,l=[],w=0;w<i;w++)l[w>>>1]|=R(I.charCodeAt(w)<<16-w%2*16);return n.create(l,i*2)}};function R(I){return I<<8&4278255360|I>>>8&16711935}}(),r.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(o,u){(function(r,t){o.exports=t(requireCore())})(commonjsGlobal,function(r){return function(){var t=r,d=t.lib,n=d.WordArray,m=t.enc;m.Base64={stringify:function(I){var i=I.words,l=I.sigBytes,w=this._map;I.clamp();for(var C=[],S=0;S<l;S+=3)for(var p=i[S>>>2]>>>24-S%4*8&255,_=i[S+1>>>2]>>>24-(S+1)%4*8&255,D=i[S+2>>>2]>>>24-(S+2)%4*8&255,N=p<<16|_<<8|D,T=0;T<4&&S+T*.75<l;T++)C.push(w.charAt(N>>>6*(3-T)&63));var g=w.charAt(64);if(g)for(;C.length%4;)C.push(g);return C.join("")},parse:function(I){var i=I.length,l=this._map,w=this._reverseMap;if(!w){w=this._reverseMap=[];for(var C=0;C<l.length;C++)w[l.charCodeAt(C)]=C}var S=l.charAt(64);if(S){var p=I.indexOf(S);p!==-1&&(i=p)}return R(I,i,w)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function R(I,i,l){for(var w=[],C=0,S=0;S<i;S++)if(S%4){var p=l[I.charCodeAt(S-1)]<<S%4*2,_=l[I.charCodeAt(S)]>>>6-S%4*2,D=p|_;w[C>>>2]|=D<<24-C%4*8,C++}return n.create(w,C)}}(),r.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(o,u){(function(r,t){o.exports=t(requireCore())})(commonjsGlobal,function(r){return function(){var t=r,d=t.lib,n=d.WordArray,m=t.enc;m.Base64url={stringify:function(I,i=!0){var l=I.words,w=I.sigBytes,C=i?this._safe_map:this._map;I.clamp();for(var S=[],p=0;p<w;p+=3)for(var _=l[p>>>2]>>>24-p%4*8&255,D=l[p+1>>>2]>>>24-(p+1)%4*8&255,N=l[p+2>>>2]>>>24-(p+2)%4*8&255,T=_<<16|D<<8|N,g=0;g<4&&p+g*.75<w;g++)S.push(C.charAt(T>>>6*(3-g)&63));var a=C.charAt(64);if(a)for(;S.length%4;)S.push(a);return S.join("")},parse:function(I,i=!0){var l=I.length,w=i?this._safe_map:this._map,C=this._reverseMap;if(!C){C=this._reverseMap=[];for(var S=0;S<w.length;S++)C[w.charCodeAt(S)]=S}var p=w.charAt(64);if(p){var _=I.indexOf(p);_!==-1&&(l=_)}return R(I,l,C)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function R(I,i,l){for(var w=[],C=0,S=0;S<i;S++)if(S%4){var p=l[I.charCodeAt(S-1)]<<S%4*2,_=l[I.charCodeAt(S)]>>>6-S%4*2,D=p|_;w[C>>>2]|=D<<24-C%4*8,C++}return n.create(w,C)}}(),r.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(o,u){(function(r,t){o.exports=t(requireCore())})(commonjsGlobal,function(r){return function(t){var d=r,n=d.lib,m=n.WordArray,R=n.Hasher,I=d.algo,i=[];(function(){for(var _=0;_<64;_++)i[_]=t.abs(t.sin(_+1))*4294967296|0})();var l=I.MD5=R.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(_,D){for(var N=0;N<16;N++){var T=D+N,g=_[T];_[T]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360}var a=this._hash.words,f=_[D+0],H=_[D+1],c=_[D+2],q=_[D+3],K=_[D+4],A=_[D+5],F=_[D+6],O=_[D+7],L=_[D+8],$=_[D+9],Y=_[D+10],re=_[D+11],se=_[D+12],ue=_[D+13],ce=_[D+14],oe=_[D+15],X=a[0],Q=a[1],ee=a[2],G=a[3];X=w(X,Q,ee,G,f,7,i[0]),G=w(G,X,Q,ee,H,12,i[1]),ee=w(ee,G,X,Q,c,17,i[2]),Q=w(Q,ee,G,X,q,22,i[3]),X=w(X,Q,ee,G,K,7,i[4]),G=w(G,X,Q,ee,A,12,i[5]),ee=w(ee,G,X,Q,F,17,i[6]),Q=w(Q,ee,G,X,O,22,i[7]),X=w(X,Q,ee,G,L,7,i[8]),G=w(G,X,Q,ee,$,12,i[9]),ee=w(ee,G,X,Q,Y,17,i[10]),Q=w(Q,ee,G,X,re,22,i[11]),X=w(X,Q,ee,G,se,7,i[12]),G=w(G,X,Q,ee,ue,12,i[13]),ee=w(ee,G,X,Q,ce,17,i[14]),Q=w(Q,ee,G,X,oe,22,i[15]),X=C(X,Q,ee,G,H,5,i[16]),G=C(G,X,Q,ee,F,9,i[17]),ee=C(ee,G,X,Q,re,14,i[18]),Q=C(Q,ee,G,X,f,20,i[19]),X=C(X,Q,ee,G,A,5,i[20]),G=C(G,X,Q,ee,Y,9,i[21]),ee=C(ee,G,X,Q,oe,14,i[22]),Q=C(Q,ee,G,X,K,20,i[23]),X=C(X,Q,ee,G,$,5,i[24]),G=C(G,X,Q,ee,ce,9,i[25]),ee=C(ee,G,X,Q,q,14,i[26]),Q=C(Q,ee,G,X,L,20,i[27]),X=C(X,Q,ee,G,ue,5,i[28]),G=C(G,X,Q,ee,c,9,i[29]),ee=C(ee,G,X,Q,O,14,i[30]),Q=C(Q,ee,G,X,se,20,i[31]),X=S(X,Q,ee,G,A,4,i[32]),G=S(G,X,Q,ee,L,11,i[33]),ee=S(ee,G,X,Q,re,16,i[34]),Q=S(Q,ee,G,X,ce,23,i[35]),X=S(X,Q,ee,G,H,4,i[36]),G=S(G,X,Q,ee,K,11,i[37]),ee=S(ee,G,X,Q,O,16,i[38]),Q=S(Q,ee,G,X,Y,23,i[39]),X=S(X,Q,ee,G,ue,4,i[40]),G=S(G,X,Q,ee,f,11,i[41]),ee=S(ee,G,X,Q,q,16,i[42]),Q=S(Q,ee,G,X,F,23,i[43]),X=S(X,Q,ee,G,$,4,i[44]),G=S(G,X,Q,ee,se,11,i[45]),ee=S(ee,G,X,Q,oe,16,i[46]),Q=S(Q,ee,G,X,c,23,i[47]),X=p(X,Q,ee,G,f,6,i[48]),G=p(G,X,Q,ee,O,10,i[49]),ee=p(ee,G,X,Q,ce,15,i[50]),Q=p(Q,ee,G,X,A,21,i[51]),X=p(X,Q,ee,G,se,6,i[52]),G=p(G,X,Q,ee,q,10,i[53]),ee=p(ee,G,X,Q,Y,15,i[54]),Q=p(Q,ee,G,X,H,21,i[55]),X=p(X,Q,ee,G,L,6,i[56]),G=p(G,X,Q,ee,oe,10,i[57]),ee=p(ee,G,X,Q,F,15,i[58]),Q=p(Q,ee,G,X,ue,21,i[59]),X=p(X,Q,ee,G,K,6,i[60]),G=p(G,X,Q,ee,re,10,i[61]),ee=p(ee,G,X,Q,c,15,i[62]),Q=p(Q,ee,G,X,$,21,i[63]),a[0]=a[0]+X|0,a[1]=a[1]+Q|0,a[2]=a[2]+ee|0,a[3]=a[3]+G|0},_doFinalize:function(){var _=this._data,D=_.words,N=this._nDataBytes*8,T=_.sigBytes*8;D[T>>>5]|=128<<24-T%32;var g=t.floor(N/4294967296),a=N;D[(T+64>>>9<<4)+15]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,D[(T+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360,_.sigBytes=(D.length+1)*4,this._process();for(var f=this._hash,H=f.words,c=0;c<4;c++){var q=H[c];H[c]=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360}return f},clone:function(){var _=R.clone.call(this);return _._hash=this._hash.clone(),_}});function w(_,D,N,T,g,a,f){var H=_+(D&N|~D&T)+g+f;return(H<<a|H>>>32-a)+D}function C(_,D,N,T,g,a,f){var H=_+(D&T|N&~T)+g+f;return(H<<a|H>>>32-a)+D}function S(_,D,N,T,g,a,f){var H=_+(D^N^T)+g+f;return(H<<a|H>>>32-a)+D}function p(_,D,N,T,g,a,f){var H=_+(N^(D|~T))+g+f;return(H<<a|H>>>32-a)+D}d.MD5=R._createHelper(l),d.HmacMD5=R._createHmacHelper(l)}(Math),r.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(o,u){(function(r,t){o.exports=t(requireCore())})(commonjsGlobal,function(r){return function(){var t=r,d=t.lib,n=d.WordArray,m=d.Hasher,R=t.algo,I=[],i=R.SHA1=m.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,w){for(var C=this._hash.words,S=C[0],p=C[1],_=C[2],D=C[3],N=C[4],T=0;T<80;T++){if(T<16)I[T]=l[w+T]|0;else{var g=I[T-3]^I[T-8]^I[T-14]^I[T-16];I[T]=g<<1|g>>>31}var a=(S<<5|S>>>27)+N+I[T];T<20?a+=(p&_|~p&D)+1518500249:T<40?a+=(p^_^D)+1859775393:T<60?a+=(p&_|p&D|_&D)-1894007588:a+=(p^_^D)-899497514,N=D,D=_,_=p<<30|p>>>2,p=S,S=a}C[0]=C[0]+S|0,C[1]=C[1]+p|0,C[2]=C[2]+_|0,C[3]=C[3]+D|0,C[4]=C[4]+N|0},_doFinalize:function(){var l=this._data,w=l.words,C=this._nDataBytes*8,S=l.sigBytes*8;return w[S>>>5]|=128<<24-S%32,w[(S+64>>>9<<4)+14]=Math.floor(C/4294967296),w[(S+64>>>9<<4)+15]=C,l.sigBytes=w.length*4,this._process(),this._hash},clone:function(){var l=m.clone.call(this);return l._hash=this._hash.clone(),l}});t.SHA1=m._createHelper(i),t.HmacSHA1=m._createHmacHelper(i)}(),r.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(o,u){(function(r,t){o.exports=t(requireCore())})(commonjsGlobal,function(r){return function(t){var d=r,n=d.lib,m=n.WordArray,R=n.Hasher,I=d.algo,i=[],l=[];(function(){function S(N){for(var T=t.sqrt(N),g=2;g<=T;g++)if(!(N%g))return!1;return!0}function p(N){return(N-(N|0))*4294967296|0}for(var _=2,D=0;D<64;)S(_)&&(D<8&&(i[D]=p(t.pow(_,1/2))),l[D]=p(t.pow(_,1/3)),D++),_++})();var w=[],C=I.SHA256=R.extend({_doReset:function(){this._hash=new m.init(i.slice(0))},_doProcessBlock:function(S,p){for(var _=this._hash.words,D=_[0],N=_[1],T=_[2],g=_[3],a=_[4],f=_[5],H=_[6],c=_[7],q=0;q<64;q++){if(q<16)w[q]=S[p+q]|0;else{var K=w[q-15],A=(K<<25|K>>>7)^(K<<14|K>>>18)^K>>>3,F=w[q-2],O=(F<<15|F>>>17)^(F<<13|F>>>19)^F>>>10;w[q]=A+w[q-7]+O+w[q-16]}var L=a&f^~a&H,$=D&N^D&T^N&T,Y=(D<<30|D>>>2)^(D<<19|D>>>13)^(D<<10|D>>>22),re=(a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25),se=c+re+L+l[q]+w[q],ue=Y+$;c=H,H=f,f=a,a=g+se|0,g=T,T=N,N=D,D=se+ue|0}_[0]=_[0]+D|0,_[1]=_[1]+N|0,_[2]=_[2]+T|0,_[3]=_[3]+g|0,_[4]=_[4]+a|0,_[5]=_[5]+f|0,_[6]=_[6]+H|0,_[7]=_[7]+c|0},_doFinalize:function(){var S=this._data,p=S.words,_=this._nDataBytes*8,D=S.sigBytes*8;return p[D>>>5]|=128<<24-D%32,p[(D+64>>>9<<4)+14]=t.floor(_/4294967296),p[(D+64>>>9<<4)+15]=_,S.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var S=R.clone.call(this);return S._hash=this._hash.clone(),S}});d.SHA256=R._createHelper(C),d.HmacSHA256=R._createHmacHelper(C)}(Math),r.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireSha256())})(commonjsGlobal,function(r){return function(){var t=r,d=t.lib,n=d.WordArray,m=t.algo,R=m.SHA256,I=m.SHA224=R.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var i=R._doFinalize.call(this);return i.sigBytes-=4,i}});t.SHA224=R._createHelper(I),t.HmacSHA224=R._createHmacHelper(I)}(),r.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireX64Core())})(commonjsGlobal,function(r){return function(){var t=r,d=t.lib,n=d.Hasher,m=t.x64,R=m.Word,I=m.WordArray,i=t.algo;function l(){return R.create.apply(R,arguments)}var w=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],C=[];(function(){for(var p=0;p<80;p++)C[p]=l()})();var S=i.SHA512=n.extend({_doReset:function(){this._hash=new I.init([new R.init(1779033703,4089235720),new R.init(3144134277,2227873595),new R.init(1013904242,4271175723),new R.init(2773480762,1595750129),new R.init(1359893119,2917565137),new R.init(2600822924,725511199),new R.init(528734635,4215389547),new R.init(1541459225,327033209)])},_doProcessBlock:function(p,_){for(var D=this._hash.words,N=D[0],T=D[1],g=D[2],a=D[3],f=D[4],H=D[5],c=D[6],q=D[7],K=N.high,A=N.low,F=T.high,O=T.low,L=g.high,$=g.low,Y=a.high,re=a.low,se=f.high,ue=f.low,ce=H.high,oe=H.low,X=c.high,Q=c.low,ee=q.high,G=q.low,ie=K,he=A,ye=F,fe=O,me=L,Se=$,Re=Y,Ee=re,ke=se,be=ue,Te=ce,ve=oe,W=X,ne=Q,E=ee,v=G,x=0;x<80;x++){var h,P,V=C[x];if(x<16)P=V.high=p[_+x*2]|0,h=V.low=p[_+x*2+1]|0;else{var J=C[x-15],ae=J.high,ge=J.low,Ce=(ae>>>1|ge<<31)^(ae>>>8|ge<<24)^ae>>>7,de=(ge>>>1|ae<<31)^(ge>>>8|ae<<24)^(ge>>>7|ae<<25),De=C[x-2],_e=De.high,Ue=De.low,He=(_e>>>19|Ue<<13)^(_e<<3|Ue>>>29)^_e>>>6,je=(Ue>>>19|_e<<13)^(Ue<<3|_e>>>29)^(Ue>>>6|_e<<26),Ve=C[x-7],Qe=Ve.high,Xe=Ve.low,Le=C[x-16],We=Le.high,$e=Le.low;h=de+Xe,P=Ce+Qe+(h>>>0<de>>>0?1:0),h=h+je,P=P+He+(h>>>0<je>>>0?1:0),h=h+$e,P=P+We+(h>>>0<$e>>>0?1:0),V.high=P,V.low=h}var nt=ke&Te^~ke&W,Ze=be&ve^~be&ne,et=ie&ye^ie&me^ye&me,y=he&fe^he&Se^fe&Se,k=(ie>>>28|he<<4)^(ie<<30|he>>>2)^(ie<<25|he>>>7),z=(he>>>28|ie<<4)^(he<<30|ie>>>2)^(he<<25|ie>>>7),te=(ke>>>14|be<<18)^(ke>>>18|be<<14)^(ke<<23|be>>>9),xe=(be>>>14|ke<<18)^(be>>>18|ke<<14)^(be<<23|ke>>>9),Ae=w[x],Me=Ae.high,pe=Ae.low,qe=v+xe,Ge=E+te+(qe>>>0<v>>>0?1:0),qe=qe+Ze,Ge=Ge+nt+(qe>>>0<Ze>>>0?1:0),qe=qe+pe,Ge=Ge+Me+(qe>>>0<pe>>>0?1:0),qe=qe+h,Ge=Ge+P+(qe>>>0<h>>>0?1:0),Ye=z+y,e=k+et+(Ye>>>0<z>>>0?1:0);E=W,v=ne,W=Te,ne=ve,Te=ke,ve=be,be=Ee+qe|0,ke=Re+Ge+(be>>>0<Ee>>>0?1:0)|0,Re=me,Ee=Se,me=ye,Se=fe,ye=ie,fe=he,he=qe+Ye|0,ie=Ge+e+(he>>>0<qe>>>0?1:0)|0}A=N.low=A+he,N.high=K+ie+(A>>>0<he>>>0?1:0),O=T.low=O+fe,T.high=F+ye+(O>>>0<fe>>>0?1:0),$=g.low=$+Se,g.high=L+me+($>>>0<Se>>>0?1:0),re=a.low=re+Ee,a.high=Y+Re+(re>>>0<Ee>>>0?1:0),ue=f.low=ue+be,f.high=se+ke+(ue>>>0<be>>>0?1:0),oe=H.low=oe+ve,H.high=ce+Te+(oe>>>0<ve>>>0?1:0),Q=c.low=Q+ne,c.high=X+W+(Q>>>0<ne>>>0?1:0),G=q.low=G+v,q.high=ee+E+(G>>>0<v>>>0?1:0)},_doFinalize:function(){var p=this._data,_=p.words,D=this._nDataBytes*8,N=p.sigBytes*8;_[N>>>5]|=128<<24-N%32,_[(N+128>>>10<<5)+30]=Math.floor(D/4294967296),_[(N+128>>>10<<5)+31]=D,p.sigBytes=_.length*4,this._process();var T=this._hash.toX32();return T},clone:function(){var p=n.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});t.SHA512=n._createHelper(S),t.HmacSHA512=n._createHmacHelper(S)}(),r.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal,function(r){return function(){var t=r,d=t.x64,n=d.Word,m=d.WordArray,R=t.algo,I=R.SHA512,i=R.SHA384=I.extend({_doReset:function(){this._hash=new m.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var l=I._doFinalize.call(this);return l.sigBytes-=16,l}});t.SHA384=I._createHelper(i),t.HmacSHA384=I._createHmacHelper(i)}(),r.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireX64Core())})(commonjsGlobal,function(r){return function(t){var d=r,n=d.lib,m=n.WordArray,R=n.Hasher,I=d.x64,i=I.Word,l=d.algo,w=[],C=[],S=[];(function(){for(var D=1,N=0,T=0;T<24;T++){w[D+5*N]=(T+1)*(T+2)/2%64;var g=N%5,a=(2*D+3*N)%5;D=g,N=a}for(var D=0;D<5;D++)for(var N=0;N<5;N++)C[D+5*N]=N+(2*D+3*N)%5*5;for(var f=1,H=0;H<24;H++){for(var c=0,q=0,K=0;K<7;K++){if(f&1){var A=(1<<K)-1;A<32?q^=1<<A:c^=1<<A-32}f&128?f=f<<1^113:f<<=1}S[H]=i.create(c,q)}})();var p=[];(function(){for(var D=0;D<25;D++)p[D]=i.create()})();var _=l.SHA3=R.extend({cfg:R.cfg.extend({outputLength:512}),_doReset:function(){for(var D=this._state=[],N=0;N<25;N++)D[N]=new i.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(D,N){for(var T=this._state,g=this.blockSize/2,a=0;a<g;a++){var f=D[N+2*a],H=D[N+2*a+1];f=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,H=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360;var c=T[a];c.high^=H,c.low^=f}for(var q=0;q<24;q++){for(var K=0;K<5;K++){for(var A=0,F=0,O=0;O<5;O++){var c=T[K+5*O];A^=c.high,F^=c.low}var L=p[K];L.high=A,L.low=F}for(var K=0;K<5;K++)for(var $=p[(K+4)%5],Y=p[(K+1)%5],re=Y.high,se=Y.low,A=$.high^(re<<1|se>>>31),F=$.low^(se<<1|re>>>31),O=0;O<5;O++){var c=T[K+5*O];c.high^=A,c.low^=F}for(var ue=1;ue<25;ue++){var A,F,c=T[ue],ce=c.high,oe=c.low,X=w[ue];X<32?(A=ce<<X|oe>>>32-X,F=oe<<X|ce>>>32-X):(A=oe<<X-32|ce>>>64-X,F=ce<<X-32|oe>>>64-X);var Q=p[C[ue]];Q.high=A,Q.low=F}var ee=p[0],G=T[0];ee.high=G.high,ee.low=G.low;for(var K=0;K<5;K++)for(var O=0;O<5;O++){var ue=K+5*O,c=T[ue],ie=p[ue],he=p[(K+1)%5+5*O],ye=p[(K+2)%5+5*O];c.high=ie.high^~he.high&ye.high,c.low=ie.low^~he.low&ye.low}var c=T[0],fe=S[q];c.high^=fe.high,c.low^=fe.low}},_doFinalize:function(){var D=this._data,N=D.words;this._nDataBytes*8;var T=D.sigBytes*8,g=this.blockSize*32;N[T>>>5]|=1<<24-T%32,N[(t.ceil((T+1)/g)*g>>>5)-1]|=128,D.sigBytes=N.length*4,this._process();for(var a=this._state,f=this.cfg.outputLength/8,H=f/8,c=[],q=0;q<H;q++){var K=a[q],A=K.high,F=K.low;A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,c.push(F),c.push(A)}return new m.init(c,f)},clone:function(){for(var D=R.clone.call(this),N=D._state=this._state.slice(0),T=0;T<25;T++)N[T]=N[T].clone();return D}});d.SHA3=R._createHelper(_),d.HmacSHA3=R._createHmacHelper(_)}(Math),r.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(o,u){(function(r,t){o.exports=t(requireCore())})(commonjsGlobal,function(r){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(t){var d=r,n=d.lib,m=n.WordArray,R=n.Hasher,I=d.algo,i=m.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=m.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),w=m.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),C=m.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),S=m.create([0,1518500249,1859775393,2400959708,2840853838]),p=m.create([1352829926,1548603684,1836072691,2053994217,0]),_=I.RIPEMD160=R.extend({_doReset:function(){this._hash=m.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(H,c){for(var q=0;q<16;q++){var K=c+q,A=H[K];H[K]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}var F=this._hash.words,O=S.words,L=p.words,$=i.words,Y=l.words,re=w.words,se=C.words,ue,ce,oe,X,Q,ee,G,ie,he,ye;ee=ue=F[0],G=ce=F[1],ie=oe=F[2],he=X=F[3],ye=Q=F[4];for(var fe,q=0;q<80;q+=1)fe=ue+H[c+$[q]]|0,q<16?fe+=D(ce,oe,X)+O[0]:q<32?fe+=N(ce,oe,X)+O[1]:q<48?fe+=T(ce,oe,X)+O[2]:q<64?fe+=g(ce,oe,X)+O[3]:fe+=a(ce,oe,X)+O[4],fe=fe|0,fe=f(fe,re[q]),fe=fe+Q|0,ue=Q,Q=X,X=f(oe,10),oe=ce,ce=fe,fe=ee+H[c+Y[q]]|0,q<16?fe+=a(G,ie,he)+L[0]:q<32?fe+=g(G,ie,he)+L[1]:q<48?fe+=T(G,ie,he)+L[2]:q<64?fe+=N(G,ie,he)+L[3]:fe+=D(G,ie,he)+L[4],fe=fe|0,fe=f(fe,se[q]),fe=fe+ye|0,ee=ye,ye=he,he=f(ie,10),ie=G,G=fe;fe=F[1]+oe+he|0,F[1]=F[2]+X+ye|0,F[2]=F[3]+Q+ee|0,F[3]=F[4]+ue+G|0,F[4]=F[0]+ce+ie|0,F[0]=fe},_doFinalize:function(){var H=this._data,c=H.words,q=this._nDataBytes*8,K=H.sigBytes*8;c[K>>>5]|=128<<24-K%32,c[(K+64>>>9<<4)+14]=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360,H.sigBytes=(c.length+1)*4,this._process();for(var A=this._hash,F=A.words,O=0;O<5;O++){var L=F[O];F[O]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}return A},clone:function(){var H=R.clone.call(this);return H._hash=this._hash.clone(),H}});function D(H,c,q){return H^c^q}function N(H,c,q){return H&c|~H&q}function T(H,c,q){return(H|~c)^q}function g(H,c,q){return H&q|c&~q}function a(H,c,q){return H^(c|~q)}function f(H,c){return H<<c|H>>>32-c}d.RIPEMD160=R._createHelper(_),d.HmacRIPEMD160=R._createHmacHelper(_)}(),r.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(o,u){(function(r,t){o.exports=t(requireCore())})(commonjsGlobal,function(r){(function(){var t=r,d=t.lib,n=d.Base,m=t.enc,R=m.Utf8,I=t.algo;I.HMAC=n.extend({init:function(i,l){i=this._hasher=new i.init,typeof l=="string"&&(l=R.parse(l));var w=i.blockSize,C=w*4;l.sigBytes>C&&(l=i.finalize(l)),l.clamp();for(var S=this._oKey=l.clone(),p=this._iKey=l.clone(),_=S.words,D=p.words,N=0;N<w;N++)_[N]^=1549556828,D[N]^=909522486;S.sigBytes=p.sigBytes=C,this.reset()},reset:function(){var i=this._hasher;i.reset(),i.update(this._iKey)},update:function(i){return this._hasher.update(i),this},finalize:function(i){var l=this._hasher,w=l.finalize(i);l.reset();var C=l.finalize(this._oKey.clone().concat(w));return C}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal,function(r){return function(){var t=r,d=t.lib,n=d.Base,m=d.WordArray,R=t.algo,I=R.SHA1,i=R.HMAC,l=R.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:I,iterations:1}),init:function(w){this.cfg=this.cfg.extend(w)},compute:function(w,C){for(var S=this.cfg,p=i.create(S.hasher,w),_=m.create(),D=m.create([1]),N=_.words,T=D.words,g=S.keySize,a=S.iterations;N.length<g;){var f=p.update(C).finalize(D);p.reset();for(var H=f.words,c=H.length,q=f,K=1;K<a;K++){q=p.finalize(q),p.reset();for(var A=q.words,F=0;F<c;F++)H[F]^=A[F]}_.concat(f),T[0]++}return _.sigBytes=g*4,_}});t.PBKDF2=function(w,C,S){return l.create(S).compute(w,C)}}(),r.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal,function(r){return function(){var t=r,d=t.lib,n=d.Base,m=d.WordArray,R=t.algo,I=R.MD5,i=R.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:I,iterations:1}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,w){for(var C,S=this.cfg,p=S.hasher.create(),_=m.create(),D=_.words,N=S.keySize,T=S.iterations;D.length<N;){C&&p.update(C),C=p.update(l).finalize(w),p.reset();for(var g=1;g<T;g++)C=p.finalize(C),p.reset();_.concat(C)}return _.sigBytes=N*4,_}});t.EvpKDF=function(l,w,C){return i.create(C).compute(l,w)}}(),r.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireEvpkdf())})(commonjsGlobal,function(r){r.lib.Cipher||function(t){var d=r,n=d.lib,m=n.Base,R=n.WordArray,I=n.BufferedBlockAlgorithm,i=d.enc;i.Utf8;var l=i.Base64,w=d.algo,C=w.EvpKDF,S=n.Cipher=I.extend({cfg:m.extend(),createEncryptor:function(A,F){return this.create(this._ENC_XFORM_MODE,A,F)},createDecryptor:function(A,F){return this.create(this._DEC_XFORM_MODE,A,F)},init:function(A,F,O){this.cfg=this.cfg.extend(O),this._xformMode=A,this._key=F,this.reset()},reset:function(){I.reset.call(this),this._doReset()},process:function(A){return this._append(A),this._process()},finalize:function(A){A&&this._append(A);var F=this._doFinalize();return F},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function A(F){return typeof F=="string"?K:H}return function(F){return{encrypt:function(O,L,$){return A(L).encrypt(F,O,L,$)},decrypt:function(O,L,$){return A(L).decrypt(F,O,L,$)}}}}()});n.StreamCipher=S.extend({_doFinalize:function(){var A=this._process(!0);return A},blockSize:1});var p=d.mode={},_=n.BlockCipherMode=m.extend({createEncryptor:function(A,F){return this.Encryptor.create(A,F)},createDecryptor:function(A,F){return this.Decryptor.create(A,F)},init:function(A,F){this._cipher=A,this._iv=F}}),D=p.CBC=function(){var A=_.extend();A.Encryptor=A.extend({processBlock:function(O,L){var $=this._cipher,Y=$.blockSize;F.call(this,O,L,Y),$.encryptBlock(O,L),this._prevBlock=O.slice(L,L+Y)}}),A.Decryptor=A.extend({processBlock:function(O,L){var $=this._cipher,Y=$.blockSize,re=O.slice(L,L+Y);$.decryptBlock(O,L),F.call(this,O,L,Y),this._prevBlock=re}});function F(O,L,$){var Y,re=this._iv;re?(Y=re,this._iv=t):Y=this._prevBlock;for(var se=0;se<$;se++)O[L+se]^=Y[se]}return A}(),N=d.pad={},T=N.Pkcs7={pad:function(A,F){for(var O=F*4,L=O-A.sigBytes%O,$=L<<24|L<<16|L<<8|L,Y=[],re=0;re<L;re+=4)Y.push($);var se=R.create(Y,L);A.concat(se)},unpad:function(A){var F=A.words[A.sigBytes-1>>>2]&255;A.sigBytes-=F}};n.BlockCipher=S.extend({cfg:S.cfg.extend({mode:D,padding:T}),reset:function(){var A;S.reset.call(this);var F=this.cfg,O=F.iv,L=F.mode;this._xformMode==this._ENC_XFORM_MODE?A=L.createEncryptor:(A=L.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==A?this._mode.init(this,O&&O.words):(this._mode=A.call(L,this,O&&O.words),this._mode.__creator=A)},_doProcessBlock:function(A,F){this._mode.processBlock(A,F)},_doFinalize:function(){var A,F=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(F.pad(this._data,this.blockSize),A=this._process(!0)):(A=this._process(!0),F.unpad(A)),A},blockSize:128/32});var g=n.CipherParams=m.extend({init:function(A){this.mixIn(A)},toString:function(A){return(A||this.formatter).stringify(this)}}),a=d.format={},f=a.OpenSSL={stringify:function(A){var F,O=A.ciphertext,L=A.salt;return L?F=R.create([1398893684,1701076831]).concat(L).concat(O):F=O,F.toString(l)},parse:function(A){var F,O=l.parse(A),L=O.words;return L[0]==1398893684&&L[1]==1701076831&&(F=R.create(L.slice(2,4)),L.splice(0,4),O.sigBytes-=16),g.create({ciphertext:O,salt:F})}},H=n.SerializableCipher=m.extend({cfg:m.extend({format:f}),encrypt:function(A,F,O,L){L=this.cfg.extend(L);var $=A.createEncryptor(O,L),Y=$.finalize(F),re=$.cfg;return g.create({ciphertext:Y,key:O,iv:re.iv,algorithm:A,mode:re.mode,padding:re.padding,blockSize:A.blockSize,formatter:L.format})},decrypt:function(A,F,O,L){L=this.cfg.extend(L),F=this._parse(F,L.format);var $=A.createDecryptor(O,L).finalize(F.ciphertext);return $},_parse:function(A,F){return typeof A=="string"?F.parse(A,this):A}}),c=d.kdf={},q=c.OpenSSL={execute:function(A,F,O,L){L||(L=R.random(64/8));var $=C.create({keySize:F+O}).compute(A,L),Y=R.create($.words.slice(F),O*4);return $.sigBytes=F*4,g.create({key:$,iv:Y,salt:L})}},K=n.PasswordBasedCipher=H.extend({cfg:H.cfg.extend({kdf:q}),encrypt:function(A,F,O,L){L=this.cfg.extend(L);var $=L.kdf.execute(O,A.keySize,A.ivSize);L.iv=$.iv;var Y=H.encrypt.call(this,A,F,$.key,L);return Y.mixIn($),Y},decrypt:function(A,F,O,L){L=this.cfg.extend(L),F=this._parse(F,L.format);var $=L.kdf.execute(O,A.keySize,A.ivSize,F.salt);L.iv=$.iv;var Y=H.decrypt.call(this,A,F,$.key,L);return Y}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return r.mode.CFB=function(){var t=r.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(n,m){var R=this._cipher,I=R.blockSize;d.call(this,n,m,I,R),this._prevBlock=n.slice(m,m+I)}}),t.Decryptor=t.extend({processBlock:function(n,m){var R=this._cipher,I=R.blockSize,i=n.slice(m,m+I);d.call(this,n,m,I,R),this._prevBlock=i}});function d(n,m,R,I){var i,l=this._iv;l?(i=l.slice(0),this._iv=void 0):i=this._prevBlock,I.encryptBlock(i,0);for(var w=0;w<R;w++)n[m+w]^=i[w]}return t}(),r.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return r.mode.CTR=function(){var t=r.lib.BlockCipherMode.extend(),d=t.Encryptor=t.extend({processBlock:function(n,m){var R=this._cipher,I=R.blockSize,i=this._iv,l=this._counter;i&&(l=this._counter=i.slice(0),this._iv=void 0);var w=l.slice(0);R.encryptBlock(w,0),l[I-1]=l[I-1]+1|0;for(var C=0;C<I;C++)n[m+C]^=w[C]}});return t.Decryptor=d,t}(),r.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var t=r.lib.BlockCipherMode.extend();function d(R){if((R>>24&255)===255){var I=R>>16&255,i=R>>8&255,l=R&255;I===255?(I=0,i===255?(i=0,l===255?l=0:++l):++i):++I,R=0,R+=I<<16,R+=i<<8,R+=l}else R+=1<<24;return R}function n(R){return(R[0]=d(R[0]))===0&&(R[1]=d(R[1])),R}var m=t.Encryptor=t.extend({processBlock:function(R,I){var i=this._cipher,l=i.blockSize,w=this._iv,C=this._counter;w&&(C=this._counter=w.slice(0),this._iv=void 0),n(C);var S=C.slice(0);i.encryptBlock(S,0);for(var p=0;p<l;p++)R[I+p]^=S[p]}});return t.Decryptor=m,t}(),r.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return r.mode.OFB=function(){var t=r.lib.BlockCipherMode.extend(),d=t.Encryptor=t.extend({processBlock:function(n,m){var R=this._cipher,I=R.blockSize,i=this._iv,l=this._keystream;i&&(l=this._keystream=i.slice(0),this._iv=void 0),R.encryptBlock(l,0);for(var w=0;w<I;w++)n[m+w]^=l[w]}});return t.Decryptor=d,t}(),r.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return r.mode.ECB=function(){var t=r.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(d,n){this._cipher.encryptBlock(d,n)}}),t.Decryptor=t.extend({processBlock:function(d,n){this._cipher.decryptBlock(d,n)}}),t}(),r.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return r.pad.AnsiX923={pad:function(t,d){var n=t.sigBytes,m=d*4,R=m-n%m,I=n+R-1;t.clamp(),t.words[I>>>2]|=R<<24-I%4*8,t.sigBytes+=R},unpad:function(t){var d=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=d}},r.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return r.pad.Iso10126={pad:function(t,d){var n=d*4,m=n-t.sigBytes%n;t.concat(r.lib.WordArray.random(m-1)).concat(r.lib.WordArray.create([m<<24],1))},unpad:function(t){var d=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=d}},r.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return r.pad.Iso97971={pad:function(t,d){t.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(t,d)},unpad:function(t){r.pad.ZeroPadding.unpad(t),t.sigBytes--}},r.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return r.pad.ZeroPadding={pad:function(t,d){var n=d*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var d=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(d[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},r.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return function(t){var d=r,n=d.lib,m=n.CipherParams,R=d.enc,I=R.Hex,i=d.format;i.Hex={stringify:function(l){return l.ciphertext.toString(I)},parse:function(l){var w=I.parse(l);return m.create({ciphertext:w})}}}(),r.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(r){return function(){var t=r,d=t.lib,n=d.BlockCipher,m=t.algo,R=[],I=[],i=[],l=[],w=[],C=[],S=[],p=[],_=[],D=[];(function(){for(var g=[],a=0;a<256;a++)a<128?g[a]=a<<1:g[a]=a<<1^283;for(var f=0,H=0,a=0;a<256;a++){var c=H^H<<1^H<<2^H<<3^H<<4;c=c>>>8^c&255^99,R[f]=c,I[c]=f;var q=g[f],K=g[q],A=g[K],F=g[c]*257^c*16843008;i[f]=F<<24|F>>>8,l[f]=F<<16|F>>>16,w[f]=F<<8|F>>>24,C[f]=F;var F=A*16843009^K*65537^q*257^f*16843008;S[c]=F<<24|F>>>8,p[c]=F<<16|F>>>16,_[c]=F<<8|F>>>24,D[c]=F,f?(f=q^g[g[g[A^q]]],H^=g[g[H]]):f=H=1}})();var N=[0,1,2,4,8,16,32,64,128,27,54],T=m.AES=n.extend({_doReset:function(){var g;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var a=this._keyPriorReset=this._key,f=a.words,H=a.sigBytes/4,c=this._nRounds=H+6,q=(c+1)*4,K=this._keySchedule=[],A=0;A<q;A++)A<H?K[A]=f[A]:(g=K[A-1],A%H?H>6&&A%H==4&&(g=R[g>>>24]<<24|R[g>>>16&255]<<16|R[g>>>8&255]<<8|R[g&255]):(g=g<<8|g>>>24,g=R[g>>>24]<<24|R[g>>>16&255]<<16|R[g>>>8&255]<<8|R[g&255],g^=N[A/H|0]<<24),K[A]=K[A-H]^g);for(var F=this._invKeySchedule=[],O=0;O<q;O++){var A=q-O;if(O%4)var g=K[A];else var g=K[A-4];O<4||A<=4?F[O]=g:F[O]=S[R[g>>>24]]^p[R[g>>>16&255]]^_[R[g>>>8&255]]^D[R[g&255]]}}},encryptBlock:function(g,a){this._doCryptBlock(g,a,this._keySchedule,i,l,w,C,R)},decryptBlock:function(g,a){var f=g[a+1];g[a+1]=g[a+3],g[a+3]=f,this._doCryptBlock(g,a,this._invKeySchedule,S,p,_,D,I);var f=g[a+1];g[a+1]=g[a+3],g[a+3]=f},_doCryptBlock:function(g,a,f,H,c,q,K,A){for(var F=this._nRounds,O=g[a]^f[0],L=g[a+1]^f[1],$=g[a+2]^f[2],Y=g[a+3]^f[3],re=4,se=1;se<F;se++){var ue=H[O>>>24]^c[L>>>16&255]^q[$>>>8&255]^K[Y&255]^f[re++],ce=H[L>>>24]^c[$>>>16&255]^q[Y>>>8&255]^K[O&255]^f[re++],oe=H[$>>>24]^c[Y>>>16&255]^q[O>>>8&255]^K[L&255]^f[re++],X=H[Y>>>24]^c[O>>>16&255]^q[L>>>8&255]^K[$&255]^f[re++];O=ue,L=ce,$=oe,Y=X}var ue=(A[O>>>24]<<24|A[L>>>16&255]<<16|A[$>>>8&255]<<8|A[Y&255])^f[re++],ce=(A[L>>>24]<<24|A[$>>>16&255]<<16|A[Y>>>8&255]<<8|A[O&255])^f[re++],oe=(A[$>>>24]<<24|A[Y>>>16&255]<<16|A[O>>>8&255]<<8|A[L&255])^f[re++],X=(A[Y>>>24]<<24|A[O>>>16&255]<<16|A[L>>>8&255]<<8|A[$&255])^f[re++];g[a]=ue,g[a+1]=ce,g[a+2]=oe,g[a+3]=X},keySize:256/32});t.AES=n._createHelper(T)}(),r.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(r){return function(){var t=r,d=t.lib,n=d.WordArray,m=d.BlockCipher,R=t.algo,I=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],i=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],w=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],C=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],S=R.DES=m.extend({_doReset:function(){for(var N=this._key,T=N.words,g=[],a=0;a<56;a++){var f=I[a]-1;g[a]=T[f>>>5]>>>31-f%32&1}for(var H=this._subKeys=[],c=0;c<16;c++){for(var q=H[c]=[],K=l[c],a=0;a<24;a++)q[a/6|0]|=g[(i[a]-1+K)%28]<<31-a%6,q[4+(a/6|0)]|=g[28+(i[a+24]-1+K)%28]<<31-a%6;q[0]=q[0]<<1|q[0]>>>31;for(var a=1;a<7;a++)q[a]=q[a]>>>(a-1)*4+3;q[7]=q[7]<<5|q[7]>>>27}for(var A=this._invSubKeys=[],a=0;a<16;a++)A[a]=H[15-a]},encryptBlock:function(N,T){this._doCryptBlock(N,T,this._subKeys)},decryptBlock:function(N,T){this._doCryptBlock(N,T,this._invSubKeys)},_doCryptBlock:function(N,T,g){this._lBlock=N[T],this._rBlock=N[T+1],p.call(this,4,252645135),p.call(this,16,65535),_.call(this,2,858993459),_.call(this,8,16711935),p.call(this,1,1431655765);for(var a=0;a<16;a++){for(var f=g[a],H=this._lBlock,c=this._rBlock,q=0,K=0;K<8;K++)q|=w[K][((c^f[K])&C[K])>>>0];this._lBlock=c,this._rBlock=H^q}var A=this._lBlock;this._lBlock=this._rBlock,this._rBlock=A,p.call(this,1,1431655765),_.call(this,8,16711935),_.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),N[T]=this._lBlock,N[T+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(N,T){var g=(this._lBlock>>>N^this._rBlock)&T;this._rBlock^=g,this._lBlock^=g<<N}function _(N,T){var g=(this._rBlock>>>N^this._lBlock)&T;this._lBlock^=g,this._rBlock^=g<<N}t.DES=m._createHelper(S);var D=R.TripleDES=m.extend({_doReset:function(){var N=this._key,T=N.words;if(T.length!==2&&T.length!==4&&T.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var g=T.slice(0,2),a=T.length<4?T.slice(0,2):T.slice(2,4),f=T.length<6?T.slice(0,2):T.slice(4,6);this._des1=S.createEncryptor(n.create(g)),this._des2=S.createEncryptor(n.create(a)),this._des3=S.createEncryptor(n.create(f))},encryptBlock:function(N,T){this._des1.encryptBlock(N,T),this._des2.decryptBlock(N,T),this._des3.encryptBlock(N,T)},decryptBlock:function(N,T){this._des3.decryptBlock(N,T),this._des2.encryptBlock(N,T),this._des1.decryptBlock(N,T)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=m._createHelper(D)}(),r.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(r){return function(){var t=r,d=t.lib,n=d.StreamCipher,m=t.algo,R=m.RC4=n.extend({_doReset:function(){for(var l=this._key,w=l.words,C=l.sigBytes,S=this._S=[],p=0;p<256;p++)S[p]=p;for(var p=0,_=0;p<256;p++){var D=p%C,N=w[D>>>2]>>>24-D%4*8&255;_=(_+S[p]+N)%256;var T=S[p];S[p]=S[_],S[_]=T}this._i=this._j=0},_doProcessBlock:function(l,w){l[w]^=I.call(this)},keySize:256/32,ivSize:0});function I(){for(var l=this._S,w=this._i,C=this._j,S=0,p=0;p<4;p++){w=(w+1)%256,C=(C+l[w])%256;var _=l[w];l[w]=l[C],l[C]=_,S|=l[(l[w]+l[C])%256]<<24-p*8}return this._i=w,this._j=C,S}t.RC4=n._createHelper(R);var i=m.RC4Drop=R.extend({cfg:R.cfg.extend({drop:192}),_doReset:function(){R._doReset.call(this);for(var l=this.cfg.drop;l>0;l--)I.call(this)}});t.RC4Drop=n._createHelper(i)}(),r.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(r){return function(){var t=r,d=t.lib,n=d.StreamCipher,m=t.algo,R=[],I=[],i=[],l=m.Rabbit=n.extend({_doReset:function(){for(var C=this._key.words,S=this.cfg.iv,p=0;p<4;p++)C[p]=(C[p]<<8|C[p]>>>24)&16711935|(C[p]<<24|C[p]>>>8)&4278255360;var _=this._X=[C[0],C[3]<<16|C[2]>>>16,C[1],C[0]<<16|C[3]>>>16,C[2],C[1]<<16|C[0]>>>16,C[3],C[2]<<16|C[1]>>>16],D=this._C=[C[2]<<16|C[2]>>>16,C[0]&4294901760|C[1]&65535,C[3]<<16|C[3]>>>16,C[1]&4294901760|C[2]&65535,C[0]<<16|C[0]>>>16,C[2]&4294901760|C[3]&65535,C[1]<<16|C[1]>>>16,C[3]&4294901760|C[0]&65535];this._b=0;for(var p=0;p<4;p++)w.call(this);for(var p=0;p<8;p++)D[p]^=_[p+4&7];if(S){var N=S.words,T=N[0],g=N[1],a=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,f=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,H=a>>>16|f&4294901760,c=f<<16|a&65535;D[0]^=a,D[1]^=H,D[2]^=f,D[3]^=c,D[4]^=a,D[5]^=H,D[6]^=f,D[7]^=c;for(var p=0;p<4;p++)w.call(this)}},_doProcessBlock:function(C,S){var p=this._X;w.call(this),R[0]=p[0]^p[5]>>>16^p[3]<<16,R[1]=p[2]^p[7]>>>16^p[5]<<16,R[2]=p[4]^p[1]>>>16^p[7]<<16,R[3]=p[6]^p[3]>>>16^p[1]<<16;for(var _=0;_<4;_++)R[_]=(R[_]<<8|R[_]>>>24)&16711935|(R[_]<<24|R[_]>>>8)&4278255360,C[S+_]^=R[_]},blockSize:128/32,ivSize:64/32});function w(){for(var C=this._X,S=this._C,p=0;p<8;p++)I[p]=S[p];S[0]=S[0]+1295307597+this._b|0,S[1]=S[1]+3545052371+(S[0]>>>0<I[0]>>>0?1:0)|0,S[2]=S[2]+886263092+(S[1]>>>0<I[1]>>>0?1:0)|0,S[3]=S[3]+1295307597+(S[2]>>>0<I[2]>>>0?1:0)|0,S[4]=S[4]+3545052371+(S[3]>>>0<I[3]>>>0?1:0)|0,S[5]=S[5]+886263092+(S[4]>>>0<I[4]>>>0?1:0)|0,S[6]=S[6]+1295307597+(S[5]>>>0<I[5]>>>0?1:0)|0,S[7]=S[7]+3545052371+(S[6]>>>0<I[6]>>>0?1:0)|0,this._b=S[7]>>>0<I[7]>>>0?1:0;for(var p=0;p<8;p++){var _=C[p]+S[p],D=_&65535,N=_>>>16,T=((D*D>>>17)+D*N>>>15)+N*N,g=((_&4294901760)*_|0)+((_&65535)*_|0);i[p]=T^g}C[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,C[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,C[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,C[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,C[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,C[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,C[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,C[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}t.Rabbit=n._createHelper(l)}(),r.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(r){return function(){var t=r,d=t.lib,n=d.StreamCipher,m=t.algo,R=[],I=[],i=[],l=m.RabbitLegacy=n.extend({_doReset:function(){var C=this._key.words,S=this.cfg.iv,p=this._X=[C[0],C[3]<<16|C[2]>>>16,C[1],C[0]<<16|C[3]>>>16,C[2],C[1]<<16|C[0]>>>16,C[3],C[2]<<16|C[1]>>>16],_=this._C=[C[2]<<16|C[2]>>>16,C[0]&4294901760|C[1]&65535,C[3]<<16|C[3]>>>16,C[1]&4294901760|C[2]&65535,C[0]<<16|C[0]>>>16,C[2]&4294901760|C[3]&65535,C[1]<<16|C[1]>>>16,C[3]&4294901760|C[0]&65535];this._b=0;for(var D=0;D<4;D++)w.call(this);for(var D=0;D<8;D++)_[D]^=p[D+4&7];if(S){var N=S.words,T=N[0],g=N[1],a=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,f=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,H=a>>>16|f&4294901760,c=f<<16|a&65535;_[0]^=a,_[1]^=H,_[2]^=f,_[3]^=c,_[4]^=a,_[5]^=H,_[6]^=f,_[7]^=c;for(var D=0;D<4;D++)w.call(this)}},_doProcessBlock:function(C,S){var p=this._X;w.call(this),R[0]=p[0]^p[5]>>>16^p[3]<<16,R[1]=p[2]^p[7]>>>16^p[5]<<16,R[2]=p[4]^p[1]>>>16^p[7]<<16,R[3]=p[6]^p[3]>>>16^p[1]<<16;for(var _=0;_<4;_++)R[_]=(R[_]<<8|R[_]>>>24)&16711935|(R[_]<<24|R[_]>>>8)&4278255360,C[S+_]^=R[_]},blockSize:128/32,ivSize:64/32});function w(){for(var C=this._X,S=this._C,p=0;p<8;p++)I[p]=S[p];S[0]=S[0]+1295307597+this._b|0,S[1]=S[1]+3545052371+(S[0]>>>0<I[0]>>>0?1:0)|0,S[2]=S[2]+886263092+(S[1]>>>0<I[1]>>>0?1:0)|0,S[3]=S[3]+1295307597+(S[2]>>>0<I[2]>>>0?1:0)|0,S[4]=S[4]+3545052371+(S[3]>>>0<I[3]>>>0?1:0)|0,S[5]=S[5]+886263092+(S[4]>>>0<I[4]>>>0?1:0)|0,S[6]=S[6]+1295307597+(S[5]>>>0<I[5]>>>0?1:0)|0,S[7]=S[7]+3545052371+(S[6]>>>0<I[6]>>>0?1:0)|0,this._b=S[7]>>>0<I[7]>>>0?1:0;for(var p=0;p<8;p++){var _=C[p]+S[p],D=_&65535,N=_>>>16,T=((D*D>>>17)+D*N>>>15)+N*N,g=((_&4294901760)*_|0)+((_&65535)*_|0);i[p]=T^g}C[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,C[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,C[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,C[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,C[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,C[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,C[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,C[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}t.RabbitLegacy=n._createHelper(l)}(),r.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}(function(o,u){(function(r,t,d){o.exports=t(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy())})(commonjsGlobal,function(r){return r})})(cryptoJs);var cryptoJsExports=cryptoJs.exports;const CryptoJS=getDefaultExportFromCjs(cryptoJsExports),SECRET_KEY=CryptoJS.enc.Utf8.parse("SqJiGf3bGTddiTle"),SECRET_IV=CryptoJS.enc.Utf8.parse("KM8DB2h9lROUeZBX");function decrypt(o){if(!o)return"";try{let u=CryptoJS.enc.Base64.parse(o);const r=CryptoJS.enc.Base64.stringify(u);return CryptoJS.AES.decrypt(r,SECRET_KEY,{iv:SECRET_IV,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.ZeroPadding}).toString(CryptoJS.enc.Utf8).toString()}catch{return o}}const cos=new COS({SecretId:decrypt("uzL4TyKLmra2qOFVKhtm4Wa6dB0kKQ40RzgaYWt+icXtm1pkfVaB2iJE4S8jILhc"),SecretKey:decrypt("abXZc8glazcy8/vegYYl+deAZtLwLU0vNQEaQPXjDzY=")}),Bucket="toby607-1317049696",Region="ap-guangzhou";function getImage(o){return new Promise((u,r)=>{cos.getBucket({Bucket,Region,Prefix:o,Delimiter:"/"}).then(t=>{const d=[".jpg",".png",".gif","jpeg","webp"],n=t.Contents.filter(m=>d.some(R=>m.Key.toLowerCase().endsWith(R))).map(m=>(m.image=`https://${Bucket}.cos.${Region}.myqcloud.com/${m.Key}`,m)).sort((m,R)=>new Date(R.LastModified)-new Date(m.LastModified));u({CommonPrefixes:t.CommonPrefixes,imageList:n,Prefix:t.Prefix})}).catch(t=>{r(t)})})}function uploadImageToCos(o,u){return new Promise((r,t)=>{cos.putObject({Bucket,Region,Key:u+o.name,Body:o}).then(d=>{r({...d,Key:u+o.name})}).catch(d=>{t(d)})})}function deleteImageFromCos(o){return new Promise((u,r)=>{cos.deleteObject({Bucket,Region,Key:o}).then(t=>{u({...t,Key:o})}).catch(t=>{r(t)})})}function deleteFolderFromCos(o){return new Promise((u,r)=>{cos.getBucket({Bucket,Region,Prefix:o}).then(t=>t.Contents.map(d=>({Key:d.Key}))).then(t=>cos.deleteMultipleObject({Bucket,Region,Objects:t})).then(t=>{u(t)}).catch(t=>{r(t)})})}function createFolderInCos(o,u){return new Promise((r,t)=>{cos.putObject({Bucket,Region,Key:o+u+"/",Body:""}).then(d=>{r({...d,Prefix:o+u+"/"})}).catch(d=>{t(d)})})}function tryOnScopeDispose(o){return getCurrentScope()?(onScopeDispose(o),!0):!1}const isClient=typeof window<"u";function createFilterWrapper(o,u){function r(...t){o(()=>u.apply(this,t),{fn:u,thisArg:this,args:t})}return r}function debounceFilter(o,u={}){let r,t;return n=>{const m=unref(o),R=unref(u.maxWait);if(r&&clearTimeout(r),m<=0||R!==void 0&&R<=0)return t&&(clearTimeout(t),t=null),n();R&&!t&&(t=setTimeout(()=>{r&&clearTimeout(r),t=null,n()},R)),r=setTimeout(()=>{t&&clearTimeout(t),t=null,n()},m)}}function useDebounceFn(o,u=200,r={}){return createFilterWrapper(debounceFilter(u,r),o)}function unrefElement(o){var u;const r=unref(o);return(u=r==null?void 0:r.$el)!=null?u:r}const defaultWindow=isClient?window:void 0,_global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};var __getOwnPropSymbols$c=Object.getOwnPropertySymbols,__hasOwnProp$c=Object.prototype.hasOwnProperty,__propIsEnum$c=Object.prototype.propertyIsEnumerable,__objRest$2=(o,u)=>{var r={};for(var t in o)__hasOwnProp$c.call(o,t)&&u.indexOf(t)<0&&(r[t]=o[t]);if(o!=null&&__getOwnPropSymbols$c)for(var t of __getOwnPropSymbols$c(o))u.indexOf(t)<0&&__propIsEnum$c.call(o,t)&&(r[t]=o[t]);return r};function useResizeObserver(o,u,r={}){const t=r,{window:d=defaultWindow}=t,n=__objRest$2(t,["window"]);let m;const R=d&&"ResizeObserver"in d,I=()=>{m&&(m.disconnect(),m=void 0)},i=watch(()=>unrefElement(o),w=>{I(),R&&d&&w&&(m=new ResizeObserver(u),m.observe(w,n))},{immediate:!0,flush:"post"}),l=()=>{I(),i()};return tryOnScopeDispose(l),{isSupported:R,stop:l}}var _a,_b;isClient&&(window!=null&&window.navigator)&&((_a=window==null?void 0:window.navigator)!=null&&_a.platform)&&/iP(ad|hone|od)/.test((_b=window==null?void 0:window.navigator)==null?void 0:_b.platform);const getItemWidth=({breakpoints:o,wrapperWidth:u,gutter:r,hasAroundGutter:t,initWidth:d})=>{const n=Object.keys(o).map(i=>Number(i)).sort((i,l)=>i-l);let m=u,R=!1;for(const i of n)if(u<=i){m=i,R=!0;break}if(!R)return d;const I=o[m].rowPerView;return t?(u-r)/I-r:(u-(I-1)*r)/I};function useCalculateCols(o){const u=ref(0),r=ref(null);useResizeObserver(r,m=>{const R=m[0],{width:I}=R.contentRect;u.value=I});const t=computed(()=>getItemWidth({wrapperWidth:u.value,breakpoints:o.breakpoints,gutter:o.gutter,hasAroundGutter:o.hasAroundGutter,initWidth:o.width})),d=computed(()=>{const m=o.hasAroundGutter?-o.gutter:o.gutter;return Math.floor((u.value+m)/(t.value+o.gutter))}),n=computed(()=>{const m=o.hasAroundGutter?o.gutter:-o.gutter,R=d.value*(t.value+o.gutter)+m;return(u.value-R)/2});return{waterfallWrapper:r,wrapperWidth:u,colWidth:t,cols:d,offsetX:n}}function hasClass(o,u){return new RegExp(`(^|\\s)${u}(\\s|$)`).test(o.className)}function addClass(o,u){if(hasClass(o,u))return;const r=o.className.split(/\s+/);r.push(u),o.className=r.join(" ")}const elementStyle=document.createElement("div").style,vendor=(()=>{const o={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(const u in o){const r=o[u];if(elementStyle[r]!==void 0)return u}return!1})();function prefixStyle(o){return vendor===!1?!1:vendor==="standard"?o:vendor+o.charAt(0).toUpperCase()+o.substr(1)}const transform=prefixStyle("transform"),duration=prefixStyle("animation-duration"),delay=prefixStyle("animation-delay"),transition=prefixStyle("transition"),fillMode=prefixStyle("animation-fill-mode");function useLayout(o,u,r,t,d){const n=ref([]),m=ref(0),R=w=>{const C=o.hasAroundGutter?w+1:w;return o.gutter*C+u.value*w+t.value},I=()=>{n.value=new Array(r.value).fill(o.hasAroundGutter?o.gutter:0)},i=addAnimation(o);return{wrapperHeight:m,layoutHandle:async()=>{I();const w=[];if(d&&d.value&&d.value.childNodes.forEach(C=>{C.className==="waterfall-item"&&w.push(C)}),w.length===0)return!1;for(let C=0;C<w.length;C++){const S=w[C],p=Math.min.apply(null,n.value),_=n.value.indexOf(p),D=R(_),N=S.style;transform&&(N[transform]=`translate3d(${D}px,${p}px, 0)`),N.width=`${u.value}px`;const{height:T}=S.getBoundingClientRect();n.value[_]+=T+o.gutter,i(S,()=>{transition&&(N[transition]="transform .3s")})}m.value=Math.max.apply(null,n.value)}}}function addAnimation(o){return(u,r)=>{const t=u.firstChild;if(t&&!hasClass(t,o.animationPrefix)){const d=`${o.animationDuration/1e3}s`,n=`${o.animationDelay/1e3}s`,m=t.style;m.visibility="visible",duration&&(m[duration]=d),delay&&(m[delay]=n),fillMode&&(m[fillMode]="both"),addClass(t,o.animationPrefix),addClass(t,o.animationEffect),r&&setTimeout(()=>{r()},o.animationDuration+o.animationDelay)}}}const inBrowser=typeof window<"u"&&window!==null,hasIntersectionObserver=checkIntersectionObserver(),isEnumerable=Object.prototype.propertyIsEnumerable,getSymbols=Object.getOwnPropertySymbols;function getValue(o,...u){return u.map(t=>t.replace(/\[(\w+)\]/g,".$1").split(".").reduce((d,n)=>d&&d[n],o))}function checkIntersectionObserver(){return inBrowser&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}function isObject(o){return typeof o=="function"||toString.call(o)==="[object Object]"}function isPrimitive(o){return typeof o=="object"?o===null:typeof o!="function"}function isValidKey(o){return o!=="__proto__"&&o!=="constructor"&&o!=="prototype"}function assignSymbols(o,...u){if(!isObject(o))throw new TypeError("expected the first argument to be an object");if(u.length===0||typeof Symbol!="function"||typeof getSymbols!="function")return o;for(const r of u){const t=getSymbols(r);for(const d of t)isEnumerable.call(r,d)&&(o[d]=r[d])}return o}function assign(o,...u){let r=0;for(isPrimitive(o)&&(o=u[r++]),o||(o={});r<u.length;r++)if(isObject(u[r])){for(const t of Object.keys(u[r]))isValidKey(t)&&(isObject(o[t])&&isObject(u[r][t])?assign(o[t],u[r][t]):o[t]=u[r][t]);assignSymbols(o,u[r])}return o}function loadImage(o,u){return new Promise((r,t)=>{const d=new Image;d.onload=()=>{r(d)},d.onerror=()=>{t(new Error("Image load error"))},u&&(d.crossOrigin="Anonymous"),d.src=o})}const DEFAULT_OBSERVER_OPTIONS={rootMargin:"0px",threshold:0},DEFAULT_LOADING="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",DEFAULT_ERROR="";class Lazy{constructor(u=!0,r,t=!0){this.lazyActive=!0,this.crossOrigin=!0,this.options={loading:DEFAULT_LOADING,error:DEFAULT_ERROR,observerOptions:DEFAULT_OBSERVER_OPTIONS,log:!0},this._images=new WeakMap,this.lazyActive=u,this.crossOrigin=t,this.config(r)}config(u={}){assign(this.options,u)}mount(u,r,t){const{src:d,loading:n,error:m}=this._valueFormatter(r);u.setAttribute("lazy","loading"),u.setAttribute("src",n||DEFAULT_LOADING),this.lazyActive?(hasIntersectionObserver||(this._setImageSrc(u,d,t,m),this._log(()=>{throw new Error("Not support IntersectionObserver!")})),this._initIntersectionObserver(u,d,t,m)):this._setImageSrc(u,d,t,m)}resize(u,r){const t=u.getAttribute("lazy"),d=u.getAttribute("src");t&&t==="loaded"&&d&&loadImage(d,this.crossOrigin).then(n=>{const{width:m,height:R}=n,I=u.width/m*R;u.height=I;const i=u.style;i.height=`${I}px`,r()})}unmount(u){const r=this._realObserver(u);r&&r.unobserve(u),this._images.delete(u)}_setImageSrc(u,r,t,d){!r||u.getAttribute("src")===r||loadImage(r,this.crossOrigin).then(m=>{const{width:R,height:I}=m,i=I/R,l=u.parentNode.parentNode;l.style.paddingBottom=`${i*100}%`,u.setAttribute("lazy","loaded"),u.removeAttribute("src"),u.setAttribute("src",r),t()}).catch(()=>{const m=this._realObserver(u);m&&m.disconnect(),d&&(u.setAttribute("lazy","error"),u.setAttribute("src",d)),this._log(()=>{throw new Error(`Image failed to load!And failed src was: ${r} `)}),t()})}_isOpenLazy(){return hasIntersectionObserver&&this.lazyActive}_initIntersectionObserver(u,r,t,d){const n=this.options.observerOptions;this._images.set(u,new IntersectionObserver(R=>{Array.prototype.forEach.call(R,I=>{if(I.isIntersecting){const i=this._realObserver(u);i&&i.unobserve(I.target),this._setImageSrc(u,r,t,d)}})},n));const m=this._realObserver(u);m&&m.observe(u)}_valueFormatter(u){let r=u,t=this.options.loading,d=this.options.error;return isObject(u)&&(r=u.src,t=u.loading||this.options.loading,d=u.error||this.options.error),{src:r,loading:t,error:d}}_log(u){this.options.log&&u()}_realObserver(u){return this._images.get(u)}}var _export_sfc=(o,u)=>{const r=o.__vccOpts||o;for(const[t,d]of u)r[t]=d;return r};const __default__=defineComponent({props:{list:{type:Array,default:()=>[]},rowKey:{type:String,default:"id"},imgSelector:{type:String,default:"src"},width:{type:Number,default:200},breakpoints:{type:Object,default:()=>({1200:{rowPerView:3},800:{rowPerView:2},500:{rowPerView:1}})},gutter:{type:Number,default:10},hasAroundGutter:{type:Boolean,default:!0},animationPrefix:{type:String,default:"animate__animated"},animationEffect:{type:String,default:"fadeIn"},animationDuration:{type:Number,default:1e3},animationDelay:{type:Number,default:300},backgroundColor:{type:String,default:"#fff"},lazyload:{type:Boolean,default:!0},loadProps:{type:Object,default:()=>{}},crossOrigin:{type:Boolean,default:!0},delay:{type:Number,default:300}},setup(o){const u=new Lazy(o.lazyload,o.loadProps,o.crossOrigin);provide("lazy",u);const{waterfallWrapper:r,wrapperWidth:t,colWidth:d,cols:n,offsetX:m}=useCalculateCols(o),{wrapperHeight:R,layoutHandle:I}=useLayout(o,d,n,m,r),i=useDebounceFn(()=>{I()},o.delay);watch(()=>[t,d,o.list],()=>{i()},{deep:!0});const l=ref(0);return provide("sizeChangeTime",l),provide("imgLoaded",i),{waterfallWrapper:r,wrapperHeight:R,getRenderURL:S=>getValue(S,o.imgSelector)[0],getKey:(S,p)=>S[o.rowKey]||p}}}),__injectCSSVars__=()=>{useCssVars(o=>({e0bdcc92:o.backgroundColor}))},__setup__=__default__.setup;__default__.setup=__setup__?(o,u)=>(__injectCSSVars__(),__setup__(o,u)):__injectCSSVars__;const _sfc_main$1=__default__,_hoisted_1$1={class:"waterfall-card"};function _sfc_render$1(o,u,r,t,d,n){return openBlock(),createElementBlock("div",{ref:"waterfallWrapper",class:"waterfall-list",style:normalizeStyle({height:`${o.wrapperHeight}px`})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.list,(m,R)=>(openBlock(),createElementBlock("div",{key:o.getKey(m,R),class:"waterfall-item"},[createBaseVNode("div",_hoisted_1$1,[renderSlot(o.$slots,"item",{item:m,index:R,url:o.getRenderURL(m)},void 0,!0)])]))),128))],4)}var Waterfall=_export_sfc(_sfc_main$1,[["render",_sfc_render$1],["__scopeId","data-v-585fbbe9"]]);const _sfc_main$2=defineComponent({props:{url:{type:String,default:""}},setup(o){const u=inject("imgLoaded"),r=inject("lazy"),t=ref(null);onMounted(()=>{d()}),onUnmounted(()=>{n()});function d(){t.value&&r.mount(t.value,o.url,()=>{u()})}function n(){t.value&&r.unmount(t.value)}return{lazyRef:t}}}),_hoisted_1$2={class:"lazy__box"},_hoisted_2$1={class:"lazy__resource"},_hoisted_3$1={ref:"lazyRef",class:"lazy__img"};function _sfc_render(o,u,r,t,d,n){return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("img",_hoisted_3$1,null,512)])])}var LazyImg=_export_sfc(_sfc_main$2,[["render",_sfc_render],["__scopeId","data-v-5a384790"]]);const style="",_hoisted_1={class:"sticky"},_hoisted_2={class:"card"},_hoisted_3=["onClick"],_hoisted_4=["onClick"],_hoisted_5={key:1,class:"boxImg"},_hoisted_6=["onClick"],_sfc_main=defineComponent({__name:"everydayPicture",setup(o){const u=ref([]),r=ref(!1),t=ref(!1),d=ref(!1),n={1200:{rowPerView:4},800:{rowPerView:3},500:{rowPerView:2}},m=ref("images/blogs/"),R=S=>{r.value=!0,t.value=!0,getImage(S).then(p=>{const{CommonPrefixes:_,imageList:D,Prefix:N}=p;m.value=N,N.split("/").filter(g=>g.trim()).length>1&&(d.value=!0),u.value=[..._,...D]}).catch(p=>{ElMessage({showClose:!0,message:p,type:"error"})}).finally(()=>{r.value=!1,t.value=!1})},I=()=>{console.log(m.value);const S=m.value.split("/").filter(p=>p.trim()).slice(0,-1).join("/")+"/";R(S)},i=S=>{const p=S.split("/");return p[p.length-2]},l=S=>{const{file:{size:p,name:_}}=S,D=p/1024/1024<=10;if(!/\.jpeg|jpg|.png|.gif|.webp$/g.test(_.toLowerCase())){ElMessage({showClose:!0,message:"请上传 jpeg/jpg/png/webp 格式的图片",type:"error"});return}if(!D){ElMessage({showClose:!0,message:"文件大小超过 10MB 的限制！",type:"error"});return}uploadImageToCos(S.file,m.value).then(T=>{R(m.value)}).catch(T=>{ElMessage({showClose:!0,message:T,type:"error"})})},w=(S,p,_)=>{let D="",N="";_==="Prefix"?(D="删除操作会同时删除文件夹下所有文件，删除后数据不可恢复和访问。",N=`确定删除文件夹${i(S)}吗？`):(D="确定删除当前图片?",N="提示"),ElMessageBox.confirm(D,N,{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",distinguishCancelAndClose:!0}).then(()=>(r.value=!0,_==="Prefix"?deleteFolderFromCos(S):deleteImageFromCos(S))).then(()=>{const T=window.scrollY||document.documentElement.scrollTop,g=u.value.filter((a,f)=>{if(f!==p)return a});u.value=[],setTimeout(()=>{u.value=[...g],nextTick(()=>{window.scrollTo(0,T)})},0)}).catch(T=>{["close","cancel"].includes(T)||ElMessage({showClose:!0,message:T,type:"error"})}).finally(()=>{r.value=!1})},C=()=>{ElMessageBox.prompt("请输入文件夹名称","",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/^(?!\s*$).+/,inputErrorMessage:"请输入文件夹名称",distinguishCancelAndClose:!0}).then(({value:S})=>createFolderInCos(m.value,S)).then(S=>{u.value.splice(0,0,S)}).catch(S=>{["close","cancel"].includes(S)||ElMessage({showClose:!0,message:S,type:"error"})}).finally(()=>{r.value=!1})};return onMounted(()=>{R(m.value)}),(S,p)=>{const _=resolveComponent("el-button"),D=resolveComponent("el-upload"),N=resolveComponent("el-empty"),T=resolveComponent("el-icon"),g=resolveComponent("SvgIcon"),a=resolveDirective("loading");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1,[d.value?(openBlock(),createBlock(_,{key:0,type:"primary",round:"",icon:unref(back_default),onClick:p[0]||(p[0]=f=>I())},{default:withCtx(()=>[createTextVNode("返回上一级")]),_:1},8,["icon"])):createCommentVNode("v-if",!0),createVNode(_,{round:"",icon:unref(upload_default)},{default:withCtx(()=>[createVNode(D,{action:"","show-file-list":!1,"http-request":l,multiple:""},{default:withCtx(()=>[createTextVNode(" 上传图片 ")]),_:1})]),_:1},8,["icon"]),createVNode(_,{round:"",icon:unref(document_add_default),onClick:p[1]||(p[1]=f=>C())},{default:withCtx(()=>[createTextVNode("新建文件夹")]),_:1},8,["icon"])]),u.value.length?createCommentVNode("v-if",!0):(openBlock(),createBlock(N,{key:0,description:"NO Data"})),withDirectives((openBlock(),createElementBlock("div",null,[t.value?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(Waterfall),{key:0,list:u.value,breakpoints:n},{item:withCtx(({item:f,index:H})=>[createBaseVNode("div",_hoisted_2,[f.Prefix?(openBlock(),createElementBlock("div",{key:0,class:"connent",onClick:c=>R(f.Prefix)},[createBaseVNode("div",{class:"boxImg-del",onClick:withModifiers(c=>w(f.Prefix,H,"Prefix"),["stop"])},[createVNode(T,{color:"#fff"},{default:withCtx(()=>[createVNode(unref(delete_default))]),_:1})],8,_hoisted_4),createVNode(g,{name:"T-wenjianjia",size:60}),createBaseVNode("div",null,toDisplayString(i(f.Prefix)),1)],8,_hoisted_3)):(openBlock(),createElementBlock("div",_hoisted_5,[createBaseVNode("div",{class:"boxImg-del",onClick:c=>w(f.Key,H,"Key")},[createVNode(T,{color:"#fff"},{default:withCtx(()=>[createVNode(unref(delete_default))]),_:1})],8,_hoisted_6),createVNode(unref(LazyImg),{url:f.image+"?compress20"},null,8,["url"]),createCommentVNode(' <p class="text">这是具体内容</p> ')]))])]),_:1},8,["list"]))])),[[a,r.value]])],64)}}}),everydayPicture_vue_vue_type_style_index_0_scoped_af3853f5_lang="",everydayPicture=_export_sfc$1(_sfc_main,[["__scopeId","data-v-af3853f5"],["__file","everydayPicture.vue"]]);export{everydayPicture as default};
