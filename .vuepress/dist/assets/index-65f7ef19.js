import{J as y,v as m,k as f,l as x,a6 as k,s as B,r as L,o,c as n,P as T,Y as P,u as s,a as t,a7 as C,A as D,j as i,t as R,d as A,_ as I}from"./app-c87b2fda.js";import{u as N}from"./useThemeData-cad72294.js";import"./Badge.vue_vue_type_style_index_0_lang-4ed993c7.js";import"./Xicons.vue_vue_type_style_index_0_lang-4ed993c7.js";import"./CodeGroup.vue_vue_type_style_index_0_lang-4ed993c7.js";import"./VuePreview.vue_vue_type_style_index_0_lang-4ed993c7.js";import"./CodeGroupItem.vue_vue_type_style_index_0_lang-d567d721.js";function S(){const u=y(),r=N(),a=m(()=>r.value.logo),l=m(()=>u.value.title),c=m(()=>{const e=r.value.password;return e?Array.isArray(e)?e:[e]:[]});return{siteBrandLogo:a,siteBrandTitle:l,sitePassword:c}}function V(u,r){const a=f(""),l=f(null),c=f("Locked"),e=f("请输入密码");return x(a,d=>{d.length===6&&(u.value.includes(k(k(d)))?(c.value="Unlocked",e.value="密码正确，请重稍后！",setTimeout(()=>{r("pass")},600)):(a.value="",e.value="密码错误，请重新输入！"))}),{password:a,passwordRef:l,lockIcon:c,lockText:e,focus:()=>{l.value.focus()}}}const U={class:"password-wrapper"},X={class:"site-info"},j=["src","alt"],E={key:1,class:"site-name"},H={key:0},J={key:0},M={key:0},Y={key:0},b={key:0},q={key:0},z=B({__name:"index",emits:["pass"],setup(u,{emit:r}){const{siteBrandLogo:a,siteBrandTitle:l,sitePassword:c}=S(),{password:e,passwordRef:v,lockIcon:d,lockText:w,focus:h}=V(c,r);return(F,p)=>{const g=L("Xicons");return o(),n("div",U,[T(t("input",{maxlength:"6",type:"password",ref_key:"passwordRef",ref:v,"onUpdate:modelValue":p[0]||(p[0]=_=>C(e)?e.value=_:null)},null,512),[[P,s(e)]]),t("div",X,[s(a)?(o(),n("img",{key:0,class:"logo",src:s(D)(s(a)),alt:s(l)},null,8,j)):i("v-if",!0),s(l)?(o(),n("h1",E,R(s(l)),1)):i("v-if",!0)]),t("div",null,[A(g,{icon:s(d),text:s(w)},null,8,["icon","text"])]),t("ul",{class:"password-show",onClick:p[1]||(p[1]=(..._)=>s(h)&&s(h)(..._))},[t("li",null,[s(e).length>0?(o(),n("i",H)):i("v-if",!0)]),t("li",null,[s(e).length>1?(o(),n("i",J)):i("v-if",!0)]),t("li",null,[s(e).length>2?(o(),n("i",M)):i("v-if",!0)]),t("li",null,[s(e).length>3?(o(),n("i",Y)):i("v-if",!0)]),t("li",null,[s(e).length>4?(o(),n("i",b)):i("v-if",!0)]),t("li",null,[s(e).length>5?(o(),n("i",q)):i("v-if",!0)])])])}}}),ee=I(z,[["__file","index.vue"]]);export{ee as default};
