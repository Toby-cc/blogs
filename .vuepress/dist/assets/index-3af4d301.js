import{O as y,x as m,l as p,m as x,S as k,v as B,a as T,o,c as n,M as L,N as C,q as s,f as t,T as D,B as N,k as i,t as P,b as R,_ as S}from"./app-2f935e7f.js";import{a as I}from"./useThemeData-501fc615.js";import"./Badge.vue_vue_type_style_index_0_lang-4ed993c7.js";import"./Xicons.vue_vue_type_style_index_0_lang-4ed993c7.js";import"./CodeGroup.vue_vue_type_style_index_0_lang-4ed993c7.js";import"./VuePreview.vue_vue_type_style_index_0_lang-4ed993c7.js";import"./CodeGroupItem.vue_vue_type_style_index_0_lang-9a4cd01e.js";function V(){const u=y(),r=I(),l=m(()=>r.value.logo),a=m(()=>u.value.title),c=m(()=>{const e=r.value.password;return e?Array.isArray(e)?e:[e]:[]});return{siteBrandLogo:l,siteBrandTitle:a,sitePassword:c}}function A(u,r){const l=p(""),a=p(null),c=p("Locked"),e=p("请输入密码");return x(l,d=>{d.length===6&&(u.value.includes(k(k(d)))?(c.value="Unlocked",e.value="密码正确，请重稍后！",setTimeout(()=>{r("pass")},600)):(l.value="",e.value="密码错误，请重新输入！"))}),{password:l,passwordRef:a,lockIcon:c,lockText:e,focus:()=>{a.value.focus()}}}const M={class:"password-wrapper"},U={class:"site-info"},X=["src","alt"],b={key:1,class:"site-name"},q={key:0},E={key:0},H={key:0},O={key:0},j={key:0},z={key:0},F=B({__name:"index",emits:["pass"],setup(u,{emit:r}){const{siteBrandLogo:l,siteBrandTitle:a,sitePassword:c}=V(),{password:e,passwordRef:v,lockIcon:d,lockText:w,focus:h}=A(c,r);return(G,f)=>{const g=T("Xicons");return o(),n("div",M,[L(t("input",{maxlength:"6",type:"password",ref_key:"passwordRef",ref:v,"onUpdate:modelValue":f[0]||(f[0]=_=>D(e)?e.value=_:null)},null,512),[[C,s(e)]]),t("div",U,[s(l)?(o(),n("img",{key:0,class:"logo",src:s(N)(s(l)),alt:s(a)},null,8,X)):i("v-if",!0),s(a)?(o(),n("h1",b,P(s(a)),1)):i("v-if",!0)]),t("div",null,[R(g,{icon:s(d),text:s(w)},null,8,["icon","text"])]),t("ul",{class:"password-show",onClick:f[1]||(f[1]=(..._)=>s(h)&&s(h)(..._))},[t("li",null,[s(e).length>0?(o(),n("i",q)):i("v-if",!0)]),t("li",null,[s(e).length>1?(o(),n("i",E)):i("v-if",!0)]),t("li",null,[s(e).length>2?(o(),n("i",H)):i("v-if",!0)]),t("li",null,[s(e).length>3?(o(),n("i",O)):i("v-if",!0)]),t("li",null,[s(e).length>4?(o(),n("i",j)):i("v-if",!0)]),t("li",null,[s(e).length>5?(o(),n("i",z)):i("v-if",!0)])])])}}}),ee=S(F,[["__file","index.vue"]]);export{ee as default};
