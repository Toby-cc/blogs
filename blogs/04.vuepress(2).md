---
title: 从零开始的 Vuepress2.X (二)
date: 2023/3/21
lastUpdated: true
description: 
  name: （二）使用社区主题美化Vuepress
  detailShow: true
editLink: false
tags:
  - Vuepress2.X
categories:
  - 前端
prev:
  text: 搭建Vuepress项目
  link: /docs/vuepress_1/
next:
  text: 使用 Element-Plus 组件库
  link: /docs/vuepress_3/
permalink: /docs/vuepress_2/
---
<el-collapse>
  <el-collapse-item class="catalogue">
      <template #title>
        <span>目录</span>
        <SvgIcon name="T-a-22" :size="20"/>
      </template>
    <div class="catalogue-content">
      <SvgIcon name="T-jiantou_xiangyouliangci" :size="20"/><RouterLink to="/docs/vuepress_1/">(1) 搭建Vuepress项目</RouterLink><br/>
      <SvgIcon name="T-dangqianweizhi" :size="20"/><RouterLink to="/docs/vuepress_2/">(2) 使用社区主题和插件</RouterLink><br/>
      <SvgIcon name="T-jiantou_xiangyouliangci" :size="20"/><RouterLink to="/docs/vuepress_3/">(3) 使用 Element-Plus 组件库</RouterLink><br/>
      <SvgIcon name="T-jiantou_xiangyouliangci" :size="20"/><RouterLink to="/docs/vuepress_4/">(4) 使用阿里巴巴图标</RouterLink><br/>
      <SvgIcon name="T-jiantou_xiangyouliangci" :size="20"/><RouterLink to="/docs/vuepress_5/">(5) 部署 VuePress</RouterLink><br/>
    </div>
  </el-collapse-item>
</el-collapse>

::: tip 前言
前面我们已经实现了博客的基本功能<br/>
不过如果想要博客更丰富一点，我们就要加入主题和插件
:::

## 1、加入主题

> 我使用的主题是 [vuepress-theme-reco](http://v2.vuepress-reco.recoluan.com/)，一款简洁的 vuepress 博客 & 文档 主题。

### 1.1 安装主题

:::: code-group
::: code-group-item YARN
  ```bash
  yarn add vuepress@next vuepress-theme-reco@next
  ```
:::
::: code-group-item NPM
  ```bash
  npm install vuepress@next vuepress-theme-reco@next --save-dev
  ```
:::
::::

### 1.2 引入主题
> 主题增加了许多丰富的元素<br/>
Vuepress原有的配置除了把 左侧边栏（sideBar） 被更改为 系列（series）外，其他的配置都没有变化

在.vuepress/config.ts 下引入主题
```bash
import { recoTheme } from 'vuepress-theme-reco'


export default {
  theme: recoTheme({
    logo: '', // 导航栏头像
    author: "Toby", // 博客主人的名字
    authorAvatar: "", // 博客主人的头像
    primaryColor: '#3aa675', // 自定义主题的基础色
    navbar: [], // head 标签
    series: [], // 侧边栏
    catalogTitle: '自定义文档目录标题',
    algolia: {}, // 搜索功能
    bulletin: {} // 公告
    valineConfig: {}, // 评论
    ...
  })
}
```
<DynamicBorder>
更多配置可参考 <el-link href="http://v2.vuepress-reco.recoluan.com/docs/theme/frontmatter-home.html" target="_blank">vuepress-reco主题配置</el-link>
</DynamicBorder>

### 1.3 效果

<el-carousel :interval="4000" type="card">
  <el-carousel-item>
    <el-image  class="imageBorder" style="height: 100%;" src="https://toby607-1317049696.cos.ap-guangzhou.myqcloud.com/images/blogs/202303221852527.png/compress50"/>
  </el-carousel-item>
  <el-carousel-item>
    <el-image  class="imageBorder" style="height: 100%;" src="https://toby607-1317049696.cos.ap-guangzhou.myqcloud.com/images/blogs/202303221905989.png/compress50" />
  </el-carousel-item>
  <el-carousel-item>
    <el-image  class="imageBorder" style="height: 100%;" src="https://toby607-1317049696.cos.ap-guangzhou.myqcloud.com/images/blogs/202303221905558.png/compress50"/>
  </el-carousel-item>
</el-carousel>

### 1.4 其他
除了 [vuepress-theme-reco](http://v2.vuepress-reco.recoluan.com/) 这个主题，还有 [vuepress-theme-hope](https://theme-hope.vuejs.press/zh/) 也是个不错的主题。除此之外还有其他的一些主题，或者也可以通过自定义[开发自己的主题](https://v2.vuepress.vuejs.org/zh/advanced/theme.html)，有兴趣的小伙伴可以自己去研究一下。

## 2、使用插件
:::tip
VuePress 插件可以为你提供各种不同的功能。<br/>
社区用户创建了很多插件，并将它们发布到了 [NPM](https://www.npmjs.com/search?q=keywords:vuepress-plugin) 上。<br/>
VuePress 团队也在 [@vuepress](https://www.npmjs.com/search?q=%40vuepress%20keywords%3Aplugin) Scope 下维护了一些官方插件。<br/>
或者也可以自定义[开发自己的插件](https://v2.vuepress.vuejs.org/zh/advanced/plugin.html)
:::
> 插件有两种
### 2.1 插件的引入方法(一)
可以导入插件并通过配置文件的 plugins 配置项来使用它。
```js
// .vuepress/config.ts
import { googleAnalyticsPlugin } from '@vuepress/plugin-google-analytics'

export default {
  plugins: [
    googleAnalyticsPlugin({
      id: 'G-XXXXXXXXXX'
    }),
  ],
}
```

### 2.2 插件的引入方法(二)
配置客户端文件client.{js,ts} <br/>
在.vuepress中新建 client 文件
```bash
├─ .vuepress
│  └─ client.js  <--- 客户端配置文件
│  └─ config.js  <--- 配置文件
│
```
```js
// .vuepress/client.js
import { defineClientConfig } from '@vuepress/client'

export default defineClientConfig({
  // 挂载Vue实例
  enhance({ app, router, siteData }){},
  // 根组件的 setup
  setup(){},
  // 全局的 UI 组件数组
  rootComponents: [],
})
```
### 2.3 实例
在 .vuepress/components 下有个名为 Demo.vue 的组件
```bash
├─ .vuepress
│  └─ components  <--- 用于存放 vue 组件
│     └─ Demo.vue  
│
```
::: warning
因为在该目录下的文件不会被自动注册为 Vue 组件。<br/>
所以如果我想在 Markdown 里面引入 Demo 组件 <SvgIcon name="ele-Bottom" :size="20"/><br/>
:::
- (1) 可以在 plugins 引入:
```js
// .vuepress/config.ts
import { registerComponentsPlugin } from '@vuepress/plugin-register-components' // 导入组件库
import { getDirname,path } from '@vuepress/utils'
const __dirname = getDirname(import.meta.url)

export default {
  plugins: [
    registerComponentsPlugin({ // 配置项
      // 挂载 .vuepress/components 下所有vue组件
      componentsDir: path.resolve(__dirname, './components'),
    }),
  ],
}
```

- (2) 可以在 client 中配置
```js
// .vuepress/config.ts
import { defineClientConfig  } from '@vuepress/client'// 导入组件库
import { onMounted } from 'vue'
import Demo from './components/Demo.vue'

export default defineClientConfig({
  // 挂载Vue实例
  enhance({ app, router, siteData }){
    // 注册 Demo 实例
    app.component('Demo', Demo)
  },
  // 根组件的 setup
  setup(){
    onMounted(() => {
      addEventListener('click', e => {
        console.log('点击事件');
      })
    })
  },
  // 全局的 UI 组件数组
  rootComponents: [
    // 挂载 Demo 全局组件
    // Demo
  ],
})
```

在 docs/test2 中使用 Demo 组件
```bash
---
title: test2
date: 2023/3/1
tags:
  - css
categories:
  - 测试组件
---

<div>我是test2</div>
我引入了：
<Demo></Demo>

```

看看效果：

<p align="center">
<img width="500" class="imageBorder" src="https://toby607-1317049696.cos.ap-guangzhou.myqcloud.com/images/blogs/202303231409693.png/compress50"/>
</p>